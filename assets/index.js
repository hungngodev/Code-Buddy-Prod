function Bx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function IR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var Ux={exports:{}},Lh={},$x={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),kR=Symbol.for("react.portal"),AR=Symbol.for("react.fragment"),DR=Symbol.for("react.strict_mode"),MR=Symbol.for("react.profiler"),OR=Symbol.for("react.provider"),VR=Symbol.for("react.context"),NR=Symbol.for("react.forward_ref"),LR=Symbol.for("react.suspense"),FR=Symbol.for("react.memo"),zR=Symbol.for("react.lazy"),f0=Symbol.iterator;function jR(t){return t===null||typeof t!="object"?null:(t=f0&&t[f0]||t["@@iterator"],typeof t=="function"?t:null)}var Hx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qx=Object.assign,Wx={};function ta(t,e,n){this.props=t,this.context=e,this.refs=Wx,this.updater=n||Hx}ta.prototype.isReactComponent={};ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kx(){}Kx.prototype=ta.prototype;function rg(t,e,n){this.props=t,this.context=e,this.refs=Wx,this.updater=n||Hx}var sg=rg.prototype=new Kx;sg.constructor=rg;qx(sg,ta.prototype);sg.isPureReactComponent=!0;var p0=Array.isArray,Gx=Object.prototype.hasOwnProperty,og={current:null},Qx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Gx.call(e,i)&&!Qx.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Jl,type:t,key:s,ref:o,props:r,_owner:og.current}}function BR(t,e){return{$$typeof:Jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ag(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jl}function UR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m0=/\/+/g;function Zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UR(""+t.key):e.toString(36)}function xc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jl:case kR:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Zd(o,0):i,p0(r)?(n="",t!=null&&(n=t.replace(m0,"$&/")+"/"),xc(r,e,n,"",function(c){return c})):r!=null&&(ag(r)&&(r=BR(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(m0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",p0(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Zd(s,a);o+=xc(s,e,n,l,r)}else if(l=jR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Zd(s,a++),o+=xc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nu(t,e,n){if(t==null)return t;var i=[],r=0;return xc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function $R(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Ec={transition:null},HR={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Ec,ReactCurrentOwner:og};function Xx(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Nu,forEach:function(t,e,n){Nu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nu(t,function(){e++}),e},toArray:function(t){return Nu(t,function(e){return e})||[]},only:function(t){if(!ag(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=ta;le.Fragment=AR;le.Profiler=MR;le.PureComponent=rg;le.StrictMode=DR;le.Suspense=LR;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HR;le.act=Xx;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=qx({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=og.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Gx.call(e,l)&&!Qx.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Jl,type:t.type,key:r,ref:s,props:i,_owner:o}};le.createContext=function(t){return t={$$typeof:VR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OR,_context:t},t.Consumer=t};le.createElement=Yx;le.createFactory=function(t){var e=Yx.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:NR,render:t}};le.isValidElement=ag;le.lazy=function(t){return{$$typeof:zR,_payload:{_status:-1,_result:t},_init:$R}};le.memo=function(t,e){return{$$typeof:FR,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Ec.transition;Ec.transition={};try{t()}finally{Ec.transition=e}};le.unstable_act=Xx;le.useCallback=function(t,e){return Ht.current.useCallback(t,e)};le.useContext=function(t){return Ht.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};le.useEffect=function(t,e){return Ht.current.useEffect(t,e)};le.useId=function(){return Ht.current.useId()};le.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Ht.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};le.useRef=function(t){return Ht.current.useRef(t)};le.useState=function(t){return Ht.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Ht.current.useTransition()};le.version="18.3.1";$x.exports=le;var z=$x.exports;const L=Bx(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qR=z,WR=Symbol.for("react.element"),KR=Symbol.for("react.fragment"),GR=Object.prototype.hasOwnProperty,QR=qR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YR={key:!0,ref:!0,__self:!0,__source:!0};function Jx(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)GR.call(e,i)&&!YR.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:WR,type:t,key:s,ref:o,props:r,_owner:QR.current}}Lh.Fragment=KR;Lh.jsx=Jx;Lh.jsxs=Jx;Ux.exports=Lh;var O=Ux.exports,Zx={exports:{}},vn={},eE={exports:{}},tE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,q){var te=F.length;F.push(q);e:for(;0<te;){var Z=te-1>>>1,Y=F[Z];if(0<r(Y,q))F[Z]=q,F[te]=Y,te=Z;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var q=F[0],te=F.pop();if(te!==q){F[0]=te;e:for(var Z=0,Y=F.length,ie=Y>>>1;Z<ie;){var We=2*(Z+1)-1,at=F[We],ve=We+1,nn=F[ve];if(0>r(at,te))ve<Y&&0>r(nn,at)?(F[Z]=nn,F[ve]=te,Z=ve):(F[Z]=at,F[We]=te,Z=We);else if(ve<Y&&0>r(nn,te))F[Z]=nn,F[ve]=te,Z=ve;else break e}}return q}function r(F,q){var te=F.sortIndex-q.sortIndex;return te!==0?te:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,m=!1,w=!1,_=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(F){for(var q=n(c);q!==null;){if(q.callback===null)i(c);else if(q.startTime<=F)i(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function C(F){if(_=!1,v(F),!w)if(n(l)!==null)w=!0,ge(A);else{var q=n(c);q!==null&&ke(C,q.startTime-F)}}function A(F,q){w=!1,_&&(_=!1,x(E),E=-1),m=!0;var te=f;try{for(v(q),d=n(l);d!==null&&(!(d.expirationTime>q)||F&&!k());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,f=d.priorityLevel;var Y=Z(d.expirationTime<=q);q=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&i(l),v(q)}else i(l);d=n(l)}if(d!==null)var ie=!0;else{var We=n(c);We!==null&&ke(C,We.startTime-q),ie=!1}return ie}finally{d=null,f=te,m=!1}}var M=!1,T=null,E=-1,b=5,P=-1;function k(){return!(t.unstable_now()-P<b)}function D(){if(T!==null){var F=t.unstable_now();P=F;var q=!0;try{q=T(!0,F)}finally{q?I():(M=!1,T=null)}}else M=!1}var I;if(typeof y=="function")I=function(){y(D)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=D,I=function(){J.postMessage(null)}}else I=function(){R(D,0)};function ge(F){T=F,M||(M=!0,I())}function ke(F,q){E=R(function(){F(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,ge(A))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var te=f;f=q;try{return F()}finally{f=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var te=f;f=F;try{return q()}finally{f=te}},t.unstable_scheduleCallback=function(F,q,te){var Z=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Z+te:Z):te=Z,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=te+Y,F={id:h++,callback:q,priorityLevel:F,startTime:te,expirationTime:Y,sortIndex:-1},te>Z?(F.sortIndex=te,e(c,F),n(l)===null&&F===n(c)&&(_?(x(E),E=-1):_=!0,ke(C,te-Z))):(F.sortIndex=Y,e(l,F),w||m||(w=!0,ge(A))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var q=f;return function(){var te=f;f=q;try{return F.apply(this,arguments)}finally{f=te}}}})(tE);eE.exports=tE;var XR=eE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=z,gn=XR;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nE=new Set,vl={};function Is(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(vl[t]=e,t=0;t<e.length;t++)nE.add(e[t])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gp=Object.prototype.hasOwnProperty,ZR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g0={},y0={};function eI(t){return gp.call(y0,t)?!0:gp.call(g0,t)?!1:ZR.test(t)?y0[t]=!0:(g0[t]=!0,!1)}function tI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nI(t,e,n,i){if(e===null||typeof e>"u"||tI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var lg=/[\-:]([a-z])/g;function ug(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lg,ug);gt[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lg,ug);gt[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lg,ug);gt[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function cg(t,e,n,i){var r=gt.hasOwnProperty(e)?gt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nI(e,n,r,i)&&(n=null),i||r===null?eI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var $i=JR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),Ys=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),hg=Symbol.for("react.strict_mode"),yp=Symbol.for("react.profiler"),iE=Symbol.for("react.provider"),rE=Symbol.for("react.context"),dg=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),wp=Symbol.for("react.suspense_list"),fg=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),sE=Symbol.for("react.offscreen"),v0=Symbol.iterator;function Ca(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,ef;function Ha(t){if(ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ef=e&&e[1]||""}return`
`+ef+t}var tf=!1;function nf(t,e){if(!t||tf)return"";tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ha(t):""}function iI(t){switch(t.tag){case 5:return Ha(t.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 2:case 15:return t=nf(t.type,!1),t;case 11:return t=nf(t.type.render,!1),t;case 1:return t=nf(t.type,!0),t;default:return""}}function _p(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xs:return"Fragment";case Ys:return"Portal";case yp:return"Profiler";case hg:return"StrictMode";case vp:return"Suspense";case wp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rE:return(t.displayName||"Context")+".Consumer";case iE:return(t._context.displayName||"Context")+".Provider";case dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fg:return e=t.displayName||null,e!==null?e:_p(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return _p(t(e))}catch{}}return null}function rI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _p(e);case 8:return e===hg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sI(t){var e=oE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fu(t){t._valueTracker||(t._valueTracker=sI(t))}function aE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=oE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function qc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xp(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lE(t,e){e=e.checked,e!=null&&cg(t,"checked",e,!1)}function Ep(t,e){lE(t,e);var n=xr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tp(t,e.type,xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tp(t,e,n){(e!=="number"||qc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qa=Array.isArray;function vo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+xr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(qa(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xr(n)}}function uE(t,e){var n=xr(e.value),i=xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function E0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zu,hE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zu=zu||document.createElement("div"),zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oI=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){oI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function dE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function fE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=dE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var aI=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(t,e){if(e){if(aI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Pp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=null;function pg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ip=null,wo=null,_o=null;function T0(t){if(t=tu(t)){if(typeof Ip!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Uh(e),Ip(t.stateNode,t.type,e))}}function pE(t){wo?_o?_o.push(t):_o=[t]:wo=t}function mE(){if(wo){var t=wo,e=_o;if(_o=wo=null,T0(t),e)for(t=0;t<e.length;t++)T0(e[t])}}function gE(t,e){return t(e)}function yE(){}var rf=!1;function vE(t,e,n){if(rf)return t(e,n);rf=!0;try{return gE(t,e,n)}finally{rf=!1,(wo!==null||_o!==null)&&(yE(),mE())}}function _l(t,e){var n=t.stateNode;if(n===null)return null;var i=Uh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var kp=!1;if(Vi)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){kp=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{kp=!1}function lI(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var tl=!1,Wc=null,Kc=!1,Ap=null,uI={onError:function(t){tl=!0,Wc=t}};function cI(t,e,n,i,r,s,o,a,l){tl=!1,Wc=null,lI.apply(uI,arguments)}function hI(t,e,n,i,r,s,o,a,l){if(cI.apply(this,arguments),tl){if(tl){var c=Wc;tl=!1,Wc=null}else throw Error(U(198));Kc||(Kc=!0,Ap=c)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S0(t){if(ks(t)!==t)throw Error(U(188))}function dI(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return S0(r),t;if(s===i)return S0(r),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function _E(t){return t=dI(t),t!==null?xE(t):null}function xE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xE(t);if(e!==null)return e;t=t.sibling}return null}var EE=gn.unstable_scheduleCallback,b0=gn.unstable_cancelCallback,fI=gn.unstable_shouldYield,pI=gn.unstable_requestPaint,He=gn.unstable_now,mI=gn.unstable_getCurrentPriorityLevel,mg=gn.unstable_ImmediatePriority,TE=gn.unstable_UserBlockingPriority,Gc=gn.unstable_NormalPriority,gI=gn.unstable_LowPriority,SE=gn.unstable_IdlePriority,Fh=null,si=null;function yI(t){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Fh,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:_I,vI=Math.log,wI=Math.LN2;function _I(t){return t>>>=0,t===0?32:31-(vI(t)/wI|0)|0}var ju=64,Bu=4194304;function Wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Wa(a):(s&=o,s!==0&&(i=Wa(s)))}else o=n&~r,o!==0?i=Wa(o):s!==0&&(i=Wa(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-$n(e),r=1<<n,i|=t[n],e&=~r;return i}function xI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EI(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$n(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=xI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Dp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bE(){var t=ju;return ju<<=1,!(ju&4194240)&&(ju=64),t}function sf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function TI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-$n(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function gg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-$n(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var xe=0;function CE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PE,yg,RE,IE,kE,Mp=!1,Uu=[],ur=null,cr=null,hr=null,xl=new Map,El=new Map,nr=[],SI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(e.pointerId)}}function Ra(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=tu(e),e!==null&&yg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function bI(t,e,n,i,r){switch(e){case"focusin":return ur=Ra(ur,t,e,n,i,r),!0;case"dragenter":return cr=Ra(cr,t,e,n,i,r),!0;case"mouseover":return hr=Ra(hr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return xl.set(s,Ra(xl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,El.set(s,Ra(El.get(s)||null,t,e,n,i,r)),!0}return!1}function AE(t){var e=ns(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=wE(n),e!==null){t.blockedOn=e,kE(t.priority,function(){RE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Rp=i,n.target.dispatchEvent(i),Rp=null}else return e=tu(n),e!==null&&yg(e),t.blockedOn=n,!1;e.shift()}return!0}function P0(t,e,n){Tc(t)&&n.delete(e)}function CI(){Mp=!1,ur!==null&&Tc(ur)&&(ur=null),cr!==null&&Tc(cr)&&(cr=null),hr!==null&&Tc(hr)&&(hr=null),xl.forEach(P0),El.forEach(P0)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,Mp||(Mp=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,CI)))}function Tl(t){function e(r){return Ia(r,t)}if(0<Uu.length){Ia(Uu[0],t);for(var n=1;n<Uu.length;n++){var i=Uu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ur!==null&&Ia(ur,t),cr!==null&&Ia(cr,t),hr!==null&&Ia(hr,t),xl.forEach(e),El.forEach(e),n=0;n<nr.length;n++)i=nr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<nr.length&&(n=nr[0],n.blockedOn===null);)AE(n),n.blockedOn===null&&nr.shift()}var xo=$i.ReactCurrentBatchConfig,Yc=!0;function PI(t,e,n,i){var r=xe,s=xo.transition;xo.transition=null;try{xe=1,vg(t,e,n,i)}finally{xe=r,xo.transition=s}}function RI(t,e,n,i){var r=xe,s=xo.transition;xo.transition=null;try{xe=4,vg(t,e,n,i)}finally{xe=r,xo.transition=s}}function vg(t,e,n,i){if(Yc){var r=Op(t,e,n,i);if(r===null)mf(t,e,i,Xc,n),C0(t,i);else if(bI(r,t,e,n,i))i.stopPropagation();else if(C0(t,i),e&4&&-1<SI.indexOf(t)){for(;r!==null;){var s=tu(r);if(s!==null&&PE(s),s=Op(t,e,n,i),s===null&&mf(t,e,i,Xc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else mf(t,e,i,null,n)}}var Xc=null;function Op(t,e,n,i){if(Xc=null,t=pg(i),t=ns(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xc=t,null}function DE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mI()){case mg:return 1;case TE:return 4;case Gc:case gI:return 16;case SE:return 536870912;default:return 16}default:return 16}}var sr=null,wg=null,Sc=null;function ME(){if(Sc)return Sc;var t,e=wg,n=e.length,i,r="value"in sr?sr.value:sr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Sc=r.slice(t,1<i?1-i:void 0)}function bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $u(){return!0}function R0(){return!1}function wn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$u:R0,this.isPropagationStopped=R0,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),e}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_g=wn(na),eu=Ne({},na,{view:0,detail:0}),II=wn(eu),of,af,ka,zh=Ne({},eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ka&&(ka&&t.type==="mousemove"?(of=t.screenX-ka.screenX,af=t.screenY-ka.screenY):af=of=0,ka=t),of)},movementY:function(t){return"movementY"in t?t.movementY:af}}),I0=wn(zh),kI=Ne({},zh,{dataTransfer:0}),AI=wn(kI),DI=Ne({},eu,{relatedTarget:0}),lf=wn(DI),MI=Ne({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),OI=wn(MI),VI=Ne({},na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NI=wn(VI),LI=Ne({},na,{data:0}),k0=wn(LI),FI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jI[t])?!!e[t]:!1}function xg(){return BI}var UI=Ne({},eu,{key:function(t){if(t.key){var e=FI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xg,charCode:function(t){return t.type==="keypress"?bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$I=wn(UI),HI=Ne({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A0=wn(HI),qI=Ne({},eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xg}),WI=wn(qI),KI=Ne({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),GI=wn(KI),QI=Ne({},zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YI=wn(QI),XI=[9,13,27,32],Eg=Vi&&"CompositionEvent"in window,nl=null;Vi&&"documentMode"in document&&(nl=document.documentMode);var JI=Vi&&"TextEvent"in window&&!nl,OE=Vi&&(!Eg||nl&&8<nl&&11>=nl),D0=" ",M0=!1;function VE(t,e){switch(t){case"keyup":return XI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Js=!1;function ZI(t,e){switch(t){case"compositionend":return NE(e);case"keypress":return e.which!==32?null:(M0=!0,D0);case"textInput":return t=e.data,t===D0&&M0?null:t;default:return null}}function e2(t,e){if(Js)return t==="compositionend"||!Eg&&VE(t,e)?(t=ME(),Sc=wg=sr=null,Js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OE&&e.locale!=="ko"?null:e.data;default:return null}}var t2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t2[t.type]:e==="textarea"}function LE(t,e,n,i){pE(i),e=Jc(e,"onChange"),0<e.length&&(n=new _g("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var il=null,Sl=null;function n2(t){GE(t,0)}function jh(t){var e=to(t);if(aE(e))return t}function i2(t,e){if(t==="change")return e}var FE=!1;if(Vi){var uf;if(Vi){var cf="oninput"in document;if(!cf){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),cf=typeof V0.oninput=="function"}uf=cf}else uf=!1;FE=uf&&(!document.documentMode||9<document.documentMode)}function N0(){il&&(il.detachEvent("onpropertychange",zE),Sl=il=null)}function zE(t){if(t.propertyName==="value"&&jh(Sl)){var e=[];LE(e,Sl,t,pg(t)),vE(n2,e)}}function r2(t,e,n){t==="focusin"?(N0(),il=e,Sl=n,il.attachEvent("onpropertychange",zE)):t==="focusout"&&N0()}function s2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jh(Sl)}function o2(t,e){if(t==="click")return jh(e)}function a2(t,e){if(t==="input"||t==="change")return jh(e)}function l2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:l2;function bl(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!gp.call(e,r)||!Gn(t[r],e[r]))return!1}return!0}function L0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F0(t,e){var n=L0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L0(n)}}function jE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BE(){for(var t=window,e=qc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qc(t.document)}return e}function Tg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function u2(t){var e=BE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jE(n.ownerDocument.documentElement,n)){if(i!==null&&Tg(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=F0(n,s);var o=F0(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c2=Vi&&"documentMode"in document&&11>=document.documentMode,Zs=null,Vp=null,rl=null,Np=!1;function z0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Np||Zs==null||Zs!==qc(i)||(i=Zs,"selectionStart"in i&&Tg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),rl&&bl(rl,i)||(rl=i,i=Jc(Vp,"onSelect"),0<i.length&&(e=new _g("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Zs)))}function Hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var eo={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},hf={},UE={};Vi&&(UE=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Bh(t){if(hf[t])return hf[t];if(!eo[t])return t;var e=eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UE)return hf[t]=e[n];return t}var $E=Bh("animationend"),HE=Bh("animationiteration"),qE=Bh("animationstart"),WE=Bh("transitionend"),KE=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){KE.set(t,e),Is(e,[t])}for(var df=0;df<j0.length;df++){var ff=j0[df],h2=ff.toLowerCase(),d2=ff[0].toUpperCase()+ff.slice(1);Ar(h2,"on"+d2)}Ar($E,"onAnimationEnd");Ar(HE,"onAnimationIteration");Ar(qE,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(WE,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function B0(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,hI(i,e,void 0,t),t.currentTarget=null}function GE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;B0(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;B0(r,a,c),s=l}}}if(Kc)throw t=Ap,Kc=!1,Ap=null,t}function Pe(t,e){var n=e[Bp];n===void 0&&(n=e[Bp]=new Set);var i=t+"__bubble";n.has(i)||(QE(e,t,2,!1),n.add(i))}function pf(t,e,n){var i=0;e&&(i|=4),QE(n,t,i,e)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Cl(t){if(!t[qu]){t[qu]=!0,nE.forEach(function(n){n!=="selectionchange"&&(f2.has(n)||pf(n,!1,t),pf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qu]||(e[qu]=!0,pf("selectionchange",!1,e))}}function QE(t,e,n,i){switch(DE(e)){case 1:var r=PI;break;case 4:r=RI;break;default:r=vg}n=r.bind(null,e,n,t),r=void 0,!kp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function mf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ns(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}vE(function(){var c=s,h=pg(n),d=[];e:{var f=KE.get(t);if(f!==void 0){var m=_g,w=t;switch(t){case"keypress":if(bc(n)===0)break e;case"keydown":case"keyup":m=$I;break;case"focusin":w="focus",m=lf;break;case"focusout":w="blur",m=lf;break;case"beforeblur":case"afterblur":m=lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=AI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WI;break;case $E:case HE:case qE:m=OI;break;case WE:m=GI;break;case"scroll":m=II;break;case"wheel":m=YI;break;case"copy":case"cut":case"paste":m=NI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=A0}var _=(e&4)!==0,R=!_&&t==="scroll",x=_?f!==null?f+"Capture":null:f;_=[];for(var y=c,v;y!==null;){v=y;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,x!==null&&(C=_l(y,x),C!=null&&_.push(Pl(y,C,v)))),R)break;y=y.return}0<_.length&&(f=new m(f,w,null,n,h),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Rp&&(w=n.relatedTarget||n.fromElement)&&(ns(w)||w[Ni]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?ns(w):null,w!==null&&(R=ks(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(_=I0,C="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=A0,C="onPointerLeave",x="onPointerEnter",y="pointer"),R=m==null?f:to(m),v=w==null?f:to(w),f=new _(C,y+"leave",m,n,h),f.target=R,f.relatedTarget=v,C=null,ns(h)===c&&(_=new _(x,y+"enter",w,n,h),_.target=v,_.relatedTarget=R,C=_),R=C,m&&w)t:{for(_=m,x=w,y=0,v=_;v;v=Us(v))y++;for(v=0,C=x;C;C=Us(C))v++;for(;0<y-v;)_=Us(_),y--;for(;0<v-y;)x=Us(x),v--;for(;y--;){if(_===x||x!==null&&_===x.alternate)break t;_=Us(_),x=Us(x)}_=null}else _=null;m!==null&&U0(d,f,m,_,!1),w!==null&&R!==null&&U0(d,R,w,_,!0)}}e:{if(f=c?to(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var A=i2;else if(O0(f))if(FE)A=a2;else{A=s2;var M=r2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=o2);if(A&&(A=A(t,c))){LE(d,A,n,h);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Tp(f,"number",f.value)}switch(M=c?to(c):window,t){case"focusin":(O0(M)||M.contentEditable==="true")&&(Zs=M,Vp=c,rl=null);break;case"focusout":rl=Vp=Zs=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,z0(d,n,h);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":z0(d,n,h)}var T;if(Eg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Js?VE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(OE&&n.locale!=="ko"&&(Js||E!=="onCompositionStart"?E==="onCompositionEnd"&&Js&&(T=ME()):(sr=h,wg="value"in sr?sr.value:sr.textContent,Js=!0)),M=Jc(c,E),0<M.length&&(E=new k0(E,t,null,n,h),d.push({event:E,listeners:M}),T?E.data=T:(T=NE(n),T!==null&&(E.data=T)))),(T=JI?ZI(t,n):e2(t,n))&&(c=Jc(c,"onBeforeInput"),0<c.length&&(h=new k0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=T))}GE(d,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=_l(t,n),s!=null&&i.unshift(Pl(t,s,r)),s=_l(t,e),s!=null&&i.push(Pl(t,s,r))),t=t.return}return i}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function U0(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=_l(n,s),l!=null&&o.unshift(Pl(n,l,a))):r||(l=_l(n,s),l!=null&&o.push(Pl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var p2=/\r\n?/g,m2=/\u0000|\uFFFD/g;function $0(t){return(typeof t=="string"?t:""+t).replace(p2,`
`).replace(m2,"")}function Wu(t,e,n){if(e=$0(e),$0(t)!==e&&n)throw Error(U(425))}function Zc(){}var Lp=null,Fp=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,g2=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,y2=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(v2)}:jp;function v2(t){setTimeout(function(){throw t})}function gf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Tl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Tl(e)}function dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ia=Math.random().toString(36).slice(2),ri="__reactFiber$"+ia,Rl="__reactProps$"+ia,Ni="__reactContainer$"+ia,Bp="__reactEvents$"+ia,w2="__reactListeners$"+ia,_2="__reactHandles$"+ia;function ns(t){var e=t[ri];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ni]||n[ri]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q0(t);t!==null;){if(n=t[ri])return n;t=q0(t)}return e}t=n,n=t.parentNode}return null}function tu(t){return t=t[ri]||t[Ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function to(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Uh(t){return t[Rl]||null}var Up=[],no=-1;function Dr(t){return{current:t}}function Re(t){0>no||(t.current=Up[no],Up[no]=null,no--)}function Se(t,e){no++,Up[no]=t.current,t.current=e}var Er={},Dt=Dr(Er),Zt=Dr(!1),gs=Er;function Oo(t,e){var n=t.type.contextTypes;if(!n)return Er;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function en(t){return t=t.childContextTypes,t!=null}function eh(){Re(Zt),Re(Dt)}function W0(t,e,n){if(Dt.current!==Er)throw Error(U(168));Se(Dt,e),Se(Zt,n)}function YE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(U(108,rI(t)||"Unknown",r));return Ne({},n,i)}function th(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,gs=Dt.current,Se(Dt,t),Se(Zt,Zt.current),!0}function K0(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=YE(t,e,gs),i.__reactInternalMemoizedMergedChildContext=t,Re(Zt),Re(Dt),Se(Dt,t)):Re(Zt),Se(Zt,n)}var Ei=null,$h=!1,yf=!1;function XE(t){Ei===null?Ei=[t]:Ei.push(t)}function x2(t){$h=!0,XE(t)}function Mr(){if(!yf&&Ei!==null){yf=!0;var t=0,e=xe;try{var n=Ei;for(xe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ei=null,$h=!1}catch(r){throw Ei!==null&&(Ei=Ei.slice(t+1)),EE(mg,Mr),r}finally{xe=e,yf=!1}}return null}var io=[],ro=0,nh=null,ih=0,Tn=[],Sn=0,ys=null,Ti=1,Si="";function Yr(t,e){io[ro++]=ih,io[ro++]=nh,nh=t,ih=e}function JE(t,e,n){Tn[Sn++]=Ti,Tn[Sn++]=Si,Tn[Sn++]=ys,ys=t;var i=Ti;t=Si;var r=32-$n(i)-1;i&=~(1<<r),n+=1;var s=32-$n(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ti=1<<32-$n(e)+r|n<<r|i,Si=s+t}else Ti=1<<s|n<<r|i,Si=t}function Sg(t){t.return!==null&&(Yr(t,1),JE(t,1,0))}function bg(t){for(;t===nh;)nh=io[--ro],io[ro]=null,ih=io[--ro],io[ro]=null;for(;t===ys;)ys=Tn[--Sn],Tn[Sn]=null,Si=Tn[--Sn],Tn[Sn]=null,Ti=Tn[--Sn],Tn[Sn]=null}var dn=null,un=null,Ae=!1,zn=null;function ZE(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,un=dr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:Ti,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,un=null,!0):!1;default:return!1}}function $p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hp(t){if(Ae){var e=un;if(e){var n=e;if(!G0(t,e)){if($p(t))throw Error(U(418));e=dr(n.nextSibling);var i=dn;e&&G0(t,e)?ZE(i,n):(t.flags=t.flags&-4097|2,Ae=!1,dn=t)}}else{if($p(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ae=!1,dn=t}}}function Q0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function Ku(t){if(t!==dn)return!1;if(!Ae)return Q0(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=un)){if($p(t))throw eT(),Error(U(418));for(;e;)ZE(t,e),e=dr(e.nextSibling)}if(Q0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=dr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=dn?dr(t.stateNode.nextSibling):null;return!0}function eT(){for(var t=un;t;)t=dr(t.nextSibling)}function Vo(){un=dn=null,Ae=!1}function Cg(t){zn===null?zn=[t]:zn.push(t)}var E2=$i.ReactCurrentBatchConfig;function Aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Gu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y0(t){var e=t._init;return e(t._payload)}function tT(t){function e(x,y){if(t){var v=x.deletions;v===null?(x.deletions=[y],x.flags|=16):v.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function i(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function r(x,y){return x=gr(x,y),x.index=0,x.sibling=null,x}function s(x,y,v){return x.index=v,t?(v=x.alternate,v!==null?(v=v.index,v<y?(x.flags|=2,y):v):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,v,C){return y===null||y.tag!==6?(y=Sf(v,x.mode,C),y.return=x,y):(y=r(y,v),y.return=x,y)}function l(x,y,v,C){var A=v.type;return A===Xs?h(x,y,v.props.children,C,v.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===er&&Y0(A)===y.type)?(C=r(y,v.props),C.ref=Aa(x,y,v),C.return=x,C):(C=Dc(v.type,v.key,v.props,null,x.mode,C),C.ref=Aa(x,y,v),C.return=x,C)}function c(x,y,v,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=bf(v,x.mode,C),y.return=x,y):(y=r(y,v.children||[]),y.return=x,y)}function h(x,y,v,C,A){return y===null||y.tag!==7?(y=ds(v,x.mode,C,A),y.return=x,y):(y=r(y,v),y.return=x,y)}function d(x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Sf(""+y,x.mode,v),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lu:return v=Dc(y.type,y.key,y.props,null,x.mode,v),v.ref=Aa(x,null,y),v.return=x,v;case Ys:return y=bf(y,x.mode,v),y.return=x,y;case er:var C=y._init;return d(x,C(y._payload),v)}if(qa(y)||Ca(y))return y=ds(y,x.mode,v,null),y.return=x,y;Gu(x,y)}return null}function f(x,y,v,C){var A=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return A!==null?null:a(x,y,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lu:return v.key===A?l(x,y,v,C):null;case Ys:return v.key===A?c(x,y,v,C):null;case er:return A=v._init,f(x,y,A(v._payload),C)}if(qa(v)||Ca(v))return A!==null?null:h(x,y,v,C,null);Gu(x,v)}return null}function m(x,y,v,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(v)||null,a(y,x,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Lu:return x=x.get(C.key===null?v:C.key)||null,l(y,x,C,A);case Ys:return x=x.get(C.key===null?v:C.key)||null,c(y,x,C,A);case er:var M=C._init;return m(x,y,v,M(C._payload),A)}if(qa(C)||Ca(C))return x=x.get(v)||null,h(y,x,C,A,null);Gu(y,C)}return null}function w(x,y,v,C){for(var A=null,M=null,T=y,E=y=0,b=null;T!==null&&E<v.length;E++){T.index>E?(b=T,T=null):b=T.sibling;var P=f(x,T,v[E],C);if(P===null){T===null&&(T=b);break}t&&T&&P.alternate===null&&e(x,T),y=s(P,y,E),M===null?A=P:M.sibling=P,M=P,T=b}if(E===v.length)return n(x,T),Ae&&Yr(x,E),A;if(T===null){for(;E<v.length;E++)T=d(x,v[E],C),T!==null&&(y=s(T,y,E),M===null?A=T:M.sibling=T,M=T);return Ae&&Yr(x,E),A}for(T=i(x,T);E<v.length;E++)b=m(T,x,E,v[E],C),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?E:b.key),y=s(b,y,E),M===null?A=b:M.sibling=b,M=b);return t&&T.forEach(function(k){return e(x,k)}),Ae&&Yr(x,E),A}function _(x,y,v,C){var A=Ca(v);if(typeof A!="function")throw Error(U(150));if(v=A.call(v),v==null)throw Error(U(151));for(var M=A=null,T=y,E=y=0,b=null,P=v.next();T!==null&&!P.done;E++,P=v.next()){T.index>E?(b=T,T=null):b=T.sibling;var k=f(x,T,P.value,C);if(k===null){T===null&&(T=b);break}t&&T&&k.alternate===null&&e(x,T),y=s(k,y,E),M===null?A=k:M.sibling=k,M=k,T=b}if(P.done)return n(x,T),Ae&&Yr(x,E),A;if(T===null){for(;!P.done;E++,P=v.next())P=d(x,P.value,C),P!==null&&(y=s(P,y,E),M===null?A=P:M.sibling=P,M=P);return Ae&&Yr(x,E),A}for(T=i(x,T);!P.done;E++,P=v.next())P=m(T,x,E,P.value,C),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?E:P.key),y=s(P,y,E),M===null?A=P:M.sibling=P,M=P);return t&&T.forEach(function(D){return e(x,D)}),Ae&&Yr(x,E),A}function R(x,y,v,C){if(typeof v=="object"&&v!==null&&v.type===Xs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Lu:e:{for(var A=v.key,M=y;M!==null;){if(M.key===A){if(A=v.type,A===Xs){if(M.tag===7){n(x,M.sibling),y=r(M,v.props.children),y.return=x,x=y;break e}}else if(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===er&&Y0(A)===M.type){n(x,M.sibling),y=r(M,v.props),y.ref=Aa(x,M,v),y.return=x,x=y;break e}n(x,M);break}else e(x,M);M=M.sibling}v.type===Xs?(y=ds(v.props.children,x.mode,C,v.key),y.return=x,x=y):(C=Dc(v.type,v.key,v.props,null,x.mode,C),C.ref=Aa(x,y,v),C.return=x,x=C)}return o(x);case Ys:e:{for(M=v.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(x,y.sibling),y=r(y,v.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=bf(v,x.mode,C),y.return=x,x=y}return o(x);case er:return M=v._init,R(x,y,M(v._payload),C)}if(qa(v))return w(x,y,v,C);if(Ca(v))return _(x,y,v,C);Gu(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(x,y.sibling),y=r(y,v),y.return=x,x=y):(n(x,y),y=Sf(v,x.mode,C),y.return=x,x=y),o(x)):n(x,y)}return R}var No=tT(!0),nT=tT(!1),rh=Dr(null),sh=null,so=null,Pg=null;function Rg(){Pg=so=sh=null}function Ig(t){var e=rh.current;Re(rh),t._currentValue=e}function qp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){sh=t,Pg=so=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(Pg!==t)if(t={context:t,memoizedValue:e,next:null},so===null){if(sh===null)throw Error(U(308));so=t,sh.dependencies={lanes:0,firstContext:t}}else so=so.next=t;return e}var is=null;function kg(t){is===null?is=[t]:is.push(t)}function iT(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,kg(e)):(n.next=r.next,r.next=n),e.interleaved=n,Li(t,i)}function Li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tr=!1;function Ag(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Li(t,n)}return r=i.interleaved,r===null?(e.next=e,kg(i)):(e.next=r.next,r.next=e),i.interleaved=e,Li(t,n)}function Cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,gg(t,n)}}function X0(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oh(t,e,n,i){var r=t.updateQueue;tr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,_=a;switch(f=e,m=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=Ne({},d,f);break e;case 2:tr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ws|=o,t.lanes=o,t.memoizedState=d}}function J0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(U(191,r));r.call(i)}}}var nu={},oi=Dr(nu),Il=Dr(nu),kl=Dr(nu);function rs(t){if(t===nu)throw Error(U(174));return t}function Dg(t,e){switch(Se(kl,e),Se(Il,t),Se(oi,nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bp(e,t)}Re(oi),Se(oi,e)}function Lo(){Re(oi),Re(Il),Re(kl)}function sT(t){rs(kl.current);var e=rs(oi.current),n=bp(e,t.type);e!==n&&(Se(Il,t),Se(oi,n))}function Mg(t){Il.current===t&&(Re(oi),Re(Il))}var Me=Dr(0);function ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vf=[];function Og(){for(var t=0;t<vf.length;t++)vf[t]._workInProgressVersionPrimary=null;vf.length=0}var Pc=$i.ReactCurrentDispatcher,wf=$i.ReactCurrentBatchConfig,vs=0,Ve=null,Ze=null,rt=null,lh=!1,sl=!1,Al=0,T2=0;function _t(){throw Error(U(321))}function Vg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function Ng(t,e,n,i,r,s){if(vs=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pc.current=t===null||t.memoizedState===null?P2:R2,t=n(i,r),sl){s=0;do{if(sl=!1,Al=0,25<=s)throw Error(U(301));s+=1,rt=Ze=null,e.updateQueue=null,Pc.current=I2,t=n(i,r)}while(sl)}if(Pc.current=uh,e=Ze!==null&&Ze.next!==null,vs=0,rt=Ze=Ve=null,lh=!1,e)throw Error(U(300));return t}function Lg(){var t=Al!==0;return Al=0,t}function ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ve.memoizedState=rt=t:rt=rt.next=t,rt}function In(){if(Ze===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=rt===null?Ve.memoizedState:rt.next;if(e!==null)rt=e,Ze=t;else{if(t===null)throw Error(U(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?Ve.memoizedState=rt=t:rt=rt.next=t}return rt}function Dl(t,e){return typeof e=="function"?e(t):e}function _f(t){var e=In(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=Ze,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((vs&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Ve.lanes|=h,ws|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Gn(i,e.memoizedState)||(Jt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ve.lanes|=s,ws|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xf(t){var e=In(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Gn(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function oT(){}function aT(t,e){var n=Ve,i=In(),r=e(),s=!Gn(i.memoizedState,r);if(s&&(i.memoizedState=r,Jt=!0),i=i.queue,Fg(cT.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Ml(9,uT.bind(null,n,i,r,e),void 0,null),st===null)throw Error(U(349));vs&30||lT(n,e,r)}return r}function lT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uT(t,e,n,i){e.value=n,e.getSnapshot=i,hT(e)&&dT(t)}function cT(t,e,n){return n(function(){hT(e)&&dT(t)})}function hT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function dT(t){var e=Li(t,1);e!==null&&Hn(e,t,1,-1)}function Z0(t){var e=ei();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:t},e.queue=t,t=t.dispatch=C2.bind(null,Ve,t),[e.memoizedState,t]}function Ml(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function fT(){return In().memoizedState}function Rc(t,e,n,i){var r=ei();Ve.flags|=t,r.memoizedState=Ml(1|e,n,void 0,i===void 0?null:i)}function Hh(t,e,n,i){var r=In();i=i===void 0?null:i;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,i!==null&&Vg(i,o.deps)){r.memoizedState=Ml(e,n,s,i);return}}Ve.flags|=t,r.memoizedState=Ml(1|e,n,s,i)}function ew(t,e){return Rc(8390656,8,t,e)}function Fg(t,e){return Hh(2048,8,t,e)}function pT(t,e){return Hh(4,2,t,e)}function mT(t,e){return Hh(4,4,t,e)}function gT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yT(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4,4,gT.bind(null,e,t),n)}function zg(){}function vT(t,e){var n=In();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function wT(t,e){var n=In();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function _T(t,e,n){return vs&21?(Gn(n,e)||(n=bE(),Ve.lanes|=n,ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function S2(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var i=wf.transition;wf.transition={};try{t(!1),e()}finally{xe=n,wf.transition=i}}function xT(){return In().memoizedState}function b2(t,e,n){var i=mr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ET(t))TT(e,n);else if(n=iT(t,e,n,i),n!==null){var r=Bt();Hn(n,t,i,r),ST(n,e,i)}}function C2(t,e,n){var i=mr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ET(t))TT(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Gn(a,o)){var l=e.interleaved;l===null?(r.next=r,kg(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=iT(t,e,r,i),n!==null&&(r=Bt(),Hn(n,t,i,r),ST(n,e,i))}}function ET(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function TT(t,e){sl=lh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ST(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,gg(t,n)}}var uh={readContext:Rn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},P2={readContext:Rn,useCallback:function(t,e){return ei().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rc(4194308,4,gT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rc(4,2,t,e)},useMemo:function(t,e){var n=ei();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ei();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=b2.bind(null,Ve,t),[i.memoizedState,t]},useRef:function(t){var e=ei();return t={current:t},e.memoizedState=t},useState:Z0,useDebugValue:zg,useDeferredValue:function(t){return ei().memoizedState=t},useTransition:function(){var t=Z0(!1),e=t[0];return t=S2.bind(null,t[1]),ei().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ve,r=ei();if(Ae){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),st===null)throw Error(U(349));vs&30||lT(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,ew(cT.bind(null,i,s,t),[t]),i.flags|=2048,Ml(9,uT.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=ei(),e=st.identifierPrefix;if(Ae){var n=Si,i=Ti;n=(i&~(1<<32-$n(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=T2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R2={readContext:Rn,useCallback:vT,useContext:Rn,useEffect:Fg,useImperativeHandle:yT,useInsertionEffect:pT,useLayoutEffect:mT,useMemo:wT,useReducer:_f,useRef:fT,useState:function(){return _f(Dl)},useDebugValue:zg,useDeferredValue:function(t){var e=In();return _T(e,Ze.memoizedState,t)},useTransition:function(){var t=_f(Dl)[0],e=In().memoizedState;return[t,e]},useMutableSource:oT,useSyncExternalStore:aT,useId:xT,unstable_isNewReconciler:!1},I2={readContext:Rn,useCallback:vT,useContext:Rn,useEffect:Fg,useImperativeHandle:yT,useInsertionEffect:pT,useLayoutEffect:mT,useMemo:wT,useReducer:xf,useRef:fT,useState:function(){return xf(Dl)},useDebugValue:zg,useDeferredValue:function(t){var e=In();return Ze===null?e.memoizedState=t:_T(e,Ze.memoizedState,t)},useTransition:function(){var t=xf(Dl)[0],e=In().memoizedState;return[t,e]},useMutableSource:oT,useSyncExternalStore:aT,useId:xT,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qh={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=mr(t),s=Pi(i,r);s.payload=e,n!=null&&(s.callback=n),e=fr(t,s,r),e!==null&&(Hn(e,t,r,i),Cc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=mr(t),s=Pi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=fr(t,s,r),e!==null&&(Hn(e,t,r,i),Cc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),i=mr(t),r=Pi(n,i);r.tag=2,e!=null&&(r.callback=e),e=fr(t,r,i),e!==null&&(Hn(e,t,i,n),Cc(e,t,i))}};function tw(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!bl(n,i)||!bl(r,s):!0}function bT(t,e,n){var i=!1,r=Er,s=e.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(r=en(e)?gs:Dt.current,i=e.contextTypes,s=(i=i!=null)?Oo(t,r):Er),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function nw(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&qh.enqueueReplaceState(e,e.state,null)}function Kp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Ag(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Rn(s):(s=en(e)?gs:Dt.current,r.context=Oo(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wp(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&qh.enqueueReplaceState(r,r.state,null),oh(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Fo(t,e){try{var n="",i=e;do n+=iI(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k2=typeof WeakMap=="function"?WeakMap:Map;function CT(t,e,n){n=Pi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){hh||(hh=!0,rm=i),Gp(t,e)},n}function PT(t,e,n){n=Pi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Gp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gp(t,e),typeof i!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iw(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new k2;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=H2.bind(null,t,e,n),e.then(t,t))}function rw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sw(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pi(-1,1),e.tag=2,fr(n,e,1))),n.lanes|=1),t)}var A2=$i.ReactCurrentOwner,Jt=!1;function zt(t,e,n,i){e.child=t===null?nT(e,null,n,i):No(e,t.child,n,i)}function ow(t,e,n,i,r){n=n.render;var s=e.ref;return Eo(e,r),i=Ng(t,e,n,i,s,r),n=Lg(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Fi(t,e,r)):(Ae&&n&&Sg(e),e.flags|=1,zt(t,e,i,r),e.child)}function aw(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Kg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,RT(t,e,s,i,r)):(t=Dc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(o,i)&&t.ref===e.ref)return Fi(t,e,r)}return e.flags|=1,t=gr(s,i),t.ref=e.ref,t.return=e,e.child=t}function RT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(bl(s,i)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Fi(t,e,r)}return Qp(t,e,n,i,r)}function IT(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(ao,ln),ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(ao,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Se(ao,ln),ln|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Se(ao,ln),ln|=i;return zt(t,e,r,n),e.child}function kT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qp(t,e,n,i,r){var s=en(n)?gs:Dt.current;return s=Oo(e,s),Eo(e,r),n=Ng(t,e,n,i,s,r),i=Lg(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Fi(t,e,r)):(Ae&&i&&Sg(e),e.flags|=1,zt(t,e,n,r),e.child)}function lw(t,e,n,i,r){if(en(n)){var s=!0;th(e)}else s=!1;if(Eo(e,r),e.stateNode===null)Ic(t,e),bT(e,n,i),Kp(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Rn(c):(c=en(n)?gs:Dt.current,c=Oo(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&nw(e,o,i,c),tr=!1;var f=e.memoizedState;o.state=f,oh(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Zt.current||tr?(typeof h=="function"&&(Wp(e,n,h,i),l=e.memoizedState),(a=tr||tw(e,n,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,rT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Nn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=en(n)?gs:Dt.current,l=Oo(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&nw(e,o,i,l),tr=!1,f=e.memoizedState,o.state=f,oh(e,i,o,r);var w=e.memoizedState;a!==d||f!==w||Zt.current||tr?(typeof m=="function"&&(Wp(e,n,m,i),w=e.memoizedState),(c=tr||tw(e,n,c,i,f,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),o.props=i,o.state=w,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Yp(t,e,n,i,s,r)}function Yp(t,e,n,i,r,s){kT(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&K0(e,n,!1),Fi(t,e,s);i=e.stateNode,A2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=No(e,t.child,null,s),e.child=No(e,null,a,s)):zt(t,e,a,s),e.memoizedState=i.state,r&&K0(e,n,!0),e.child}function AT(t){var e=t.stateNode;e.pendingContext?W0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W0(t,e.context,!1),Dg(t,e.containerInfo)}function uw(t,e,n,i,r){return Vo(),Cg(r),e.flags|=256,zt(t,e,n,i),e.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Jp(t){return{baseLanes:t,cachePool:null,transitions:null}}function DT(t,e,n){var i=e.pendingProps,r=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Se(Me,r&1),t===null)return Hp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gh(o,i,0,null),t=ds(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jp(n),e.memoizedState=Xp,t):jg(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return D2(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=gr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=gr(a,s):(s=ds(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Jp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xp,i}return s=t.child,t=s.sibling,i=gr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function jg(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qu(t,e,n,i){return i!==null&&Cg(i),No(e,t.child,null,n),t=jg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D2(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Ef(Error(U(422))),Qu(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Gh({mode:"visible",children:i.children},r,0,null),s=ds(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&No(e,t.child,null,o),e.child.memoizedState=Jp(o),e.memoizedState=Xp,s);if(!(e.mode&1))return Qu(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(U(419)),i=Ef(s,i,void 0),Qu(t,e,o,i)}if(a=(o&t.childLanes)!==0,Jt||a){if(i=st,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Li(t,r),Hn(i,t,r,-1))}return Wg(),i=Ef(Error(U(421))),Qu(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=q2.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,un=dr(r.nextSibling),dn=e,Ae=!0,zn=null,t!==null&&(Tn[Sn++]=Ti,Tn[Sn++]=Si,Tn[Sn++]=ys,Ti=t.id,Si=t.overflow,ys=e),e=jg(e,i.children),e.flags|=4096,e)}function cw(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),qp(t.return,e,n)}function Tf(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function MT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(zt(t,e,i.children,n),i=Me.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Se(Me,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ah(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Tf(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ah(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Tf(e,!0,n,null,s);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function M2(t,e,n){switch(e.tag){case 3:AT(e),Vo();break;case 5:sT(e);break;case 1:en(e.type)&&th(e);break;case 4:Dg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Se(rh,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Se(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?DT(t,e,n):(Se(Me,Me.current&1),t=Fi(t,e,n),t!==null?t.sibling:null);Se(Me,Me.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return MT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Se(Me,Me.current),i)break;return null;case 22:case 23:return e.lanes=0,IT(t,e,n)}return Fi(t,e,n)}var OT,Zp,VT,NT;OT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zp=function(){};VT=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,rs(oi.current);var s=null;switch(n){case"input":r=xp(t,r),i=xp(t,i),s=[];break;case"select":r=Ne({},r,{value:void 0}),i=Ne({},i,{value:void 0}),s=[];break;case"textarea":r=Sp(t,r),i=Sp(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Zc)}Cp(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};NT=function(t,e,n,i){n!==i&&(e.flags|=4)};function Da(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function O2(t,e,n){var i=e.pendingProps;switch(bg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return en(e.type)&&eh(),xt(e),null;case 3:return i=e.stateNode,Lo(),Re(Zt),Re(Dt),Og(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(am(zn),zn=null))),Zp(t,e),xt(e),null;case 5:Mg(e);var r=rs(kl.current);if(n=e.type,t!==null&&e.stateNode!=null)VT(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return xt(e),null}if(t=rs(oi.current),Ku(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[ri]=e,i[Rl]=s,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(r=0;r<Ka.length;r++)Pe(Ka[r],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":w0(i,s),Pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Pe("invalid",i);break;case"textarea":x0(i,s),Pe("invalid",i)}Cp(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wu(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wu(i.textContent,a,t),r=["children",""+a]):vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",i)}switch(n){case"input":Fu(i),_0(i,s,!0);break;case"textarea":Fu(i),E0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Zc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[ri]=e,t[Rl]=i,OT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pp(n,i),n){case"dialog":Pe("cancel",t),Pe("close",t),r=i;break;case"iframe":case"object":case"embed":Pe("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ka.length;r++)Pe(Ka[r],t);r=i;break;case"source":Pe("error",t),r=i;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),r=i;break;case"details":Pe("toggle",t),r=i;break;case"input":w0(t,i),r=xp(t,i),Pe("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ne({},i,{value:void 0}),Pe("invalid",t);break;case"textarea":x0(t,i),r=Sp(t,i),Pe("invalid",t);break;default:r=i}Cp(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wl(t,l):typeof l=="number"&&wl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pe("scroll",t):l!=null&&cg(t,s,l,o))}switch(n){case"input":Fu(t),_0(t,i,!1);break;case"textarea":Fu(t),E0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+xr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?vo(t,!!i.multiple,s,!1):i.defaultValue!=null&&vo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Zc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)NT(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=rs(kl.current),rs(oi.current),Ku(e)){if(i=e.stateNode,n=e.memoizedProps,i[ri]=e,(s=i.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:Wu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wu(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ri]=e,e.stateNode=i}return xt(e),null;case 13:if(Re(Me),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&un!==null&&e.mode&1&&!(e.flags&128))eT(),Vo(),e.flags|=98560,s=!1;else if(s=Ku(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[ri]=e}else Vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),s=!1}else zn!==null&&(am(zn),zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?tt===0&&(tt=3):Wg())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Lo(),Zp(t,e),t===null&&Cl(e.stateNode.containerInfo),xt(e),null;case 10:return Ig(e.type._context),xt(e),null;case 17:return en(e.type)&&eh(),xt(e),null;case 19:if(Re(Me),s=e.memoizedState,s===null)return xt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Da(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ah(t),o!==null){for(e.flags|=128,Da(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&He()>zo&&(e.flags|=128,i=!0,Da(s,!1),e.lanes=4194304)}else{if(!i)if(t=ah(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Da(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return xt(e),null}else 2*He()-s.renderingStartTime>zo&&n!==1073741824&&(e.flags|=128,i=!0,Da(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=He(),e.sibling=null,n=Me.current,Se(Me,i?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return qg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ln&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function V2(t,e){switch(bg(e),e.tag){case 1:return en(e.type)&&eh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lo(),Re(Zt),Re(Dt),Og(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mg(e),null;case 13:if(Re(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Me),null;case 4:return Lo(),null;case 10:return Ig(e.type._context),null;case 22:case 23:return qg(),null;case 24:return null;default:return null}}var Yu=!1,Ct=!1,N2=typeof WeakSet=="function"?WeakSet:Set,H=null;function oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Be(t,e,i)}else n.current=null}function em(t,e,n){try{n()}catch(i){Be(t,e,i)}}var hw=!1;function L2(t,e){if(Lp=Yc,t=BE(),Tg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===r&&(a=o),f===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fp={focusedElem:t,selectionRange:n},Yc=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,R=w.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:Nn(e.type,_),R);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(C){Be(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return w=hw,hw=!1,w}function ol(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&em(e,n,s)}r=r.next}while(r!==i)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function tm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LT(t){var e=t.alternate;e!==null&&(t.alternate=null,LT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ri],delete e[Rl],delete e[Bp],delete e[w2],delete e[_2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FT(t){return t.tag===5||t.tag===3||t.tag===4}function dw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zc));else if(i!==4&&(t=t.child,t!==null))for(nm(t,e,n),t=t.sibling;t!==null;)nm(t,e,n),t=t.sibling}function im(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(im(t,e,n),t=t.sibling;t!==null;)im(t,e,n),t=t.sibling}var ut=null,Fn=!1;function Yi(t,e,n){for(n=n.child;n!==null;)zT(t,e,n),n=n.sibling}function zT(t,e,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Fh,n)}catch{}switch(n.tag){case 5:Ct||oo(n,e);case 6:var i=ut,r=Fn;ut=null,Yi(t,e,n),ut=i,Fn=r,ut!==null&&(Fn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Fn?(t=ut,n=n.stateNode,t.nodeType===8?gf(t.parentNode,n):t.nodeType===1&&gf(t,n),Tl(t)):gf(ut,n.stateNode));break;case 4:i=ut,r=Fn,ut=n.stateNode.containerInfo,Fn=!0,Yi(t,e,n),ut=i,Fn=r;break;case 0:case 11:case 14:case 15:if(!Ct&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&em(n,e,o),r=r.next}while(r!==i)}Yi(t,e,n);break;case 1:if(!Ct&&(oo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Be(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(Ct=(i=Ct)||n.memoizedState!==null,Yi(t,e,n),Ct=i):Yi(t,e,n);break;default:Yi(t,e,n)}}function fw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new N2),e.forEach(function(i){var r=W2.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function On(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,Fn=!1;break e;case 3:ut=a.stateNode.containerInfo,Fn=!0;break e;case 4:ut=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(ut===null)throw Error(U(160));zT(s,o,r),ut=null,Fn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Be(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jT(e,t),e=e.sibling}function jT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),Zn(t),i&4){try{ol(3,t,t.return),Wh(3,t)}catch(_){Be(t,t.return,_)}try{ol(5,t,t.return)}catch(_){Be(t,t.return,_)}}break;case 1:On(e,t),Zn(t),i&512&&n!==null&&oo(n,n.return);break;case 5:if(On(e,t),Zn(t),i&512&&n!==null&&oo(n,n.return),t.flags&32){var r=t.stateNode;try{wl(r,"")}catch(_){Be(t,t.return,_)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lE(r,s),Pp(a,o);var c=Pp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?fE(r,d):h==="dangerouslySetInnerHTML"?hE(r,d):h==="children"?wl(r,d):cg(r,h,d,c)}switch(a){case"input":Ep(r,s);break;case"textarea":uE(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?vo(r,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?vo(r,!!s.multiple,s.defaultValue,!0):vo(r,!!s.multiple,s.multiple?[]:"",!1))}r[Rl]=s}catch(_){Be(t,t.return,_)}}break;case 6:if(On(e,t),Zn(t),i&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(_){Be(t,t.return,_)}}break;case 3:if(On(e,t),Zn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Tl(e.containerInfo)}catch(_){Be(t,t.return,_)}break;case 4:On(e,t),Zn(t);break;case 13:On(e,t),Zn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||($g=He())),i&4&&fw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||h,On(e,t),Ct=c):On(e,t),Zn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(d=H=h;H!==null;){switch(f=H,m=f.child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:oo(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){Be(i,n,_)}}break;case 5:oo(f,f.return);break;case 22:if(f.memoizedState!==null){mw(d);continue}}m!==null?(m.return=f,H=m):mw(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dE("display",o))}catch(_){Be(t,t.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){Be(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:On(e,t),Zn(t),i&4&&fw(t);break;case 21:break;default:On(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FT(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(wl(r,""),i.flags&=-33);var s=dw(t);im(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=dw(t);nm(t,a,o);break;default:throw Error(U(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F2(t,e,n){H=t,BT(t)}function BT(t,e,n){for(var i=(t.mode&1)!==0;H!==null;){var r=H,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Yu;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=Yu;var c=Ct;if(Yu=o,(Ct=l)&&!c)for(H=r;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?gw(r):l!==null?(l.return=o,H=l):gw(r);for(;s!==null;)H=s,BT(s),s=s.sibling;H=r,Yu=a,Ct=c}pw(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,H=s):pw(t)}}function pw(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Wh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ct)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J0(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Tl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ct||e.flags&512&&tm(e)}catch(f){Be(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function mw(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function gw(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){Be(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Be(e,r,l)}}var s=e.return;try{tm(e)}catch(l){Be(e,s,l)}break;case 5:var o=e.return;try{tm(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var z2=Math.ceil,ch=$i.ReactCurrentDispatcher,Bg=$i.ReactCurrentOwner,Pn=$i.ReactCurrentBatchConfig,fe=0,st=null,Xe=null,pt=0,ln=0,ao=Dr(0),tt=0,Ol=null,ws=0,Kh=0,Ug=0,al=null,Yt=null,$g=0,zo=1/0,xi=null,hh=!1,rm=null,pr=null,Xu=!1,or=null,dh=0,ll=0,sm=null,kc=-1,Ac=0;function Bt(){return fe&6?He():kc!==-1?kc:kc=He()}function mr(t){return t.mode&1?fe&2&&pt!==0?pt&-pt:E2.transition!==null?(Ac===0&&(Ac=bE()),Ac):(t=xe,t!==0||(t=window.event,t=t===void 0?16:DE(t.type)),t):1}function Hn(t,e,n,i){if(50<ll)throw ll=0,sm=null,Error(U(185));Zl(t,n,i),(!(fe&2)||t!==st)&&(t===st&&(!(fe&2)&&(Kh|=n),tt===4&&ir(t,pt)),tn(t,i),n===1&&fe===0&&!(e.mode&1)&&(zo=He()+500,$h&&Mr()))}function tn(t,e){var n=t.callbackNode;EI(t,e);var i=Qc(t,t===st?pt:0);if(i===0)n!==null&&b0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&b0(n),e===1)t.tag===0?x2(yw.bind(null,t)):XE(yw.bind(null,t)),y2(function(){!(fe&6)&&Mr()}),n=null;else{switch(CE(i)){case 1:n=mg;break;case 4:n=TE;break;case 16:n=Gc;break;case 536870912:n=SE;break;default:n=Gc}n=QT(n,UT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UT(t,e){if(kc=-1,Ac=0,fe&6)throw Error(U(327));var n=t.callbackNode;if(To()&&t.callbackNode!==n)return null;var i=Qc(t,t===st?pt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=fh(t,i);else{e=i;var r=fe;fe|=2;var s=HT();(st!==t||pt!==e)&&(xi=null,zo=He()+500,hs(t,e));do try{U2();break}catch(a){$T(t,a)}while(!0);Rg(),ch.current=s,fe=r,Xe!==null?e=0:(st=null,pt=0,e=tt)}if(e!==0){if(e===2&&(r=Dp(t),r!==0&&(i=r,e=om(t,r))),e===1)throw n=Ol,hs(t,0),ir(t,i),tn(t,He()),n;if(e===6)ir(t,i);else{if(r=t.current.alternate,!(i&30)&&!j2(r)&&(e=fh(t,i),e===2&&(s=Dp(t),s!==0&&(i=s,e=om(t,s))),e===1))throw n=Ol,hs(t,0),ir(t,i),tn(t,He()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:Xr(t,Yt,xi);break;case 3:if(ir(t,i),(i&130023424)===i&&(e=$g+500-He(),10<e)){if(Qc(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Bt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=jp(Xr.bind(null,t,Yt,xi),e);break}Xr(t,Yt,xi);break;case 4:if(ir(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-$n(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=He()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*z2(i/1960))-i,10<i){t.timeoutHandle=jp(Xr.bind(null,t,Yt,xi),i);break}Xr(t,Yt,xi);break;case 5:Xr(t,Yt,xi);break;default:throw Error(U(329))}}}return tn(t,He()),t.callbackNode===n?UT.bind(null,t):null}function om(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=fh(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&am(e)),t}function am(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function j2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Gn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(t,e){for(e&=~Ug,e&=~Kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),i=1<<n;t[n]=-1,e&=~i}}function yw(t){if(fe&6)throw Error(U(327));To();var e=Qc(t,0);if(!(e&1))return tn(t,He()),null;var n=fh(t,e);if(t.tag!==0&&n===2){var i=Dp(t);i!==0&&(e=i,n=om(t,i))}if(n===1)throw n=Ol,hs(t,0),ir(t,e),tn(t,He()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xr(t,Yt,xi),tn(t,He()),null}function Hg(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(zo=He()+500,$h&&Mr())}}function _s(t){or!==null&&or.tag===0&&!(fe&6)&&To();var e=fe;fe|=1;var n=Pn.transition,i=xe;try{if(Pn.transition=null,xe=1,t)return t()}finally{xe=i,Pn.transition=n,fe=e,!(fe&6)&&Mr()}}function qg(){ln=ao.current,Re(ao)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g2(n)),Xe!==null)for(n=Xe.return;n!==null;){var i=n;switch(bg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&eh();break;case 3:Lo(),Re(Zt),Re(Dt),Og();break;case 5:Mg(i);break;case 4:Lo();break;case 13:Re(Me);break;case 19:Re(Me);break;case 10:Ig(i.type._context);break;case 22:case 23:qg()}n=n.return}if(st=t,Xe=t=gr(t.current,null),pt=ln=e,tt=0,Ol=null,Ug=Kh=ws=0,Yt=al=null,is!==null){for(e=0;e<is.length;e++)if(n=is[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}is=null}return t}function $T(t,e){do{var n=Xe;try{if(Rg(),Pc.current=uh,lh){for(var i=Ve.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}lh=!1}if(vs=0,rt=Ze=Ve=null,sl=!1,Al=0,Bg.current=null,n===null||n.return===null){tt=1,Ol=e,Xe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=rw(o);if(m!==null){m.flags&=-257,sw(m,o,a,s,e),m.mode&1&&iw(s,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var _=new Set;_.add(l),e.updateQueue=_}else w.add(l);break e}else{if(!(e&1)){iw(s,c,e),Wg();break e}l=Error(U(426))}}else if(Ae&&a.mode&1){var R=rw(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),sw(R,o,a,s,e),Cg(Fo(l,a));break e}}s=l=Fo(l,a),tt!==4&&(tt=2),al===null?al=[s]:al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=CT(s,l,e);X0(s,x);break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(pr===null||!pr.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=PT(s,a,e);X0(s,C);break e}}s=s.return}while(s!==null)}WT(n)}catch(A){e=A,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function HT(){var t=ch.current;return ch.current=uh,t===null?uh:t}function Wg(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||!(ws&268435455)&&!(Kh&268435455)||ir(st,pt)}function fh(t,e){var n=fe;fe|=2;var i=HT();(st!==t||pt!==e)&&(xi=null,hs(t,e));do try{B2();break}catch(r){$T(t,r)}while(!0);if(Rg(),fe=n,ch.current=i,Xe!==null)throw Error(U(261));return st=null,pt=0,tt}function B2(){for(;Xe!==null;)qT(Xe)}function U2(){for(;Xe!==null&&!fI();)qT(Xe)}function qT(t){var e=GT(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?WT(t):Xe=e,Bg.current=null}function WT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=V2(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Xe=null;return}}else if(n=O2(n,e,ln),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);tt===0&&(tt=5)}function Xr(t,e,n){var i=xe,r=Pn.transition;try{Pn.transition=null,xe=1,$2(t,e,n,i)}finally{Pn.transition=r,xe=i}return null}function $2(t,e,n,i){do To();while(or!==null);if(fe&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TI(t,s),t===st&&(Xe=st=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xu||(Xu=!0,QT(Gc,function(){return To(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var o=xe;xe=1;var a=fe;fe|=4,Bg.current=null,L2(t,n),jT(n,t),u2(Fp),Yc=!!Lp,Fp=Lp=null,t.current=n,F2(n),pI(),fe=a,xe=o,Pn.transition=s}else t.current=n;if(Xu&&(Xu=!1,or=t,dh=r),s=t.pendingLanes,s===0&&(pr=null),yI(n.stateNode),tn(t,He()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(hh)throw hh=!1,t=rm,rm=null,t;return dh&1&&t.tag!==0&&To(),s=t.pendingLanes,s&1?t===sm?ll++:(ll=0,sm=t):ll=0,Mr(),null}function To(){if(or!==null){var t=CE(dh),e=Pn.transition,n=xe;try{if(Pn.transition=null,xe=16>t?16:t,or===null)var i=!1;else{if(t=or,or=null,dh=0,fe&6)throw Error(U(331));var r=fe;for(fe|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:ol(8,h,s)}var d=h.child;if(d!==null)d.return=h,H=d;else for(;H!==null;){h=H;var f=h.sibling,m=h.return;if(LT(h),h===c){H=null;break}if(f!==null){f.return=m,H=f;break}H=m}}}var w=s.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var R=_.sibling;_.sibling=null,_=R}while(_!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,H=x;break e}H=s.return}}var y=t.current;for(H=y;H!==null;){o=H;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,H=v;else e:for(o=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(A){Be(a,a.return,A)}if(a===o){H=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,H=C;break e}H=a.return}}if(fe=r,Mr(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Fh,t)}catch{}i=!0}return i}finally{xe=n,Pn.transition=e}}return!1}function vw(t,e,n){e=Fo(n,e),e=CT(t,e,1),t=fr(t,e,1),e=Bt(),t!==null&&(Zl(t,1,e),tn(t,e))}function Be(t,e,n){if(t.tag===3)vw(t,t,n);else for(;e!==null;){if(e.tag===3){vw(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(pr===null||!pr.has(i))){t=Fo(n,t),t=PT(e,t,1),e=fr(e,t,1),t=Bt(),e!==null&&(Zl(e,1,t),tn(e,t));break}}e=e.return}}function H2(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(pt&n)===n&&(tt===4||tt===3&&(pt&130023424)===pt&&500>He()-$g?hs(t,0):Ug|=n),tn(t,e)}function KT(t,e){e===0&&(t.mode&1?(e=Bu,Bu<<=1,!(Bu&130023424)&&(Bu=4194304)):e=1);var n=Bt();t=Li(t,e),t!==null&&(Zl(t,e,n),tn(t,n))}function q2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KT(t,n)}function W2(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),KT(t,n)}var GT;GT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,M2(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Ae&&e.flags&1048576&&JE(e,ih,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ic(t,e),t=e.pendingProps;var r=Oo(e,Dt.current);Eo(e,n),r=Ng(null,e,i,t,r,n);var s=Lg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(i)?(s=!0,th(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ag(e),r.updater=qh,e.stateNode=r,r._reactInternals=e,Kp(e,i,t,n),e=Yp(null,e,i,!0,s,n)):(e.tag=0,Ae&&s&&Sg(e),zt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=G2(i),t=Nn(i,t),r){case 0:e=Qp(null,e,i,t,n);break e;case 1:e=lw(null,e,i,t,n);break e;case 11:e=ow(null,e,i,t,n);break e;case 14:e=aw(null,e,i,Nn(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Nn(i,r),Qp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Nn(i,r),lw(t,e,i,r,n);case 3:e:{if(AT(e),t===null)throw Error(U(387));i=e.pendingProps,s=e.memoizedState,r=s.element,rT(t,e),oh(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Fo(Error(U(423)),e),e=uw(t,e,i,n,r);break e}else if(i!==r){r=Fo(Error(U(424)),e),e=uw(t,e,i,n,r);break e}else for(un=dr(e.stateNode.containerInfo.firstChild),dn=e,Ae=!0,zn=null,n=nT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),i===r){e=Fi(t,e,n);break e}zt(t,e,i,n)}e=e.child}return e;case 5:return sT(e),t===null&&Hp(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,zp(i,r)?o=null:s!==null&&zp(i,s)&&(e.flags|=32),kT(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&Hp(e),null;case 13:return DT(t,e,n);case 4:return Dg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=No(e,null,i,n):zt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Nn(i,r),ow(t,e,i,r,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Se(rh,i._currentValue),i._currentValue=o,s!==null)if(Gn(s.value,o)){if(s.children===r.children&&!Zt.current){e=Fi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Pi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Eo(e,n),r=Rn(r),i=i(r),e.flags|=1,zt(t,e,i,n),e.child;case 14:return i=e.type,r=Nn(i,e.pendingProps),r=Nn(i.type,r),aw(t,e,i,r,n);case 15:return RT(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Nn(i,r),Ic(t,e),e.tag=1,en(i)?(t=!0,th(e)):t=!1,Eo(e,n),bT(e,i,r),Kp(e,i,r,n),Yp(null,e,i,!0,t,n);case 19:return MT(t,e,n);case 22:return IT(t,e,n)}throw Error(U(156,e.tag))};function QT(t,e){return EE(t,e)}function K2(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,i){return new K2(t,e,n,i)}function Kg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G2(t){if(typeof t=="function")return Kg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dg)return 11;if(t===fg)return 14}return 2}function gr(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dc(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Kg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xs:return ds(n.children,r,s,e);case hg:o=8,r|=8;break;case yp:return t=Cn(12,n,e,r|2),t.elementType=yp,t.lanes=s,t;case vp:return t=Cn(13,n,e,r),t.elementType=vp,t.lanes=s,t;case wp:return t=Cn(19,n,e,r),t.elementType=wp,t.lanes=s,t;case sE:return Gh(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iE:o=10;break e;case rE:o=9;break e;case dg:o=11;break e;case fg:o=14;break e;case er:o=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Cn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function ds(t,e,n,i){return t=Cn(7,t,i,e),t.lanes=n,t}function Gh(t,e,n,i){return t=Cn(22,t,i,e),t.elementType=sE,t.lanes=n,t.stateNode={isHidden:!1},t}function Sf(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function bf(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q2(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sf(0),this.expirationTimes=sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Gg(t,e,n,i,r,s,o,a,l){return t=new Q2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ag(s),t}function Y2(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ys,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function YT(t){if(!t)return Er;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(en(n))return YE(t,n,e)}return e}function XT(t,e,n,i,r,s,o,a,l){return t=Gg(n,i,!0,t,r,s,o,a,l),t.context=YT(null),n=t.current,i=Bt(),r=mr(n),s=Pi(i,r),s.callback=e??null,fr(n,s,r),t.current.lanes=r,Zl(t,r,i),tn(t,i),t}function Qh(t,e,n,i){var r=e.current,s=Bt(),o=mr(r);return n=YT(n),e.context===null?e.context=n:e.pendingContext=n,e=Pi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=fr(r,e,o),t!==null&&(Hn(t,r,o,s),Cc(t,r,o)),o}function ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ww(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qg(t,e){ww(t,e),(t=t.alternate)&&ww(t,e)}function X2(){return null}var JT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yg(t){this._internalRoot=t}Yh.prototype.render=Yg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Qh(t,e,null,null)};Yh.prototype.unmount=Yg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_s(function(){Qh(null,t,null,null)}),e[Ni]=null}};function Yh(t){this._internalRoot=t}Yh.prototype.unstable_scheduleHydration=function(t){if(t){var e=IE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<nr.length&&e!==0&&e<nr[n].priority;n++);nr.splice(n,0,t),n===0&&AE(t)}};function Xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _w(){}function J2(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=ph(o);s.call(c)}}var o=XT(e,i,t,0,null,!1,!1,"",_w);return t._reactRootContainer=o,t[Ni]=o.current,Cl(t.nodeType===8?t.parentNode:t),_s(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=ph(l);a.call(c)}}var l=Gg(t,0,!1,null,null,!1,!1,"",_w);return t._reactRootContainer=l,t[Ni]=l.current,Cl(t.nodeType===8?t.parentNode:t),_s(function(){Qh(e,l,n,i)}),l}function Jh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=ph(o);a.call(l)}}Qh(e,o,t,r)}else o=J2(n,e,t,r,i);return ph(o)}PE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wa(e.pendingLanes);n!==0&&(gg(e,n|1),tn(e,He()),!(fe&6)&&(zo=He()+500,Mr()))}break;case 13:_s(function(){var i=Li(t,1);if(i!==null){var r=Bt();Hn(i,t,1,r)}}),Qg(t,1)}};yg=function(t){if(t.tag===13){var e=Li(t,134217728);if(e!==null){var n=Bt();Hn(e,t,134217728,n)}Qg(t,134217728)}};RE=function(t){if(t.tag===13){var e=mr(t),n=Li(t,e);if(n!==null){var i=Bt();Hn(n,t,e,i)}Qg(t,e)}};IE=function(){return xe};kE=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Ip=function(t,e,n){switch(e){case"input":if(Ep(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Uh(i);if(!r)throw Error(U(90));aE(i),Ep(i,r)}}}break;case"textarea":uE(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};gE=Hg;yE=_s;var Z2={usingClientEntryPoint:!1,Events:[tu,to,Uh,pE,mE,Hg]},Ma={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ek={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_E(t),t===null?null:t.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||X2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Fh=Ju.inject(ek),si=Ju}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z2;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(e))throw Error(U(200));return Y2(t,e,null,n)};vn.createRoot=function(t,e){if(!Xg(t))throw Error(U(299));var n=!1,i="",r=JT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Gg(t,1,!1,null,null,n,!1,i,r),t[Ni]=e.current,Cl(t.nodeType===8?t.parentNode:t),new Yg(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=_E(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return _s(t)};vn.hydrate=function(t,e,n){if(!Xh(e))throw Error(U(200));return Jh(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!Xg(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=JT;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=XT(e,null,t,1,n??null,r,!1,s,o),t[Ni]=e.current,Cl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Yh(e)};vn.render=function(t,e,n){if(!Xh(e))throw Error(U(200));return Jh(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Xh(t))throw Error(U(40));return t._reactRootContainer?(_s(function(){Jh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ni]=null})}),!0):!1};vn.unstable_batchedUpdates=Hg;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Xh(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Jh(t,e,n,!1,i)};vn.version="18.3.1-next-f1338f8080-20240426";function ZT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZT)}catch(t){console.error(t)}}ZT(),Zx.exports=vn;var Zh=Zx.exports;const tk=Bx(Zh);var eS,xw=Zh;eS=xw.createRoot,xw.hydrateRoot;var nk=t=>{switch(t){case"success":return sk;case"info":return ak;case"warning":return ok;case"error":return lk;default:return null}},ik=Array(12).fill(0),rk=({visible:t})=>L.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},L.createElement("div",{className:"sonner-spinner"},ik.map((e,n)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),sk=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ok=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ak=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lk=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uk=()=>{let[t,e]=L.useState(document.hidden);return L.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},lm=1,ck=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...i}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:lm++,s=this.toasts.find(a=>a.id===r),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...t,id:r,title:n}),{...a,...t,id:r,dismissible:o,title:n}):a):this.addToast({title:n,...i,dismissible:o,id:r}),r},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),r=n!==void 0;return i.then(async s=>{if(dk(s)&&!s.ok){r=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){r=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){r=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;r&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||lm++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},on=new ck,hk=(t,e)=>{let n=(e==null?void 0:e.id)||lm++;return on.addToast({title:t,...e,id:n}),n},dk=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fk=hk,pk=()=>on.toasts,Oa=Object.assign(fk,{success:on.success,info:on.info,warning:on.warning,error:on.error,custom:on.custom,message:on.message,promise:on.promise,dismiss:on.dismiss,loading:on.loading},{getHistory:pk});function mk(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}mk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zu(t){return t.label!==void 0}var gk=3,yk="32px",vk=4e3,wk=356,_k=14,xk=20,Ek=200;function Tk(...t){return t.filter(Boolean).join(" ")}var Sk=t=>{var e,n,i,r,s,o,a,l,c,h;let{invert:d,toast:f,unstyled:m,interacting:w,setHeights:_,visibleToasts:R,heights:x,index:y,toasts:v,expanded:C,removeToast:A,defaultRichColors:M,closeButton:T,style:E,cancelButtonStyle:b,actionButtonStyle:P,className:k="",descriptionClassName:D="",duration:I,position:K,gap:J,loadingIcon:ge,expandByDefault:ke,classNames:F,icons:q,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:Z,cn:Y}=t,[ie,We]=L.useState(!1),[at,ve]=L.useState(!1),[nn,Lr]=L.useState(!1),[Fr,Yn]=L.useState(!1),[Vs,zr]=L.useState(0),[ua,Ns]=L.useState(0),Ls=L.useRef(null),gi=L.useRef(null),Nd=y===0,Ld=y+1<=R,Nt=f.type,Xn=f.dismissible!==!1,_u=f.className||"",Fd=f.descriptionClassName||"",Hi=L.useMemo(()=>x.findIndex(re=>re.toastId===f.id)||0,[x,f.id]),ca=L.useMemo(()=>{var re;return(re=f.closeButton)!=null?re:T},[f.closeButton,T]),ha=L.useMemo(()=>f.duration||I||vk,[f.duration,I]),Ke=L.useRef(0),Fe=L.useRef(0),jr=L.useRef(0),yi=L.useRef(null),[da,zd]=K.split("-"),qi=L.useMemo(()=>x.reduce((re,Ee,we)=>we>=Hi?re:re+Ee.height,0),[x,Hi]),fa=uk(),xu=f.invert||d,Br=Nt==="loading";Fe.current=L.useMemo(()=>Hi*J+qi,[Hi,qi]),L.useEffect(()=>{We(!0)},[]),L.useLayoutEffect(()=>{if(!ie)return;let re=gi.current,Ee=re.style.height;re.style.height="auto";let we=re.getBoundingClientRect().height;re.style.height=Ee,Ns(we),_(yt=>yt.find(Wt=>Wt.toastId===f.id)?yt.map(Wt=>Wt.toastId===f.id?{...Wt,height:we}:Wt):[{toastId:f.id,height:we,position:f.position},...yt])},[ie,f.title,f.description,_,f.id]);let Jn=L.useCallback(()=>{ve(!0),zr(Fe.current),_(re=>re.filter(Ee=>Ee.toastId!==f.id)),setTimeout(()=>{A(f)},Ek)},[f,A,_,Fe]);L.useEffect(()=>{if(f.promise&&Nt==="loading"||f.duration===1/0||f.type==="loading")return;let re,Ee=ha;return C||w||Z&&fa?(()=>{if(jr.current<Ke.current){let we=new Date().getTime()-Ke.current;Ee=Ee-we}jr.current=new Date().getTime()})():Ee!==1/0&&(Ke.current=new Date().getTime(),re=setTimeout(()=>{var we;(we=f.onAutoClose)==null||we.call(f,f),Jn()},Ee)),()=>clearTimeout(re)},[C,w,ke,f,ha,Jn,f.promise,Nt,Z,fa]),L.useEffect(()=>{let re=gi.current;if(re){let Ee=re.getBoundingClientRect().height;return Ns(Ee),_(we=>[{toastId:f.id,height:Ee,position:f.position},...we]),()=>_(we=>we.filter(yt=>yt.toastId!==f.id))}},[_,f.id]),L.useEffect(()=>{f.delete&&Jn()},[Jn,f.delete]);function jd(){return q!=null&&q.loading?L.createElement("div",{className:"sonner-loader","data-visible":Nt==="loading"},q.loading):ge?L.createElement("div",{className:"sonner-loader","data-visible":Nt==="loading"},ge):L.createElement(rk,{visible:Nt==="loading"})}return L.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:gi,className:Y(k,_u,F==null?void 0:F.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Nt],(n=f==null?void 0:f.classNames)==null?void 0:n[Nt]),"data-sonner-toast":"","data-rich-colors":(i=f.richColors)!=null?i:M,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ie,"data-promise":!!f.promise,"data-removed":at,"data-visible":Ld,"data-y-position":da,"data-x-position":zd,"data-index":y,"data-front":Nd,"data-swiping":nn,"data-dismissible":Xn,"data-type":Nt,"data-invert":xu,"data-swipe-out":Fr,"data-expanded":!!(C||ke&&ie),style:{"--index":y,"--toasts-before":y,"--z-index":v.length-y,"--offset":`${at?Vs:Fe.current}px`,"--initial-height":ke?"auto":`${ua}px`,...E,...f.style},onPointerDown:re=>{Br||!Xn||(Ls.current=new Date,zr(Fe.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(Lr(!0),yi.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,Ee,we,yt;if(Fr||!Xn)return;yi.current=null;let Wt=Number(((re=gi.current)==null?void 0:re.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Wi=new Date().getTime()-((Ee=Ls.current)==null?void 0:Ee.getTime()),vi=Math.abs(Wt)/Wi;if(Math.abs(Wt)>=xk||vi>.11){zr(Fe.current),(we=f.onDismiss)==null||we.call(f,f),Jn(),Yn(!0);return}(yt=gi.current)==null||yt.style.setProperty("--swipe-amount","0px"),Lr(!1)},onPointerMove:re=>{var Ee;if(!yi.current||!Xn)return;let we=re.clientY-yi.current.y,yt=re.clientX-yi.current.x,Wt=(da==="top"?Math.min:Math.max)(0,we),Wi=re.pointerType==="touch"?10:2;Math.abs(Wt)>Wi?(Ee=gi.current)==null||Ee.style.setProperty("--swipe-amount",`${we}px`):Math.abs(yt)>Wi&&(yi.current=null)}},ca&&!f.jsx?L.createElement("button",{"aria-label":te,"data-disabled":Br,"data-close-button":!0,onClick:Br||!Xn?()=>{}:()=>{var re;Jn(),(re=f.onDismiss)==null||re.call(f,f)},className:Y(F==null?void 0:F.closeButton,(r=f==null?void 0:f.classNames)==null?void 0:r.closeButton)},L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||L.isValidElement(f.title)?f.jsx||f.title:L.createElement(L.Fragment,null,Nt||f.icon||f.promise?L.createElement("div",{"data-icon":"",className:Y(F==null?void 0:F.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||jd():null,f.type!=="loading"?f.icon||(q==null?void 0:q[Nt])||nk(Nt):null):null,L.createElement("div",{"data-content":"",className:Y(F==null?void 0:F.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},L.createElement("div",{"data-title":"",className:Y(F==null?void 0:F.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?L.createElement("div",{"data-description":"",className:Y(D,Fd,F==null?void 0:F.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),L.isValidElement(f.cancel)?f.cancel:f.cancel&&Zu(f.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||b,onClick:re=>{var Ee,we;Zu(f.cancel)&&Xn&&((we=(Ee=f.cancel).onClick)==null||we.call(Ee,re),Jn())},className:Y(F==null?void 0:F.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,L.isValidElement(f.action)?f.action:f.action&&Zu(f.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:re=>{var Ee,we;Zu(f.action)&&(re.defaultPrevented||((we=(Ee=f.action).onClick)==null||we.call(Ee,re),Jn()))},className:Y(F==null?void 0:F.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Ew(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var bk=t=>{let{invert:e,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:h,style:d,visibleToasts:f=gk,toastOptions:m,dir:w=Ew(),gap:_=_k,loadingIcon:R,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:v,cn:C=Tk}=t,[A,M]=L.useState([]),T=L.useMemo(()=>Array.from(new Set([n].concat(A.filter(Z=>Z.position).map(Z=>Z.position)))),[A,n]),[E,b]=L.useState([]),[P,k]=L.useState(!1),[D,I]=L.useState(!1),[K,J]=L.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ge=L.useRef(null),ke=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=L.useRef(null),q=L.useRef(!1),te=L.useCallback(Z=>{var Y;(Y=A.find(ie=>ie.id===Z.id))!=null&&Y.delete||on.dismiss(Z.id),M(ie=>ie.filter(({id:We})=>We!==Z.id))},[A]);return L.useEffect(()=>on.subscribe(Z=>{if(Z.dismiss){M(Y=>Y.map(ie=>ie.id===Z.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{tk.flushSync(()=>{M(Y=>{let ie=Y.findIndex(We=>We.id===Z.id);return ie!==-1?[...Y.slice(0,ie),{...Y[ie],...Z},...Y.slice(ie+1)]:[Z,...Y]})})})}),[]),L.useEffect(()=>{if(l!=="system"){J(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Z})=>{J(Z?"dark":"light")})},[l]),L.useEffect(()=>{A.length<=1&&k(!1)},[A]),L.useEffect(()=>{let Z=Y=>{var ie,We;i.every(at=>Y[at]||Y.code===at)&&(k(!0),(ie=ge.current)==null||ie.focus()),Y.code==="Escape"&&(document.activeElement===ge.current||(We=ge.current)!=null&&We.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[i]),L.useEffect(()=>{if(ge.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,q.current=!1)}},[ge.current]),A.length?L.createElement("section",{"aria-label":`${y} ${ke}`,tabIndex:-1},T.map((Z,Y)=>{var ie;let[We,at]=Z.split("-");return L.createElement("ol",{key:Z,dir:w==="auto"?Ew():w,tabIndex:-1,ref:ge,className:o,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":We,"data-x-position":at,style:{"--front-toast-height":`${((ie=E[0])==null?void 0:ie.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||yk,"--width":`${wk}px`,"--gap":`${_}px`,...d},onBlur:ve=>{q.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(q.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||q.current||(q.current=!0,F.current=ve.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},A.filter(ve=>!ve.position&&Y===0||ve.position===Z).map((ve,nn)=>{var Lr,Fr;return L.createElement(Sk,{key:ve.id,icons:x,index:nn,toast:ve,defaultRichColors:c,duration:(Lr=m==null?void 0:m.duration)!=null?Lr:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Fr=m==null?void 0:m.closeButton)!=null?Fr:s,interacting:D,position:Z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:te,toasts:A.filter(Yn=>Yn.position==ve.position),heights:E.filter(Yn=>Yn.position==ve.position),setHeights:b,expandByDefault:r,gap:_,loadingIcon:R,expanded:P,pauseWhenPageIsHidden:v,cn:C})}))})):null};const Ck=()=>O.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"chevron-left",className:"svg-inline--fa fa-chevron-left",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:O.jsx("path",{fill:"currentColor",d:"M15 239c-9.4 9.4-9.4 24.6 0 33.9L207 465c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9L65.9 256 241 81c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L15 239z"})}),Pk=()=>O.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"code",className:"h-4 w-4 svg-inline--fa fa-code",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"1em",height:"1em",fill:"currentColor",children:O.jsx("path",{fill:"currentColor",d:"M399.1 1.1c-12.7-3.9-26.1 3.1-30 15.8l-144 464c-3.9 12.7 3.1 26.1 15.8 30s26.1-3.1 30-15.8l144-464c3.9-12.7-3.1-26.1-15.8-30zm71.4 118.5c-9.1 9.7-8.6 24.9 1.1 33.9L580.9 256 471.6 358.5c-9.7 9.1-10.2 24.3-1.1 33.9s24.3 10.2 33.9 1.1l128-120c4.8-4.5 7.6-10.9 7.6-17.5s-2.7-13-7.6-17.5l-128-120c-9.7-9.1-24.9-8.6-33.9 1.1zm-301 0c-9.1-9.7-24.3-10.2-33.9-1.1l-128 120C2.7 243 0 249.4 0 256s2.7 13 7.6 17.5l128 120c9.7 9.1 24.9 8.6 33.9-1.1s8.6-24.9-1.1-33.9L59.1 256 168.4 153.5c9.7-9.1 10.2-24.3 1.1-33.9z"})}),Rk=()=>O.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"clone",className:"svg-inline--fa fa-clone",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:O.jsx("path",{fill:"currentColor",d:"M64 464H288c8.8 0 16-7.2 16-16V384h48v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h64v48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16zM224 304H448c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H224c-8.8 0-16 7.2-16 16V288c0 8.8 7.2 16 16 16zm-64-16V64c0-35.3 28.7-64 64-64H448c35.3 0 64 28.7 64 64V288c0 35.3-28.7 64-64 64H224c-35.3 0-64-28.7-64-64z"})}),Tw=({...t})=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",className:"h-4 w-4",...t,children:O.jsx("path",{"fill-rule":"evenodd",d:"M13 11h7a1 1 0 110 2h-7v7a1 1 0 11-2 0v-7H4a1 1 0 110-2h7V4a1 1 0 112 0v7z","clip-rule":"evenodd"})}),Ik=()=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-log-out",children:[O.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),O.jsx("polyline",{points:"16 17 21 12 16 7"}),O.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]});var ni=(t=>(t[t.HOME=0]="HOME",t[t.ROOM=1]="ROOM",t))(ni||{});const iu=L.createContext({}),kk=iu.Provider,Ak=t=>{const{children:e,user:n}=t,[i,r]=L.useState(0);return O.jsx(kk,{value:{user:n,state:i,setState:r},children:e})};var Sw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Dk=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},nS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),i.push(n[h],n[d],n[f],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new Mk;const f=s<<2|a>>4;if(i.push(f),c!==64){const m=a<<4&240|c>>2;if(i.push(m),d!==64){const w=c<<6&192|d;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ok=function(t){const e=tS(t);return nS.encodeByteArray(e,!0)},mh=function(t){return Ok(t).replace(/\./g,"")},Vk=function(t){try{return nS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=()=>Nk().__FIREBASE_DEFAULTS__,Fk=()=>{if(typeof process>"u"||typeof Sw>"u")return;const t=Sw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vk(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return Lk()||Fk()||zk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jk=t=>{var e,n;return(n=(e=Jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bk=t=>{const e=jk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},iS=()=>{var t;return(t=Jg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mh(JSON.stringify(n)),mh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qk(){var t;const e=(t=Jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wk(){return!qk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kk(){try{return typeof indexedDB=="object"}catch{return!1}}function Gk(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="FirebaseError";class ra extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Qk,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rS.prototype.create)}}class rS{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Yk(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ra(r,a,i)}}function Yk(t,e){return t.replace(Xk,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Xk=/\{\$([^}]+)}/g;function gh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(bw(s)&&bw(o)){if(!gh(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t){return t&&t._delegate?t._delegate:t}class Vl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jk=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Uk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eA(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Zk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zk(t){return t===Jr?void 0:t}function eA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const nA={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},iA=de.INFO,rA={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},sA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=rA[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sS{constructor(e){this.name=e,this._logLevel=iA,this._logHandler=sA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const oA=(t,e)=>e.some(n=>t instanceof n);let Cw,Pw;function aA(){return Cw||(Cw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lA(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oS=new WeakMap,um=new WeakMap,aS=new WeakMap,Cf=new WeakMap,Zg=new WeakMap;function uA(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oS.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function cA(t){if(um.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});um.set(t,e)}let cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hA(t){cm=t(cm)}function dA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Pf(this),e,...n);return aS.set(i,e.sort?e.sort():[e]),yr(i)}:lA().includes(t)?function(...e){return t.apply(Pf(this),e),yr(oS.get(this))}:function(...e){return yr(t.apply(Pf(this),e))}}function fA(t){return typeof t=="function"?dA(t):(t instanceof IDBTransaction&&cA(t),oA(t,aA())?new Proxy(t,cm):t)}function yr(t){if(t instanceof IDBRequest)return uA(t);if(Cf.has(t))return Cf.get(t);const e=fA(t);return e!==t&&(Cf.set(t,e),Zg.set(e,t)),e}const Pf=t=>Zg.get(t);function pA(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=yr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(yr(o.result),l.oldVersion,l.newVersion,yr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const mA=["get","getKey","getAll","getAllKeys","count"],gA=["put","add","delete","clear"],Rf=new Map;function Rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=gA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||mA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Rf.set(e,s),s}hA(t=>({...t,get:(e,n,i)=>Rw(e,n)||t.get(e,n,i),has:(e,n)=>!!Rw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function vA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hm="@firebase/app",Iw="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new sS("@firebase/app"),wA="@firebase/app-compat",_A="@firebase/analytics-compat",xA="@firebase/analytics",EA="@firebase/app-check-compat",TA="@firebase/app-check",SA="@firebase/auth",bA="@firebase/auth-compat",CA="@firebase/database",PA="@firebase/database-compat",RA="@firebase/functions",IA="@firebase/functions-compat",kA="@firebase/installations",AA="@firebase/installations-compat",DA="@firebase/messaging",MA="@firebase/messaging-compat",OA="@firebase/performance",VA="@firebase/performance-compat",NA="@firebase/remote-config",LA="@firebase/remote-config-compat",FA="@firebase/storage",zA="@firebase/storage-compat",jA="@firebase/firestore",BA="@firebase/vertexai-preview",UA="@firebase/firestore-compat",$A="firebase",HA="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",qA={[hm]:"fire-core",[wA]:"fire-core-compat",[xA]:"fire-analytics",[_A]:"fire-analytics-compat",[TA]:"fire-app-check",[EA]:"fire-app-check-compat",[SA]:"fire-auth",[bA]:"fire-auth-compat",[CA]:"fire-rtdb",[PA]:"fire-rtdb-compat",[RA]:"fire-fn",[IA]:"fire-fn-compat",[kA]:"fire-iid",[AA]:"fire-iid-compat",[DA]:"fire-fcm",[MA]:"fire-fcm-compat",[OA]:"fire-perf",[VA]:"fire-perf-compat",[NA]:"fire-rc",[LA]:"fire-rc-compat",[FA]:"fire-gcs",[zA]:"fire-gcs-compat",[jA]:"fire-fst",[UA]:"fire-fst-compat",[BA]:"fire-vertex","fire-js":"fire-js",[$A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,WA=new Map,fm=new Map;function kw(t,e){try{t.container.addComponent(e)}catch(n){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vh(t){const e=t.name;if(fm.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,t);for(const n of yh.values())kw(n,t);for(const n of WA.values())kw(n,t);return!0}function KA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new rS("app","Firebase",GA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=HA;function lS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:dm,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw vr.create("bad-app-name",{appName:String(r)});if(n||(n=iS()),!n)throw vr.create("no-options");const s=yh.get(r);if(s){if(gh(n,s.options)&&gh(i,s.config))return s;throw vr.create("duplicate-app",{appName:r})}const o=new tA(r);for(const l of fm.values())o.addComponent(l);const a=new QA(n,i,o);return yh.set(r,a),a}function XA(t=dm){const e=yh.get(t);if(!e&&t===dm&&iS())return lS();if(!e)throw vr.create("no-app",{appName:t});return e}function So(t,e,n){var i;let r=(i=qA[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(a.join(" "));return}vh(new Vl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="firebase-heartbeat-database",ZA=1,Nl="firebase-heartbeat-store";let If=null;function uS(){return If||(If=pA(JA,ZA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nl)}catch(n){console.warn(n)}}}}).catch(t=>{throw vr.create("idb-open",{originalErrorMessage:t.message})})),If}async function eD(t){try{const n=(await uS()).transaction(Nl),i=await n.objectStore(Nl).get(cS(t));return await n.done,i}catch(e){if(e instanceof ra)xs.warn(e.message);else{const n=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xs.warn(n.message)}}}async function Aw(t,e){try{const i=(await uS()).transaction(Nl,"readwrite");await i.objectStore(Nl).put(e,cS(t)),await i.done}catch(n){if(n instanceof ra)xs.warn(n.message);else{const i=vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xs.warn(i.message)}}}function cS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=1024,nD=30*24*60*60*1e3;class iD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=nD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dw(),{heartbeatsToSend:i,unsentEntries:r}=rD(this._heartbeatsCache.heartbeats),s=mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Dw(){return new Date().toISOString().substring(0,10)}function rD(t,e=tD){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Mw(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Mw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kk()?Gk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Aw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Aw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Mw(t){return mh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){vh(new Vl("platform-logger",e=>new yA(e),"PRIVATE")),vh(new Vl("heartbeat",e=>new iD(e),"PRIVATE")),So(hm,Iw,t),So(hm,Iw,"esm2017"),So("fire-js","")}oD("");var aD="firebase",lD="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(aD,lD,"app");var Ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,hS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function b(){}b.prototype=E.prototype,T.D=E.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(P,k,D){for(var I=Array(arguments.length-2),K=2;K<arguments.length;K++)I[K-2]=arguments[K];return E.prototype[k].apply(P,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,E,b){b||(b=0);var P=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)P[k]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(k=0;16>k;++k)P[k]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=T.g[0],b=T.g[1],k=T.g[2];var D=T.g[3],I=E+(D^b&(k^D))+P[0]+3614090360&4294967295;E=b+(I<<7&4294967295|I>>>25),I=D+(k^E&(b^k))+P[1]+3905402710&4294967295,D=E+(I<<12&4294967295|I>>>20),I=k+(b^D&(E^b))+P[2]+606105819&4294967295,k=D+(I<<17&4294967295|I>>>15),I=b+(E^k&(D^E))+P[3]+3250441966&4294967295,b=k+(I<<22&4294967295|I>>>10),I=E+(D^b&(k^D))+P[4]+4118548399&4294967295,E=b+(I<<7&4294967295|I>>>25),I=D+(k^E&(b^k))+P[5]+1200080426&4294967295,D=E+(I<<12&4294967295|I>>>20),I=k+(b^D&(E^b))+P[6]+2821735955&4294967295,k=D+(I<<17&4294967295|I>>>15),I=b+(E^k&(D^E))+P[7]+4249261313&4294967295,b=k+(I<<22&4294967295|I>>>10),I=E+(D^b&(k^D))+P[8]+1770035416&4294967295,E=b+(I<<7&4294967295|I>>>25),I=D+(k^E&(b^k))+P[9]+2336552879&4294967295,D=E+(I<<12&4294967295|I>>>20),I=k+(b^D&(E^b))+P[10]+4294925233&4294967295,k=D+(I<<17&4294967295|I>>>15),I=b+(E^k&(D^E))+P[11]+2304563134&4294967295,b=k+(I<<22&4294967295|I>>>10),I=E+(D^b&(k^D))+P[12]+1804603682&4294967295,E=b+(I<<7&4294967295|I>>>25),I=D+(k^E&(b^k))+P[13]+4254626195&4294967295,D=E+(I<<12&4294967295|I>>>20),I=k+(b^D&(E^b))+P[14]+2792965006&4294967295,k=D+(I<<17&4294967295|I>>>15),I=b+(E^k&(D^E))+P[15]+1236535329&4294967295,b=k+(I<<22&4294967295|I>>>10),I=E+(k^D&(b^k))+P[1]+4129170786&4294967295,E=b+(I<<5&4294967295|I>>>27),I=D+(b^k&(E^b))+P[6]+3225465664&4294967295,D=E+(I<<9&4294967295|I>>>23),I=k+(E^b&(D^E))+P[11]+643717713&4294967295,k=D+(I<<14&4294967295|I>>>18),I=b+(D^E&(k^D))+P[0]+3921069994&4294967295,b=k+(I<<20&4294967295|I>>>12),I=E+(k^D&(b^k))+P[5]+3593408605&4294967295,E=b+(I<<5&4294967295|I>>>27),I=D+(b^k&(E^b))+P[10]+38016083&4294967295,D=E+(I<<9&4294967295|I>>>23),I=k+(E^b&(D^E))+P[15]+3634488961&4294967295,k=D+(I<<14&4294967295|I>>>18),I=b+(D^E&(k^D))+P[4]+3889429448&4294967295,b=k+(I<<20&4294967295|I>>>12),I=E+(k^D&(b^k))+P[9]+568446438&4294967295,E=b+(I<<5&4294967295|I>>>27),I=D+(b^k&(E^b))+P[14]+3275163606&4294967295,D=E+(I<<9&4294967295|I>>>23),I=k+(E^b&(D^E))+P[3]+4107603335&4294967295,k=D+(I<<14&4294967295|I>>>18),I=b+(D^E&(k^D))+P[8]+1163531501&4294967295,b=k+(I<<20&4294967295|I>>>12),I=E+(k^D&(b^k))+P[13]+2850285829&4294967295,E=b+(I<<5&4294967295|I>>>27),I=D+(b^k&(E^b))+P[2]+4243563512&4294967295,D=E+(I<<9&4294967295|I>>>23),I=k+(E^b&(D^E))+P[7]+1735328473&4294967295,k=D+(I<<14&4294967295|I>>>18),I=b+(D^E&(k^D))+P[12]+2368359562&4294967295,b=k+(I<<20&4294967295|I>>>12),I=E+(b^k^D)+P[5]+4294588738&4294967295,E=b+(I<<4&4294967295|I>>>28),I=D+(E^b^k)+P[8]+2272392833&4294967295,D=E+(I<<11&4294967295|I>>>21),I=k+(D^E^b)+P[11]+1839030562&4294967295,k=D+(I<<16&4294967295|I>>>16),I=b+(k^D^E)+P[14]+4259657740&4294967295,b=k+(I<<23&4294967295|I>>>9),I=E+(b^k^D)+P[1]+2763975236&4294967295,E=b+(I<<4&4294967295|I>>>28),I=D+(E^b^k)+P[4]+1272893353&4294967295,D=E+(I<<11&4294967295|I>>>21),I=k+(D^E^b)+P[7]+4139469664&4294967295,k=D+(I<<16&4294967295|I>>>16),I=b+(k^D^E)+P[10]+3200236656&4294967295,b=k+(I<<23&4294967295|I>>>9),I=E+(b^k^D)+P[13]+681279174&4294967295,E=b+(I<<4&4294967295|I>>>28),I=D+(E^b^k)+P[0]+3936430074&4294967295,D=E+(I<<11&4294967295|I>>>21),I=k+(D^E^b)+P[3]+3572445317&4294967295,k=D+(I<<16&4294967295|I>>>16),I=b+(k^D^E)+P[6]+76029189&4294967295,b=k+(I<<23&4294967295|I>>>9),I=E+(b^k^D)+P[9]+3654602809&4294967295,E=b+(I<<4&4294967295|I>>>28),I=D+(E^b^k)+P[12]+3873151461&4294967295,D=E+(I<<11&4294967295|I>>>21),I=k+(D^E^b)+P[15]+530742520&4294967295,k=D+(I<<16&4294967295|I>>>16),I=b+(k^D^E)+P[2]+3299628645&4294967295,b=k+(I<<23&4294967295|I>>>9),I=E+(k^(b|~D))+P[0]+4096336452&4294967295,E=b+(I<<6&4294967295|I>>>26),I=D+(b^(E|~k))+P[7]+1126891415&4294967295,D=E+(I<<10&4294967295|I>>>22),I=k+(E^(D|~b))+P[14]+2878612391&4294967295,k=D+(I<<15&4294967295|I>>>17),I=b+(D^(k|~E))+P[5]+4237533241&4294967295,b=k+(I<<21&4294967295|I>>>11),I=E+(k^(b|~D))+P[12]+1700485571&4294967295,E=b+(I<<6&4294967295|I>>>26),I=D+(b^(E|~k))+P[3]+2399980690&4294967295,D=E+(I<<10&4294967295|I>>>22),I=k+(E^(D|~b))+P[10]+4293915773&4294967295,k=D+(I<<15&4294967295|I>>>17),I=b+(D^(k|~E))+P[1]+2240044497&4294967295,b=k+(I<<21&4294967295|I>>>11),I=E+(k^(b|~D))+P[8]+1873313359&4294967295,E=b+(I<<6&4294967295|I>>>26),I=D+(b^(E|~k))+P[15]+4264355552&4294967295,D=E+(I<<10&4294967295|I>>>22),I=k+(E^(D|~b))+P[6]+2734768916&4294967295,k=D+(I<<15&4294967295|I>>>17),I=b+(D^(k|~E))+P[13]+1309151649&4294967295,b=k+(I<<21&4294967295|I>>>11),I=E+(k^(b|~D))+P[4]+4149444226&4294967295,E=b+(I<<6&4294967295|I>>>26),I=D+(b^(E|~k))+P[11]+3174756917&4294967295,D=E+(I<<10&4294967295|I>>>22),I=k+(E^(D|~b))+P[2]+718787259&4294967295,k=D+(I<<15&4294967295|I>>>17),I=b+(D^(k|~E))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+D&4294967295}i.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var b=E-this.blockSize,P=this.B,k=this.h,D=0;D<E;){if(k==0)for(;D<=b;)r(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<E;)if(P[k++]=T.charCodeAt(D++),k==this.blockSize){r(this,P),k=0;break}}else for(;D<E;)if(P[k++]=T[D++],k==this.blockSize){r(this,P),k=0;break}}this.h=k,this.o+=E},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var b=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=b&255,b/=256;for(this.u(T),T=Array(16),E=b=0;4>E;++E)for(var P=0;32>P;P+=8)T[b++]=this.g[E]>>>P&255;return T};function s(T,E){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=E(T)}function o(T,E){this.h=E;for(var b=[],P=!0,k=T.length-1;0<=k;k--){var D=T[k]|0;P&&D==E||(b[k]=D,P=!1)}this.g=b}var a={};function l(T){return-128<=T&&128>T?s(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return R(c(-T));for(var E=[],b=1,P=0;T>=b;P++)E[P]=T/b|0,b*=4294967296;return new o(E,0)}function h(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return R(h(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(E,8)),P=d,k=0;k<T.length;k+=8){var D=Math.min(8,T.length-k),I=parseInt(T.substring(k,k+D),E);8>D?(D=c(Math.pow(E,D)),P=P.j(D).add(c(I))):(P=P.j(b),P=P.add(c(I)))}return P}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-R(this).m();for(var T=0,E=1,b=0;b<this.g.length;b++){var P=this.i(b);T+=(0<=P?P:4294967296+P)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(_(this))return"-"+R(this).toString(T);for(var E=c(Math.pow(T,6)),b=this,P="";;){var k=C(b,E).g;b=x(b,k.j(E));var D=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=k,w(b))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=x(this,T),_(T)?-1:w(T)?0:1};function R(T){for(var E=T.g.length,b=[],P=0;P<E;P++)b[P]=~T.g[P];return new o(b,~T.h).add(f)}t.abs=function(){return _(this)?R(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],P=0,k=0;k<=E;k++){var D=P+(this.i(k)&65535)+(T.i(k)&65535),I=(D>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);P=I>>>16,D&=65535,I&=65535,b[k]=I<<16|D}return new o(b,b[b.length-1]&-2147483648?-1:0)};function x(T,E){return T.add(R(E))}t.j=function(T){if(w(this)||w(T))return d;if(_(this))return _(T)?R(this).j(R(T)):R(R(this).j(T));if(_(T))return R(this.j(R(T)));if(0>this.l(m)&&0>T.l(m))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,b=[],P=0;P<2*E;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<T.g.length;k++){var D=this.i(P)>>>16,I=this.i(P)&65535,K=T.i(k)>>>16,J=T.i(k)&65535;b[2*P+2*k]+=I*J,y(b,2*P+2*k),b[2*P+2*k+1]+=D*J,y(b,2*P+2*k+1),b[2*P+2*k+1]+=I*K,y(b,2*P+2*k+1),b[2*P+2*k+2]+=D*K,y(b,2*P+2*k+2)}for(P=0;P<E;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=E;P<2*E;P++)b[P]=0;return new o(b,0)};function y(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function v(T,E){this.g=T,this.h=E}function C(T,E){if(w(E))throw Error("division by zero");if(w(T))return new v(d,d);if(_(T))return E=C(R(T),E),new v(R(E.g),R(E.h));if(_(E))return E=C(T,R(E)),new v(R(E.g),E.h);if(30<T.g.length){if(_(T)||_(E))throw Error("slowDivide_ only works with positive integers.");for(var b=f,P=E;0>=P.l(T);)b=A(b),P=A(P);var k=M(b,1),D=M(P,1);for(P=M(P,2),b=M(b,2);!w(P);){var I=D.add(P);0>=I.l(T)&&(k=k.add(b),D=I),P=M(P,1),b=M(b,1)}return E=x(T,k.j(E)),new v(k,E)}for(k=d;0<=T.l(E);){for(b=Math.max(1,Math.floor(T.m()/E.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(b),I=D.j(E);_(I)||0<I.l(T);)b-=P,D=c(b),I=D.j(E);w(D)&&(D=f),k=k.add(D),T=x(T,I)}return new v(k,T)}t.A=function(T){return C(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],P=0;P<E;P++)b[P]=this.i(P)&T.i(P);return new o(b,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],P=0;P<E;P++)b[P]=this.i(P)|T.i(P);return new o(b,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],P=0;P<E;P++)b[P]=this.i(P)^T.i(P);return new o(b,this.h^T.h)};function A(T){for(var E=T.g.length+1,b=[],P=0;P<E;P++)b[P]=T.i(P)<<1|T.i(P-1)>>>31;return new o(b,T.h)}function M(T,E){var b=E>>5;E%=32;for(var P=T.g.length-b,k=[],D=0;D<P;D++)k[D]=0<E?T.i(D+b)>>>E|T.i(D+b+1)<<32-E:T.i(D+b);return new o(k,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,hS=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,fs=o}).apply(typeof Ow<"u"?Ow:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dS,fS,Ga,pS,Mc,pm,mS,gS,yS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=n(this);function r(u,p){if(p)e:{var g=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var V=u[S];if(!(V in g))break e;g=g[V]}u=u[u.length-1],S=g[u],p=p(S),p!=S&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,S=!1,V={next:function(){if(!S&&g<u.length){var N=g++;return{value:p(N,u[N]),done:!1}}return S=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,g){return u.call.apply(u.bind,arguments)}function d(u,p,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,S),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function f(u,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,V,N){for(var $=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)$[Te-2]=arguments[Te];return p.prototype[V].apply(S,$)}}function _(u){const p=u.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=u[S];return g}return[]}function R(u,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const V=u.length||0,N=S.length||0;u.length=V+N;for(let $=0;$<N;$++)u[V+$]=S[$]}else u.push(S)}}class x{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function v(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function C(u){return C[" "](u),u}C[" "]=function(){};var A=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function M(u,p,g){for(const S in u)p.call(g,u[S],S,u)}function T(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function E(u){const p={};for(const g in u)p[g]=u[g];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let g,S;for(let V=1;V<arguments.length;V++){S=arguments[V];for(g in S)u[g]=S[g];for(let N=0;N<b.length;N++)g=b[N],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function k(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function D(u){a.setTimeout(()=>{throw u},0)}function I(){var u=q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class K{constructor(){this.h=this.g=null}add(p,g){const S=J.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var J=new x(()=>new ge,u=>u.reset());class ge{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,F=!1,q=new K,te=()=>{const u=a.Promise.resolve(void 0);ke=()=>{u.then(Z)}};var Z=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(g){D(g)}var p=J;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}F=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function at(u,p){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(A){e:{try{C(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&at.aa.h.call(this)}}w(at,ie);var ve={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),Lr=0;function Fr(u,p,g,S,V){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=V,this.key=++Lr,this.da=this.fa=!1}function Yn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vs(u){this.src=u,this.g={},this.h=0}Vs.prototype.add=function(u,p,g,S,V){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var $=ua(u,p,S,V);return-1<$?(p=u[$],g||(p.fa=!1)):(p=new Fr(p,this.src,N,!!S,V),p.fa=g,u.push(p)),p};function zr(u,p){var g=p.type;if(g in u.g){var S=u.g[g],V=Array.prototype.indexOf.call(S,p,void 0),N;(N=0<=V)&&Array.prototype.splice.call(S,V,1),N&&(Yn(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function ua(u,p,g,S){for(var V=0;V<u.length;++V){var N=u[V];if(!N.da&&N.listener==p&&N.capture==!!g&&N.ha==S)return V}return-1}var Ns="closure_lm_"+(1e6*Math.random()|0),Ls={};function gi(u,p,g,S,V){if(Array.isArray(p)){for(var N=0;N<p.length;N++)gi(u,p[N],g,S,V);return null}return g=ha(g),u&&u[nn]?u.K(p,g,c(S)?!!S.capture:!!S,V):Nd(u,p,g,!1,S,V)}function Nd(u,p,g,S,V,N){if(!p)throw Error("Invalid event type");var $=c(V)?!!V.capture:!!V,Te=Hi(u);if(Te||(u[Ns]=Te=new Vs(u)),g=Te.add(p,g,S,$,N),g.proxy)return g;if(S=Ld(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)We||(V=$),V===void 0&&(V=!1),u.addEventListener(p.toString(),S,V);else if(u.attachEvent)u.attachEvent(_u(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ld(){function u(g){return p.call(u.src,u.listener,g)}const p=Fd;return u}function Nt(u,p,g,S,V){if(Array.isArray(p))for(var N=0;N<p.length;N++)Nt(u,p[N],g,S,V);else S=c(S)?!!S.capture:!!S,g=ha(g),u&&u[nn]?(u=u.i,p=String(p).toString(),p in u.g&&(N=u.g[p],g=ua(N,g,S,V),-1<g&&(Yn(N[g]),Array.prototype.splice.call(N,g,1),N.length==0&&(delete u.g[p],u.h--)))):u&&(u=Hi(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ua(p,g,S,V)),(g=-1<u?p[u]:null)&&Xn(g))}function Xn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[nn])zr(p.i,u);else{var g=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(g,S,u.capture):p.detachEvent?p.detachEvent(_u(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=Hi(p))?(zr(g,u),g.h==0&&(g.src=null,p[Ns]=null)):Yn(u)}}}function _u(u){return u in Ls?Ls[u]:Ls[u]="on"+u}function Fd(u,p){if(u.da)u=!0;else{p=new at(p,this);var g=u.listener,S=u.ha||u.src;u.fa&&Xn(u),u=g.call(S,p)}return u}function Hi(u){return u=u[Ns],u instanceof Vs?u:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(u){return typeof u=="function"?u:(u[ca]||(u[ca]=function(p){return u.handleEvent(p)}),u[ca])}function Ke(){Y.call(this),this.i=new Vs(this),this.M=this,this.F=null}w(Ke,Y),Ke.prototype[nn]=!0,Ke.prototype.removeEventListener=function(u,p,g,S){Nt(this,u,p,g,S)};function Fe(u,p){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new ie(p,u);else if(p instanceof ie)p.target=p.target||u;else{var V=p;p=new ie(S,u),P(p,V)}if(V=!0,g)for(var N=g.length-1;0<=N;N--){var $=p.g=g[N];V=jr($,S,!0,p)&&V}if($=p.g=u,V=jr($,S,!0,p)&&V,V=jr($,S,!1,p)&&V,g)for(N=0;N<g.length;N++)$=p.g=g[N],V=jr($,S,!1,p)&&V}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],S=0;S<g.length;S++)Yn(g[S]);delete u.g[p],u.h--}}this.F=null},Ke.prototype.K=function(u,p,g,S){return this.i.add(String(u),p,!1,g,S)},Ke.prototype.L=function(u,p,g,S){return this.i.add(String(u),p,!0,g,S)};function jr(u,p,g,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,N=0;N<p.length;++N){var $=p[N];if($&&!$.da&&$.capture==g){var Te=$.listener,lt=$.ha||$.src;$.fa&&zr(u.i,$),V=Te.call(lt,S)!==!1&&V}}return V&&!S.defaultPrevented}function yi(u,p,g){if(typeof u=="function")g&&(u=f(u,g));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function da(u){u.g=yi(()=>{u.g=null,u.i&&(u.i=!1,da(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class zd extends Y{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){Y.call(this),this.h=u,this.g={}}w(qi,Y);var fa=[];function xu(u){M(u.g,function(p,g){this.g.hasOwnProperty(g)&&Xn(p)},u),u.g={}}qi.prototype.N=function(){qi.aa.N.call(this),xu(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=a.JSON.stringify,Jn=a.JSON.parse,jd=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function re(){}re.prototype.h=null;function Ee(u){return u.h||(u.h=u.i())}function we(){}var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wt(){ie.call(this,"d")}w(Wt,ie);function Wi(){ie.call(this,"c")}w(Wi,ie);var vi={},Sv=null;function Eu(){return Sv=Sv||new Ke}vi.La="serverreachability";function bv(u){ie.call(this,vi.La,u)}w(bv,ie);function pa(u){const p=Eu();Fe(p,new bv(p))}vi.STAT_EVENT="statevent";function Cv(u,p){ie.call(this,vi.STAT_EVENT,u),this.stat=p}w(Cv,ie);function Lt(u){const p=Eu();Fe(p,new Cv(p,u))}vi.Ma="timingevent";function Pv(u,p){ie.call(this,vi.Ma,u),this.size=p}w(Pv,ie);function ma(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function ga(){this.g=!0}ga.prototype.xa=function(){this.g=!1};function oR(u,p,g,S,V,N){u.info(function(){if(u.g)if(N)for(var $="",Te=N.split("&"),lt=0;lt<Te.length;lt++){var pe=Te[lt].split("=");if(1<pe.length){var vt=pe[0];pe=pe[1];var wt=vt.split("_");$=2<=wt.length&&wt[1]=="type"?$+(vt+"="+pe+"&"):$+(vt+"=redacted&")}}else $=null;else $=N;return"XMLHTTP REQ ("+S+") [attempt "+V+"]: "+p+`
`+g+`
`+$})}function aR(u,p,g,S,V,N,$){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+V+"]: "+p+`
`+g+`
`+N+" "+$})}function Fs(u,p,g,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+uR(u,g)+(S?" "+S:"")})}function lR(u,p){u.info(function(){return"TIMEOUT: "+p})}ga.prototype.info=function(){};function uR(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var V=S[1];if(Array.isArray(V)&&!(1>V.length)){var N=V[0];if(N!="noop"&&N!="stop"&&N!="close")for(var $=1;$<V.length;$++)V[$]=""}}}}return Br(g)}catch{return p}}var Tu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bd;function Su(){}w(Su,re),Su.prototype.g=function(){return new XMLHttpRequest},Su.prototype.i=function(){return{}},Bd=new Su;function Ki(u,p,g,S){this.j=u,this.i=p,this.l=g,this.R=S||1,this.U=new qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Iv}function Iv(){this.i=null,this.g="",this.h=!1}var kv={},Ud={};function $d(u,p,g){u.L=1,u.v=Ru(wi(p)),u.m=g,u.P=!0,Av(u,null)}function Av(u,p){u.F=Date.now(),bu(u),u.A=wi(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),qv(g.i,"t",S),u.C=0,g=u.j.J,u.h=new Iv,u.g=u0(u.j,g?p:null,!u.m),0<u.O&&(u.M=new zd(f(u.Y,u,u.g),u.O)),p=u.U,g=u.g,S=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(fa[0]=V.toString()),V=fa);for(var N=0;N<V.length;N++){var $=gi(g,V[N],S||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),pa(),oR(u.i,u.u,u.A,u.l,u.R,u.m)}Ki.prototype.ca=function(u){u=u.target;const p=this.M;p&&_i(u)==3?p.j():this.Y(u)},Ki.prototype.Y=function(u){try{if(u==this.g)e:{const wt=_i(this.g);var p=this.g.Ba();const Bs=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Jv(this.g)))){this.J||wt!=4||p==7||(p==8||0>=Bs?pa(3):pa(2)),Hd(this);var g=this.g.Z();this.X=g;t:if(Dv(this)){var S=Jv(this.g);u="";var V=S.length,N=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),ya(this);var $="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(N&&p==V-1)});S.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,aR(this.i,this.u,this.A,this.l,this.R,wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,lt=this.g;if((Te=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Te)){var pe=Te;break t}}pe=null}if(g=pe)Fs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qd(this,g);else{this.o=!1,this.s=3,Lt(12),Ur(this),ya(this);break e}}if(this.P){g=!0;let Mn;for(;!this.J&&this.C<$.length;)if(Mn=cR(this,$),Mn==Ud){wt==4&&(this.s=4,Lt(14),g=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==kv){this.s=4,Lt(15),Fs(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else Fs(this.i,this.l,Mn,null),qd(this,Mn);if(Dv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||$.length!=0||this.h.h||(this.s=1,Lt(16),g=!1),this.o=this.o&&g,!g)Fs(this.i,this.l,$,"[Invalid Chunked Response]"),Ur(this),ya(this);else if(0<$.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Xd(vt),vt.M=!0,Lt(11))}}else Fs(this.i,this.l,$,null),qd(this,$);wt==4&&Ur(this),this.o&&!this.J&&(wt==4?s0(this.j,this):(this.o=!1,bu(this)))}else PR(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Ur(this),ya(this)}}}catch{}finally{}};function Dv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cR(u,p){var g=u.C,S=p.indexOf(`
`,g);return S==-1?Ud:(g=Number(p.substring(g,S)),isNaN(g)?kv:(S+=1,S+g>p.length?Ud:(p=p.slice(S,S+g),u.C=S+g,p)))}Ki.prototype.cancel=function(){this.J=!0,Ur(this)};function bu(u){u.S=Date.now()+u.I,Mv(u,u.I)}function Mv(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ma(f(u.ba,u),p)}function Hd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ki.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(lR(this.i,this.A),this.L!=2&&(pa(),Lt(17)),Ur(this),this.s=2,ya(this)):Mv(this,this.S-u)};function ya(u){u.j.G==0||u.J||s0(u.j,u)}function Ur(u){Hd(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,xu(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function qd(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||Wd(g.h,u))){if(!u.K&&Wd(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var V=S;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Mu(g),Au(g);else break e;Yd(g),Lt(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=ma(f(g.Za,g),6e3));if(1>=Nv(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Hr(g,11)}else if((u.K||g.g==u)&&Mu(g),!y(p))for(V=g.Da.g.parse(p),p=0;p<V.length;p++){let pe=V[p];if(g.T=pe[0],pe=pe[1],g.G==2)if(pe[0]=="c"){g.K=pe[1],g.ia=pe[2];const vt=pe[3];vt!=null&&(g.la=vt,g.j.info("VER="+g.la));const wt=pe[4];wt!=null&&(g.Aa=wt,g.j.info("SVER="+g.Aa));const Bs=pe[5];Bs!=null&&typeof Bs=="number"&&0<Bs&&(S=1.5*Bs,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Mn=u.g;if(Mn){const Vu=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vu){var N=S.h;N.g||Vu.indexOf("spdy")==-1&&Vu.indexOf("quic")==-1&&Vu.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Kd(N,N.h),N.h=null))}if(S.D){const Jd=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jd&&(S.ya=Jd,Ce(S.I,S.D,Jd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var $=u;if(S.qa=l0(S,S.J?S.ia:null,S.W),$.K){Lv(S.h,$);var Te=$,lt=S.L;lt&&(Te.I=lt),Te.B&&(Hd(Te),bu(Te)),S.g=$}else i0(S);0<g.i.length&&Du(g)}else pe[0]!="stop"&&pe[0]!="close"||Hr(g,7);else g.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Hr(g,7):Qd(g):pe[0]!="noop"&&g.l&&g.l.ta(pe),g.v=0)}}pa(4)}catch{}}var hR=class{constructor(u,p){this.g=u,this.map=p}};function Ov(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Nv(u){return u.h?1:u.g?u.g.size:0}function Wd(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Kd(u,p){u.g?u.g.add(p):u.h=p}function Lv(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ov.prototype.cancel=function(){if(this.i=Fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return _(u.i)}function dR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,S=0;S<g;S++)p.push(u[S]);return p}p=[],g=0;for(S in u)p[g++]=u[S];return p}function fR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const S in u)p[g++]=S;return p}}}function zv(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=fR(u),S=dR(u),V=S.length,N=0;N<V;N++)p.call(void 0,S[N],g&&g[N],u)}var jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pR(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),V=null;if(0<=S){var N=u[g].substring(0,S);V=u[g].substring(S+1)}else N=u[g];p(N,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function $r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof $r){this.h=u.h,Cu(this,u.j),this.o=u.o,this.g=u.g,Pu(this,u.s),this.l=u.l;var p=u.i,g=new _a;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),Bv(this,g),this.m=u.m}else u&&(p=String(u).match(jv))?(this.h=!1,Cu(this,p[1]||"",!0),this.o=va(p[2]||""),this.g=va(p[3]||"",!0),Pu(this,p[4]),this.l=va(p[5]||"",!0),Bv(this,p[6]||"",!0),this.m=va(p[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}$r.prototype.toString=function(){var u=[],p=this.j;p&&u.push(wa(p,Uv,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(wa(p,Uv,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(wa(g,g.charAt(0)=="/"?yR:gR,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",wa(g,wR)),u.join("")};function wi(u){return new $r(u)}function Cu(u,p,g){u.j=g?va(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Pu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Bv(u,p,g){p instanceof _a?(u.i=p,_R(u.i,u.h)):(g||(p=wa(p,vR)),u.i=new _a(p,u.h))}function Ce(u,p,g){u.i.set(p,g)}function Ru(u){return Ce(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function va(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wa(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,mR),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Uv=/[#\/\?@]/g,gR=/[#\?:]/g,yR=/[#\?]/g,vR=/[#\?@]/g,wR=/#/g;function _a(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Gi(u){u.g||(u.g=new Map,u.h=0,u.i&&pR(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=_a.prototype,t.add=function(u,p){Gi(this),this.i=null,u=zs(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function $v(u,p){Gi(u),p=zs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Hv(u,p){return Gi(u),p=zs(u,p),u.g.has(p)}t.forEach=function(u,p){Gi(this),this.g.forEach(function(g,S){g.forEach(function(V){u.call(p,V,S,this)},this)},this)},t.na=function(){Gi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const V=u[S];for(let N=0;N<V.length;N++)g.push(p[S])}return g},t.V=function(u){Gi(this);let p=[];if(typeof u=="string")Hv(this,u)&&(p=p.concat(this.g.get(zs(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return Gi(this),this.i=null,u=zs(this,u),Hv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function qv(u,p,g){$v(u,p),0<g.length&&(u.i=null,u.g.set(zs(u,p),_(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const N=encodeURIComponent(String(S)),$=this.V(S);for(S=0;S<$.length;S++){var V=N;$[S]!==""&&(V+="="+encodeURIComponent(String($[S]))),u.push(V)}}return this.i=u.join("&")};function zs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function _R(u,p){p&&!u.j&&(Gi(u),u.i=null,u.g.forEach(function(g,S){var V=S.toLowerCase();S!=V&&($v(this,S),qv(this,V,g))},u)),u.j=p}function xR(u,p){const g=new ga;if(a.Image){const S=new Image;S.onload=m(Qi,g,"TestLoadImage: loaded",!0,p,S),S.onerror=m(Qi,g,"TestLoadImage: error",!1,p,S),S.onabort=m(Qi,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=m(Qi,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function ER(u,p){const g=new ga,S=new AbortController,V=setTimeout(()=>{S.abort(),Qi(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(N=>{clearTimeout(V),N.ok?Qi(g,"TestPingServer: ok",!0,p):Qi(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),Qi(g,"TestPingServer: error",!1,p)})}function Qi(u,p,g,S,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),S(g)}catch{}}function TR(){this.g=new jd}function SR(u,p,g){const S=g||"";try{zv(u,function(V,N){let $=V;c(V)&&($=Br(V)),p.push(S+N+"="+encodeURIComponent($))})}catch(V){throw p.push(S+"type="+encodeURIComponent("_badmap")),V}}function xa(u){this.l=u.Ub||null,this.j=u.eb||!1}w(xa,re),xa.prototype.g=function(){return new Iu(this.l,this.j)},xa.prototype.i=function(u){return function(){return u}}({});function Iu(u,p){Ke.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Iu,Ke),t=Iu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ta(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ea(this):Ta(this),this.readyState==3&&Wv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ea(this))},t.Qa=function(u){this.g&&(this.response=u,Ea(this))},t.ga=function(){this.g&&Ea(this)};function Ea(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ta(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function Ta(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kv(u){let p="";return M(u,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function Gd(u,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=Kv(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Ce(u,p,g))}function ze(u){Ke.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ze,Ke);var bR=/^https?$/i,CR=["POST","PUT"];t=ze.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bd.g(),this.v=this.o?Ee(this.o):Ee(Bd),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(N){Gv(this,N);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var V in S)g.set(V,S[V]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const N of S.keys())g.set(N,S.get(N));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(N=>N.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(CR,p,void 0))||S||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,$]of g)this.g.setRequestHeader(N,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xv(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){Gv(this,N)}};function Gv(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Qv(u),ku(u)}function Qv(u){u.A||(u.A=!0,Fe(u,"complete"),Fe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Fe(this,"complete"),Fe(this,"abort"),ku(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ku(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yv(this):this.bb())},t.bb=function(){Yv(this)};function Yv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||_i(u)!=4||u.Z()!=2)){if(u.u&&_i(u)==4)yi(u.Ea,0,u);else if(Fe(u,"readystatechange"),_i(u)==4){u.h=!1;try{const $=u.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=$===0){var V=String(u.D).match(jv)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),S=!bR.test(V?V.toLowerCase():"")}g=S}if(g)Fe(u,"complete"),Fe(u,"success");else{u.m=6;try{var N=2<_i(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",Qv(u)}}finally{ku(u)}}}}function ku(u,p){if(u.g){Xv(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Fe(u,"ready");try{g.onreadystatechange=S}catch{}}}function Xv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function _i(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Jn(p)}};function Jv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function PR(u){const p={};u=(u.g&&2<=_i(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(y(u[S]))continue;var g=k(u[S]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const N=p[V]||[];p[V]=N,N.push(g)}T(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function Zv(u){this.Aa=0,this.i=[],this.j=new ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,u),this.cb=Sa("retryDelaySeedMs",1e4,u),this.Wa=Sa("forwardChannelMaxRetries",2,u),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ov(u&&u.concurrentRequestLimit),this.Da=new TR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zv.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,S){Lt(0),this.W=u,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=l0(this,null,this.W),Du(this)};function Qd(u){if(e0(u),u.G==3){var p=u.U++,g=wi(u.I);if(Ce(g,"SID",u.K),Ce(g,"RID",p),Ce(g,"TYPE","terminate"),ba(u,g),p=new Ki(u,u.j,p),p.L=2,p.v=Ru(wi(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=u0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),bu(p)}a0(u)}function Au(u){u.g&&(Xd(u),u.g.cancel(),u.g=null)}function e0(u){Au(u),u.u&&(a.clearTimeout(u.u),u.u=null),Mu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Du(u){if(!Vv(u.h)&&!u.s){u.s=!0;var p=u.Ga;ke||te(),F||(ke(),F=!0),q.add(p,u),u.B=0}}function RR(u,p){return Nv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ma(f(u.Ga,u,p),o0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Ki(this,this.j,u);let N=this.o;if(this.S&&(N?(N=E(N),P(N,this.S)):N=this.S),this.m!==null||this.O||(V.H=N,N=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=n0(this,V,p),g=wi(this.I),Ce(g,"RID",u),Ce(g,"CVER",22),this.D&&Ce(g,"X-HTTP-Session-Id",this.D),ba(this,g),N&&(this.O?p="headers="+encodeURIComponent(String(Kv(N)))+"&"+p:this.m&&Gd(g,this.m,N)),Kd(this.h,V),this.Ua&&Ce(g,"TYPE","init"),this.P?(Ce(g,"$req",p),Ce(g,"SID","null"),V.T=!0,$d(V,g,null)):$d(V,g,p),this.G=2}}else this.G==3&&(u?t0(this,u):this.i.length==0||Vv(this.h)||t0(this))};function t0(u,p){var g;p?g=p.l:g=u.U++;const S=wi(u.I);Ce(S,"SID",u.K),Ce(S,"RID",g),Ce(S,"AID",u.T),ba(u,S),u.m&&u.o&&Gd(S,u.m,u.o),g=new Ki(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=n0(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Kd(u.h,g),$d(g,S,p)}function ba(u,p){u.H&&M(u.H,function(g,S){Ce(p,S,g)}),u.l&&zv({},function(g,S){Ce(p,S,g)})}function n0(u,p,g){g=Math.min(u.i.length,g);var S=u.l?f(u.l.Na,u.l,u):null;e:{var V=u.i;let N=-1;for(;;){const $=["count="+g];N==-1?0<g?(N=V[0].g,$.push("ofs="+N)):N=0:$.push("ofs="+N);let Te=!0;for(let lt=0;lt<g;lt++){let pe=V[lt].g;const vt=V[lt].map;if(pe-=N,0>pe)N=Math.max(0,V[lt].g-100),Te=!1;else try{SR(vt,$,"req"+pe+"_")}catch{S&&S(vt)}}if(Te){S=$.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,S}function i0(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ke||te(),F||(ke(),F=!0),q.add(p,u),u.v=0}}function Yd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ma(f(u.Fa,u),o0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,r0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ma(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Au(this),r0(this))};function Xd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function r0(u){u.g=new Ki(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=wi(u.qa);Ce(p,"RID","rpc"),Ce(p,"SID",u.K),Ce(p,"AID",u.T),Ce(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ce(p,"TO",u.ja),Ce(p,"TYPE","xmlhttp"),ba(u,p),u.m&&u.o&&Gd(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Ru(wi(p)),g.m=null,g.P=!0,Av(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Au(this),Yd(this),Lt(19))};function Mu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function s0(u,p){var g=null;if(u.g==p){Mu(u),Xd(u),u.g=null;var S=2}else if(Wd(u.h,p))g=p.D,Lv(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;S=Eu(),Fe(S,new Pv(S,g)),Du(u)}else i0(u);else if(V=p.s,V==3||V==0&&0<p.X||!(S==1&&RR(u,p)||S==2&&Yd(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),V){case 1:Hr(u,5);break;case 4:Hr(u,10);break;case 3:Hr(u,6);break;default:Hr(u,2)}}}function o0(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function Hr(u,p){if(u.j.info("Error code "+p),p==2){var g=f(u.fb,u),S=u.Xa;const V=!S;S=new $r(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cu(S,"https"),Ru(S),V?xR(S.toString(),g):ER(S.toString(),g)}else Lt(2);u.G=0,u.l&&u.l.sa(p),a0(u),e0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function a0(u){if(u.G=0,u.ka=[],u.l){const p=Fv(u.h);(p.length!=0||u.i.length!=0)&&(R(u.ka,p),R(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function l0(u,p,g){var S=g instanceof $r?wi(g):new $r(g);if(S.g!="")p&&(S.g=p+"."+S.g),Pu(S,S.s);else{var V=a.location;S=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var N=new $r(null);S&&Cu(N,S),p&&(N.g=p),V&&Pu(N,V),g&&(N.l=g),S=N}return g=u.D,p=u.ya,g&&p&&Ce(S,g,p),Ce(S,"VER",u.la),ba(u,S),S}function u0(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ze(new xa({eb:g})):new ze(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function c0(){}t=c0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ou(){}Ou.prototype.g=function(u,p){return new rn(u,p)};function rn(u,p){Ke.call(this),this.g=new Zv(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new js(this)}w(rn,Ke),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Qd(this.g)},rn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Br(u),u=g);p.i.push(new hR(p.Ya++,u)),p.G==3&&Du(p)},rn.prototype.N=function(){this.g.l=null,delete this.j,Qd(this.g),delete this.g,rn.aa.N.call(this)};function h0(u){Wt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(h0,Wt);function d0(){Wi.call(this),this.status=1}w(d0,Wi);function js(u){this.g=u}w(js,c0),js.prototype.ua=function(){Fe(this.g,"a")},js.prototype.ta=function(u){Fe(this.g,new h0(u))},js.prototype.sa=function(u){Fe(this.g,new d0)},js.prototype.ra=function(){Fe(this.g,"b")},Ou.prototype.createWebChannel=Ou.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,yS=function(){return new Ou},gS=function(){return Eu()},mS=vi,pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tu.NO_ERROR=0,Tu.TIMEOUT=8,Tu.HTTP_ERROR=6,Mc=Tu,Rv.COMPLETE="complete",pS=Rv,we.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Ga=we,fS=xa,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,dS=ze}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const Vw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new sS("@firebase/firestore");function Va(){return Es.logLevel}function W(t,...e){if(Es.logLevel<=de.DEBUG){const n=e.map(ey);Es.debug(`Firestore (${sa}): ${t}`,...n)}}function ji(t,...e){if(Es.logLevel<=de.ERROR){const n=e.map(ey);Es.error(`Firestore (${sa}): ${t}`,...n)}}function jo(t,...e){if(Es.logLevel<=de.WARN){const n=e.map(ey);Es.warn(`Firestore (${sa}): ${t}`,...n)}}function ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+t;throw ji(e),new Error(e)}function be(t,e){t||ne()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends ra{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class cD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hD{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ri,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be(typeof i.accessToken=="string"),new vS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new bt(e)}}class dD{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fD{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new dD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new pD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=gD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function ye(t,e){return t<e?-1:t>e?1:0}function Bo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new nt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new nt(0,0))}static max(){return new se(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,i){n===void 0?n=0:n>e.length&&ne(),i===void 0?i=e.length-n:i>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ll.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ll?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Ll{construct(e,n,i){return new De(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new G(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new De(n)}static emptyPath(){return new De([])}}const yD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Ll{construct(e,n,i){return new ft(e,n,i)}static isValidIdentifier(e){return yD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new G(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new G(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new G(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(De.fromString(e))}static fromName(e){return new X(De.fromString(e).popFirst(5))}static empty(){return new X(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new De(e.slice()))}}function vD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=se.fromTimestamp(i===1e9?new nt(n+1,0):new nt(n,i));return new Tr(r,X.empty(),e)}function wD(t){return new Tr(t.readTime,t.key,-1)}class Tr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Tr(se.min(),X.empty(),-1)}static max(){return new Tr(se.max(),X.empty(),-1)}}function _D(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ED{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==xD)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,i)=>{n(e)})}static reject(e){return new B((n,i)=>{i(e)})}static waitFor(e){return new B((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=B.resolve(!1);for(const i of e)n=n.next(r=>r?B.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new B((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new B((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function TD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ty.oe=-1;function ed(t){return t==null}function wh(t){return t===0&&1/t==-1/0}function SD(t){return typeof t=="number"&&Number.isInteger(t)&&!wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _S(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??dt.RED,this.left=r??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new dt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return dt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,i,r,s){return this}insert(e,n,i){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lw(this.data.getIterator())}getIteratorFrom(e){return new Lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class Lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new cn([])}unionWith(e){let n=new mt(ft.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xS("Invalid base64 string: "+s):s}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const bD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(be(!!t),typeof t=="string"){let e=0;const n=bD.exec(t);if(be(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ts(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iy(t){const e=t.mapValue.fields.__previous_value__;return ny(e)?iy(e):e}function Fl(t){const e=Sr(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class zl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ny(t)?4:PD(t)?9007199254740991:10:ne()}function ci(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fl(t).isEqual(Fl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Sr(r.timestampValue),a=Sr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ts(r.bytesValue).isEqual(Ts(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Qe(r.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(r.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Qe(r.integerValue)===Qe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Qe(r.doubleValue),a=Qe(s.doubleValue);return o===a?wh(o)===wh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Nw(o)!==Nw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ci(o[l],a[l])))return!1;return!0}(t,e);default:return ne()}}function jl(t,e){return(t.values||[]).find(n=>ci(n,e))!==void 0}function Uo(t,e){if(t===e)return 0;const n=Ss(t),i=Ss(e);if(n!==i)return ye(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Fw(t.timestampValue,e.timestampValue);case 4:return Fw(Fl(t),Fl(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ts(s),l=Ts(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ye(a[c],l[c]);if(h!==0)return h}return ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ye(Qe(s.latitude),Qe(o.latitude));return a!==0?a:ye(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=Uo(a[c],l[c]);if(h)return h}return ye(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===nc.mapValue&&o===nc.mapValue)return 0;if(s===nc.mapValue)return 1;if(o===nc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=ye(l[d],h[d]);if(f!==0)return f;const m=Uo(a[l[d]],c[h[d]]);if(m!==0)return m}return ye(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function Fw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Sr(t),i=Sr(e),r=ye(n.seconds,i.seconds);return r!==0?r:ye(n.nanos,i.nanos)}function $o(t){return mm(t)}function mm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Sr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=mm(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${mm(n.fields[o])}`;return r+"}"}(t.mapValue):ne()}function gm(t){return!!t&&"integerValue"in t}function ry(t){return!!t&&"arrayValue"in t}function zw(t){return!!t&&"nullValue"in t}function jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oc(t){return!!t&&"mapValue"in t}function ul(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ul(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ul(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(n)}setAll(e){let n=ft.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=ul(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Oc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){As(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Xt(ul(this.value))}}function ES(t){const e=[];return As(t.fields,(n,i)=>{const r=new ft([n]);if(Oc(i)){const s=ES(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pt(e,0,se.min(),se.min(),se.min(),Xt.empty(),0)}static newFoundDocument(e,n,i,r){return new Pt(e,1,n,se.min(),i,r,0)}static newNoDocument(e,n){return new Pt(e,2,n,se.min(),se.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,se.min(),se.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function Bw(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=X.comparator(X.fromName(o.referenceValue),n.key):i=Uo(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Uw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function RD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{}class et extends TS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new kD(e,n,i):n==="array-contains"?new MD(e,i):n==="in"?new OD(e,i):n==="not-in"?new VD(e,i):n==="array-contains-any"?new ND(e,i):new et(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new AD(e,i):new DD(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uo(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends TS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hi(e,n)}matches(e){return SS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function SS(t){return t.op==="and"}function bS(t){return ID(t)&&SS(t)}function ID(t){for(const e of t.filters)if(e instanceof hi)return!1;return!0}function ym(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(bS(t))return t.filters.map(e=>ym(e)).join(",");{const e=t.filters.map(n=>ym(n)).join(",");return`${t.op}(${e})`}}function CS(t,e){return t instanceof et?function(i,r){return r instanceof et&&i.op===r.op&&i.field.isEqual(r.field)&&ci(i.value,r.value)}(t,e):t instanceof hi?function(i,r){return r instanceof hi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&CS(o,r.filters[a]),!0):!1}(t,e):void ne()}function PS(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(t):t instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(PS).join(" ,")+"}"}(t):"Filter"}class kD extends et{constructor(e,n,i){super(e,n,i),this.key=X.fromName(i.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class AD extends et{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DD extends et{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>X.fromName(i.referenceValue))}class MD extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ry(n)&&jl(n.arrayValue,this.value)}}class OD extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class VD extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jl(this.value.arrayValue,n)}}class ND extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>jl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function $w(t,e=null,n=[],i=[],r=null,s=null,o=null){return new LD(t,e,n,i,r,s,o)}function sy(t){const e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>ym(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$o(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$o(i)).join(",")),e.ue=n}return e.ue}function oy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uw(t.startAt,e.startAt)&&Uw(t.endAt,e.endAt)}function vm(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FD(t,e,n,i,r,s,o,a){return new td(t,e,n,i,r,s,o,a)}function nd(t){return new td(t)}function Hw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zD(t){return t.collectionGroup!==null}function cl(t){const e=oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new xh(s,i))}),n.has(ft.keyField().canonicalString())||e.ce.push(new xh(ft.keyField(),i))}return e.ce}function ai(t){const e=oe(t);return e.le||(e.le=jD(e,cl(t))),e.le}function jD(t,e){if(t.limitType==="F")return $w(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new xh(r.field,s)});const n=t.endAt?new _h(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new _h(t.startAt.position,t.startAt.inclusive):null;return $w(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function wm(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function id(t,e){return oy(ai(t),ai(e))&&t.limitType===e.limitType}function IS(t){return`${sy(ai(t))}|lt:${t.limitType}`}function Ws(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>PS(r)).join(", ")}]`),ed(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$o(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$o(r)).join(",")),`Target(${i})`}(ai(t))}; limitType=${t.limitType})`}function rd(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):X.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of cl(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=Bw(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,cl(i),r)||i.endAt&&!function(o,a,l){const c=Bw(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,cl(i),r))}(t,e)}function BD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kS(t){return(e,n)=>{let i=!1;for(const r of cl(t)){const s=UD(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function UD(t,e,n){const i=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Uo(l,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return _S(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Le(X.comparator);function Bi(){return $D}const AS=new Le(X.comparator);function Qa(...t){let e=AS;for(const n of t)e=e.insert(n.key,n);return e}function DS(t){let e=AS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ss(){return hl()}function MS(){return hl()}function hl(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const HD=new Le(X.comparator),qD=new mt(X.comparator);function ce(...t){let e=qD;for(const n of t)e=e.add(n);return e}const WD=new mt(ye);function KD(){return WD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function VS(t){return{integerValue:""+t}}function GD(t,e){return SD(e)?VS(e):OS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function QD(t,e,n){return t instanceof Bl?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&ny(s)&&(s=iy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ho?LS(t,e):t instanceof Ul?FS(t,e):function(r,s){const o=NS(r,s),a=qw(o)+qw(r.Pe);return gm(o)&&gm(r.Pe)?VS(a):OS(r.serializer,a)}(t,e)}function YD(t,e,n){return t instanceof Ho?LS(t,e):t instanceof Ul?FS(t,e):n}function NS(t,e){return t instanceof Eh?function(i){return gm(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Bl extends sd{}class Ho extends sd{constructor(e){super(),this.elements=e}}function LS(t,e){const n=zS(e);for(const i of t.elements)n.some(r=>ci(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ul extends sd{constructor(e){super(),this.elements=e}}function FS(t,e){let n=zS(e);for(const i of t.elements)n=n.filter(r=>!ci(r,i));return{arrayValue:{values:n}}}class Eh extends sd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qw(t){return Qe(t.integerValue||t.doubleValue)}function zS(t){return ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){this.field=e,this.transform=n}}function XD(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ho&&r instanceof Ho||i instanceof Ul&&r instanceof Ul?Bo(i.elements,r.elements,ci):i instanceof Eh&&r instanceof Eh?ci(i.Pe,r.Pe):i instanceof Bl&&r instanceof Bl}(t.transform,e.transform)}class JD{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class od{}function BS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ay(t.key,qn.none()):new ou(t.key,t.data,qn.none());{const n=t.data,i=Xt.empty();let r=new mt(ft.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Or(t.key,i,new cn(r.toArray()),qn.none())}}function ZD(t,e,n){t instanceof ou?function(r,s,o){const a=r.value.clone(),l=Kw(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Or?function(r,s,o){if(!Vc(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Kw(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(US(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,i){return t instanceof ou?function(s,o,a,l){if(!Vc(s.precondition,o))return a;const c=s.value.clone(),h=Gw(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Or?function(s,o,a,l){if(!Vc(s.precondition,o))return a;const c=Gw(s.fieldTransforms,l,o),h=o.data;return h.setAll(US(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Vc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function eM(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=NS(i.transform,r||null);s!=null&&(n===null&&(n=Xt.empty()),n.set(i.field,s))}return n||null}function Ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Bo(i,r,(s,o)=>XD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ou extends od{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Or extends od{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function US(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Kw(t,e,n){const i=new Map;be(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,YD(o,a,n[r]))}return i}function Gw(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,QD(s,o,e))}return i}class ay extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tM extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&ZD(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=dl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=dl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=MS();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=BS(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,i)=>Ww(n,i))&&Bo(this.baseMutations,e.baseMutations,(n,i)=>Ww(n,i))}}class ly{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){be(e.mutations.length===i.length);let r=function(){return HD}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new ly(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,he;function sM(t){switch(t){default:return ne();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function $S(t){if(t===void 0)return ji("GRPC error has no .code"),j.UNKNOWN;switch(t){case Ge.OK:return j.OK;case Ge.CANCELLED:return j.CANCELLED;case Ge.UNKNOWN:return j.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return j.INTERNAL;case Ge.UNAVAILABLE:return j.UNAVAILABLE;case Ge.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Ge.NOT_FOUND:return j.NOT_FOUND;case Ge.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Ge.ABORTED:return j.ABORTED;case Ge.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Ge.DATA_LOSS:return j.DATA_LOSS;default:return ne()}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new fs([4294967295,4294967295],0);function Qw(t){const e=oM().encode(t),n=new hS;return n.update(e),new Uint8Array(n.digest())}function Yw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fs([n,i],0),new fs([r,s],0)]}class uy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ya(`Invalid padding: ${n}`);if(i<0)throw new Ya(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fs.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(fs.fromNumber(i)));return r.compare(aM)===1&&(r=new fs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Qw(e),[i,r]=Yw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uy(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Qw(e),[i,r]=Yw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ad(se.min(),r,new Le(ye),Bi(),ce())}}class au{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new au(i,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class HS{constructor(e,n){this.targetId=e,this.me=n}}class qS{constructor(e,n,i=Mt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Xw{constructor(){this.fe=0,this.ge=Zw(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ce(),n=ce(),i=ce();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ne()}}),new au(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=Zw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bi(),this.qe=Jw(),this.Qe=new Le(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(vm(s))if(i===0){const o=new X(s.path);this.Ue(n,o,Pt.newNoDocument(o,se.min()))}else be(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Ts(i).toUint8Array()}catch(l){if(l instanceof xS)return jo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uy(o,r,s)}catch(l){return jo(l instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&vm(a.target)){const l=new X(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Pt.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=ce();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new ad(e,n,this.Qe,this.ke,i);return this.ke=Bi(),this.qe=Jw(),this.Qe=new Le(ye),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jw(){return new Le(X.comparator)}function Zw(){return new Le(X.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},cM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hM={and:"AND",or:"OR"};class dM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _m(t,e){return t.useProto3Json||ed(e)?e:{value:e}}function Th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fM(t,e){return Th(t,e.toTimestamp())}function li(t){return be(!!t),se.fromTimestamp(function(n){const i=Sr(n);return new nt(i.seconds,i.nanos)}(t))}function cy(t,e){return xm(t,e).canonicalString()}function xm(t,e){const n=function(r){return new De(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KS(t){const e=De.fromString(t);return be(JS(e)),e}function Em(t,e){return cy(t.databaseId,e.path)}function kf(t,e){const n=KS(e);if(n.get(1)!==t.databaseId.projectId)throw new G(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(QS(n))}function GS(t,e){return cy(t.databaseId,e)}function pM(t){const e=KS(t);return e.length===4?De.emptyPath():QS(e)}function Tm(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QS(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function e_(t,e,n){return{name:Em(t,e),fields:n.value.mapValue.fields}}function mM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(be(h===void 0||typeof h=="string"),Mt.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?j.UNKNOWN:$S(c.code);return new G(h,c.message||"")}(o);n=new qS(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=kf(t,i.document.name),s=li(i.document.updateTime),o=i.document.createTime?li(i.document.createTime):se.min(),a=new Xt({mapValue:{fields:i.document.fields}}),l=Pt.newFoundDocument(r,s,o,a),c=i.targetIds||[],h=i.removedTargetIds||[];n=new Nc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=kf(t,i.document),s=i.readTime?li(i.readTime):se.min(),o=Pt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Nc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=kf(t,i.document),s=i.removedTargetIds||[];n=new Nc([],s,r,null)}else{if(!("filter"in e))return ne();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new rM(r,s),a=i.targetId;n=new HS(a,o)}}return n}function gM(t,e){let n;if(e instanceof ou)n={update:e_(t,e.key,e.value)};else if(e instanceof ay)n={delete:Em(t,e.key)};else if(e instanceof Or)n={update:e_(t,e.key,e.data),updateMask:bM(e.fieldMask)};else{if(!(e instanceof tM))return ne();n={verify:Em(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ho)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Eh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:fM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function yM(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?li(r.updateTime):li(s);return o.isEqual(se.min())&&(o=li(s)),new JD(o,r.transformResults||[])}(n,e))):[]}function vM(t,e){return{documents:[GS(t,e.path)]}}function wM(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=GS(t,r);const s=function(c){if(c.length!==0)return XS(hi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Ks(f.field),direction:EM(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=_m(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:r}}function _M(t){let e=pM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){be(i===1);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=YS(d);return f instanceof hi&&bS(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(w){return new xh(Gs(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,ed(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new _h(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new _h(m,f)}(n.endAt)),FD(e,r,o,s,a,"F",l,c)}function xM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Gs(n.unaryFilter.field);return et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Gs(n.unaryFilter.field);return et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gs(n.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gs(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return et.create(Gs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(i=>YS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function EM(t){return uM[t]}function TM(t){return cM[t]}function SM(t){return hM[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function Gs(t){return ft.fromServerFormat(t.fieldPath)}function XS(t){return t instanceof et?function(n){if(n.op==="=="){if(jw(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(zw(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jw(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(zw(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:TM(n.op),value:n.value}}}(t):t instanceof hi?function(n){const i=n.getFilters().map(r=>XS(r));return i.length===1?i[0]:{compositeFilter:{op:SM(n.op),filters:i}}}(t):ne()}function bM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,i,r,s=se.min(),o=se.min(),a=Mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.ct=e}}function PM(t){const e=_M({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this._n=new IM}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Tr.min())}updateCollectionGroup(e,n,i){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class IM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new mt(De.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new mt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qo(0)}static Ln(){return new qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?B.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&dl(i.mutation,r,cn.empty(),nt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ce()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ce()){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Qa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ce()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Bi();const o=hl(),a=function(){return hl()}();return n.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof Or)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),dl(h.mutation,c,h.mutation.getFieldMask(),nt.now())):o.set(c.key,cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new AM(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=hl();let r=new Le((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||cn.empty();h=a.applyToLocalView(c,h),i.set(l,h);const d=(r.get(a.batchId)||ce()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=MS();h.forEach(f=>{if(!s.has(f)){const m=BS(n.get(f),i.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return B.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):B.resolve(ss());let a=-1,l=s;return o.next(c=>B.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ce())).next(h=>({batchId:a,changes:DS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(i=>{let r=Qa();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Qa();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const c=function(d,f){return new td(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Pt.newInvalidDocument(h)))});let a=Qa();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&dl(h.mutation,c,cn.empty(),nt.now()),rd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:li(r.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:PM(r.bundledQuery),readTime:li(r.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.overlays=new Le(X.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ss();return B.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),B.resolve()}getOverlaysForCollection(e,n,i){const r=ss(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return B.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Le((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=s.get(c.largestBatchId);h===null&&(h=ss(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ss(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return B.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new iM(n,i));let s=this.hr.get(n);s===void 0&&(s=ce(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.Pr=new mt(it.Ir),this.Tr=new mt(it.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new it(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new it(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new X(new De([])),i=new it(n,e),r=new it(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new X(new De([])),i=new it(n,e),r=new it(n,e+1);let s=ce();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new it(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class it{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return X.comparator(e.key,n.key)||ye(e.pr,n.pr)}static Er(e,n){return ye(e.pr,n.pr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new mt(it.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nM(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.wr=this.wr.add(new it(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.br(i),s=r<0?0:r;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new it(n,0),r=new it(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{const a=this.Sr(o.pr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new mt(ye);return n.forEach(r=>{const s=new it(r,0),o=new it(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),B.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;X.isDocumentKey(s)||(s=s.child(""));const o=new it(new X(s),0);let a=new mt(ye);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},o),B.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return B.forEach(n.mutations,r=>{const s=new it(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new it(n,0),r=this.wr.firstAfterOrEqual(i);return B.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.vr=e,this.docs=function(){return new Le(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return B.resolve(i?i.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let i=Bi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Pt.newInvalidDocument(r))}),B.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Bi();const o=n.path,a=new X(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_D(wD(h),i)<=0||(r.has(h.key)||rd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ne()}Fr(e,n){return B.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new LM(this)}getSize(e){return B.resolve(this.size)}}class LM extends kM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.persistence=e,this.Mr=new oa(n=>sy(n),oy),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new hy,this.targetCount=0,this.Lr=qo.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),B.waitFor(s).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return B.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),B.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return B.resolve(i)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.Br={},this.overlays={},this.kr=new ty(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new FM(this),this.indexManager=new RM,this.remoteDocumentCache=function(r){return new NM(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new CM(n),this.$r=new MM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new VM(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){W("MemoryPersistence","Starting transaction:",e);const r=new jM(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return B.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class jM extends ED{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.zr=new hy,this.jr=null}static Hr(e){return new dy(e)}get Jr(){if(this.jr)return this.jr;throw ne()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),B.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,i=>{const r=X.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=ce(),r=ce();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new fy(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Wk()?8:TD(Hk())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new BM;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Va()<=de.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(Va()<=de.DEBUG&&W("QueryEngine","Query:",Ws(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Va()<=de.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):B.resolve())}ji(e,n){if(Hw(n))return B.resolve(null);let i=ai(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=wm(n,null,"F"),i=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ce(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,wm(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,i,r){return Hw(n)||r.isEqual(se.min())?B.resolve(null):this.zi.getDocuments(e,i).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,i,r)?B.resolve(null):(Va()<=de.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ws(n)),this.es(e,o,n,vD(r,-1)).next(a=>a))})}Zi(e,n){let i=new mt(kS(e));return n.forEach((r,s)=>{rd(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Va()<=de.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Ws(n)),this.zi.getDocumentsMatchingQuery(e,n,Tr.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Le(ye),this.rs=new oa(s=>sy(s),oy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function HM(t,e,n,i){return new $M(t,e,n,i)}async function ZS(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ce();for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function qM(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let m=B.resolve();return f.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(_=>{const R=c.docVersions.get(w);be(R!==null),_.version.compareTo(R)<0&&(d.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),h.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function eb(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function WM(t,e){const n=oe(t),i=e.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const a=[];e.targetChanges.forEach((h,d)=>{const f=r.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Mt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,i)),r=r.insert(d,m),function(_,R,x){return _.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,h)&&a.push(n.Qr.updateTargetData(s,m))});let l=Bi(),c=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(KM(s,o,e.documentUpdates).next(h=>{l=h.cs,c=h.ls})),!i.isEqual(se.min())){const h=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=r,s))}function KM(t,e,n){let i=ce(),r=ce();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Bi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:r}})}function GM(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function QM(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,B.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new ar(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}async function Sm(t,e,n){const i=oe(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!su(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)}function t_(t,e,n){const i=oe(t);let r=se.min(),s=ce();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=oe(l),f=d.rs.get(h);return f!==void 0?B.resolve(d.ns.get(f)):d.Qr.getTargetData(c,h)}(i,o,ai(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:se.min(),n?s:ce())).next(a=>(YM(i,BD(e),a),{documents:a,hs:s})))}function YM(t,e,n){let i=t.ss.get(e)||se.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}class n_{constructor(){this.activeTargetIds=KD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XM{constructor(){this.no=new n_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new n_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function Af(){return ic===null?ic=function(){return 268435456+Math.round(2147483648*Math.random())}():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class tO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){const a=Af(),l=this.vo(n,i.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,r).then(h=>(W("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw jo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){const r=ZM[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){const s=Af();return new Promise((o,a)=>{const l=new dS;l.setWithCredentials(!0),l.listenOnce(pS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mc.NO_ERROR:const h=l.getResponseJson();W(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Mc.TIMEOUT:W(Et,`RPC '${e}' ${s} timed out`),a(new G(j.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const d=l.getStatus();if(W(Et,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(R){const x=R.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(x)>=0?x:j.UNKNOWN}(m.status);a(new G(w,m.message))}else a(new G(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(j.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{W(Et,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);W(Et,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Oo(e,n,i){const r=Af(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yS(),a=gS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new fS({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");W(Et,`Creating RPC '${e}' stream ${r}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,m=!1;const w=new eO({lo:R=>{m?W(Et,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(f||(W(Et,`Opening RPC '${e}' stream ${r} transport.`),d.open(),f=!0),W(Et,`RPC '${e}' stream ${r} sending:`,R),d.send(R))},ho:()=>d.close()}),_=(R,x,y)=>{R.listen(x,v=>{try{y(v)}catch(C){setTimeout(()=>{throw C},0)}})};return _(d,Ga.EventType.OPEN,()=>{m||(W(Et,`RPC '${e}' stream ${r} transport opened.`),w.mo())}),_(d,Ga.EventType.CLOSE,()=>{m||(m=!0,W(Et,`RPC '${e}' stream ${r} transport closed`),w.po())}),_(d,Ga.EventType.ERROR,R=>{m||(m=!0,jo(Et,`RPC '${e}' stream ${r} transport errored:`,R),w.po(new G(j.UNAVAILABLE,"The operation could not be completed")))}),_(d,Ga.EventType.MESSAGE,R=>{var x;if(!m){const y=R.data[0];be(!!y);const v=y,C=v.error||((x=v[0])===null||x===void 0?void 0:x.error);if(C){W(Et,`RPC '${e}' stream ${r} received error:`,C);const A=C.status;let M=function(b){const P=Ge[b];if(P!==void 0)return $S(P)}(A),T=C.message;M===void 0&&(M=j.INTERNAL,T="Unknown error status: "+A+" with message "+C.message),m=!0,w.po(new G(M,T)),d.close()}else W(Et,`RPC '${e}' stream ${r} received:`,y),w.yo(y)}}),_(a,mS.STAT_EVENT,R=>{R.stat===pm.PROXY?W(Et,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===pm.NOPROXY&&W(Et,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return new dM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&W("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,i,r,s,o,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new tb(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{const r=new G(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){const i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nO extends nb{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=mM(this.serializer,e),i=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?li(o.readTime):se.min()}(e);return this.listener.h_(n,i)}P_(e){const n={};n.database=Tm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=vm(l)?{documents:vM(s,l)}:{query:wM(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=WS(s,o.resumeToken);const c=_m(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=Th(s,o.snapshotVersion.toTimestamp());const c=_m(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=xM(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){const n={};n.database=Tm(this.serializer),n.removeTarget=e,this.i_(n)}}class iO extends nb{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=yM(e.writeResults,e.commitTime),i=li(e.commitTime);return this.listener.A_(i,n)}return be(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Tm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>gM(this.serializer,i))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new G(j.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,xm(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(j.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,xm(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(j.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class sO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ji(n),this.y_=!1):W("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(async()=>{Ds(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=oe(l);c.M_.add(4),await lu(c),c.N_.set("Unknown"),c.M_.delete(4),await ud(c)}(this))})}),this.N_=new sO(i,r)}}async function ud(t){if(Ds(t))for(const e of t.x_)await e(!0)}async function lu(t){for(const e of t.x_)await e(!1)}function ib(t,e){const n=oe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),yy(n)?gy(n):aa(n).Xo()&&my(n,e))}function py(t,e){const n=oe(t),i=aa(n);n.F_.delete(e),i.Xo()&&rb(n,e),n.F_.size===0&&(i.Xo()?i.n_():Ds(n)&&n.N_.set("Unknown"))}function my(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).P_(e)}function rb(t,e){t.L_.xe(e),aa(t).I_(e)}function gy(t){t.L_=new lM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.N_.w_()}function yy(t){return Ds(t)&&!aa(t).Zo()&&t.F_.size>0}function Ds(t){return oe(t).M_.size===0}function sb(t){t.L_=void 0}async function aO(t){t.N_.set("Online")}async function lO(t){t.F_.forEach((e,n)=>{my(t,e)})}async function uO(t,e){sb(t),yy(t)?(t.N_.D_(e),gy(t)):t.N_.set("Unknown")}async function cO(t,e,n){if(t.N_.set("Online"),e instanceof qS&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.F_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))}(t,e)}catch(i){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sh(t,i)}else if(e instanceof Nc?t.L_.Ke(e):e instanceof HS?t.L_.He(e):t.L_.We(e),!n.isEqual(se.min()))try{const i=await eb(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.F_.get(c);h&&s.F_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.F_.get(l);if(!h)return;s.F_.set(l,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),rb(s,l);const d=new ar(h.target,l,c,h.sequenceNumber);my(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){W("RemoteStore","Failed to raise snapshot:",i),await Sh(t,i)}}async function Sh(t,e,n){if(!su(e))throw e;t.M_.add(1),await lu(t),t.N_.set("Offline"),n||(n=()=>eb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await ud(t)})}function ob(t,e){return e().catch(n=>Sh(t,n,e))}async function cd(t){const e=oe(t),n=br(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;hO(e);)try{const r=await GM(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,dO(e,r)}catch(r){await Sh(e,r)}ab(e)&&lb(e)}function hO(t){return Ds(t)&&t.v_.length<10}function dO(t,e){t.v_.push(e);const n=br(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function ab(t){return Ds(t)&&!br(t).Zo()&&t.v_.length>0}function lb(t){br(t).start()}async function fO(t){br(t).V_()}async function pO(t){const e=br(t);for(const n of t.v_)e.d_(n.mutations)}async function mO(t,e,n){const i=t.v_.shift(),r=ly.from(i,e,n);await ob(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await cd(t)}async function gO(t,e){e&&br(t).E_&&await async function(i,r){if(function(o){return sM(o)&&o!==j.ABORTED}(r.code)){const s=i.v_.shift();br(i).t_(),await ob(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await cd(i)}}(t,e),ab(t)&&lb(t)}async function r_(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const i=Ds(n);n.M_.add(3),await lu(n),i&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await ud(n)}async function yO(t,e){const n=oe(t);e?(n.M_.delete(2),await ud(n)):e||(n.M_.add(2),await lu(n),n.N_.set("Unknown"))}function aa(t){return t.B_||(t.B_=function(n,i,r){const s=oe(n);return s.f_(),new nO(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:aO.bind(null,t),To:lO.bind(null,t),Ao:uO.bind(null,t),h_:cO.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),yy(t)?gy(t):t.N_.set("Unknown")):(await t.B_.stop(),sb(t))})),t.B_}function br(t){return t.k_||(t.k_=function(n,i,r){const s=oe(n);return s.f_(),new iO(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:fO.bind(null,t),Ao:gO.bind(null,t),R_:pO.bind(null,t),A_:mO.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await cd(t)):(await t.k_.stop(),t.v_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new vy(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(t,e){if(ji("AsyncQueue",`${e}: ${t}`),su(t))return new G(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.comparator=e?(n,i)=>e(n,i)||X.comparator(n.key,i.key):(n,i)=>X.comparator(n.key,i.key),this.keyedMap=Qa(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.q_=new Le(X.comparator)}track(e){const n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ne():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Wo{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wo(e,n,bo.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class wO{constructor(){this.queries=new oa(e=>IS(e),id),this.onlineState="Unknown",this.z_=new Set}}async function _y(t,e){const n=oe(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new vO,i=e.G_()?0:1);try{switch(i){case 0:s.K_=await n.onListen(r,!0);break;case 1:s.K_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=wy(o,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Ey(n)}async function xy(t,e){const n=oe(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function _O(t,e){const n=oe(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&Ey(n)}function xO(t,e,n){const i=oe(t),r=i.queries.get(e);if(r)for(const s of r.U_)s.onError(n);i.queries.delete(e)}function Ey(t){t.z_.forEach(e=>{e.next()})}var bm,o_;(o_=bm||(bm={})).J_="default",o_.Cache="cache";class Ty{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.key=e}}class cb{constructor(e){this.key=e}}class EO{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ce(),this.mutatedKeys=ce(),this.Ia=kS(e),this.Ta=new bo(this.Ia)}get Ea(){return this.la}da(e,n){const i=n?n.Aa:new s_,r=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,d)=>{const f=r.get(h),m=rd(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let R=!1;f&&m?f.data.isEqual(m.data)?w!==_&&(i.track({type:3,doc:m}),R=!0):this.Ra(f,m)||(i.track({type:2,doc:m}),R=!0,(l&&this.Ia(m,l)>0||c&&this.Ia(m,c)<0)&&(a=!0)):!f&&m?(i.track({type:0,doc:m}),R=!0):f&&!m&&(i.track({type:1,doc:f}),R=!0,(l||c)&&(a=!0)),R&&(m?(o=o.add(m),s=_?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((h,d)=>function(m,w){const _=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return _(m)-_(w)}(h.type,d.type)||this.Ia(h.doc,d.doc)),this.Va(i),r=r!=null&&r;const a=n&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new Wo(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new s_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ce(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new cb(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new ub(i))}),n}pa(e){this.la=e.hs,this.Pa=ce();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Wo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class TO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class SO{constructor(e){this.key=e,this.wa=!1}}class bO{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new oa(a=>IS(a),id),this.Da=new Map,this.Ca=new Set,this.va=new Le(X.comparator),this.Fa=new Map,this.Ma=new hy,this.xa={},this.Oa=new Map,this.Na=qo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function CO(t,e,n=!0){const i=gb(t);let r;const s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=await hb(i,e,n,!0),r}async function PO(t,e){const n=gb(t);await hb(n,e,!0,!1)}async function hb(t,e,n,i){const r=await QM(t.localStore,ai(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return i&&(a=await RO(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&ib(t.remoteStore,r),a}async function RO(t,e,n,i,r){t.Ba=(d,f,m)=>async function(_,R,x,y){let v=R.view.da(x);v.Xi&&(v=await t_(_.localStore,R.query,!1).then(({documents:T})=>R.view.da(T,v)));const C=y&&y.targetChanges.get(R.targetId),A=y&&y.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(v,_.isPrimaryClient,C,A);return l_(_,R.targetId,M.fa),M.snapshot}(t,d,f,m);const s=await t_(t.localStore,e,!0),o=new EO(e,s.hs),a=o.da(s.documents),l=au.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);l_(t,n,c.fa);const h=new TO(e,n,o);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function IO(t,e,n){const i=oe(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!id(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Sm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&py(i.remoteStore,r.targetId),Cm(i,r.targetId)}).catch(ru)):(Cm(i,r.targetId),await Sm(i.localStore,r.targetId,!0))}async function kO(t,e){const n=oe(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),py(n.remoteStore,i.targetId))}async function AO(t,e,n){const i=FO(t);try{const r=await function(o,a){const l=oe(o),c=nt.now(),h=a.reduce((m,w)=>m.add(w.key),ce());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Bi(),_=ce();return l.os.getEntries(m,h).next(R=>{w=R,w.forEach((x,y)=>{y.isValidDocument()||(_=_.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(R=>{d=R;const x=[];for(const y of a){const v=eM(y,d.get(y.key).overlayedDocument);v!=null&&x.push(new Or(y.key,v,ES(v.value.mapValue),qn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(R=>{f=R;const x=R.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(m,R.batchId,x)})}).then(()=>({batchId:f.batchId,changes:DS(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Le(ye)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(i,r.batchId,n),await uu(i,r.changes),await cd(i.remoteStore)}catch(r){const s=wy(r,"Failed to persist write");n.reject(s)}}async function db(t,e){const n=oe(t);try{const i=await WM(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Fa.get(s);o&&(be(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?be(o.wa):r.removedDocuments.size>0&&(be(o.wa),o.wa=!1))}),await uu(n,i,e)}catch(i){await ru(i)}}function a_(t,e,n){const i=oe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.U_)f.j_(a)&&(c=!0)}),c&&Ey(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function DO(t,e,n){const i=oe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Fa.get(e),s=r&&r.key;if(s){let o=new Le(X.comparator);o=o.insert(s,Pt.newNoDocument(s,se.min()));const a=ce().add(s),l=new ad(se.min(),new Map,new Le(ye),o,a);await db(i,l),i.va=i.va.remove(s),i.Fa.delete(e),Sy(i)}else await Sm(i.localStore,e,!1).then(()=>Cm(i,e,n)).catch(ru)}async function MO(t,e){const n=oe(t),i=e.batch.batchId;try{const r=await qM(n.localStore,e);pb(n,i,null),fb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await uu(n,r)}catch(r){await ru(r)}}async function OO(t,e,n){const i=oe(t);try{const r=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(be(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);pb(i,e,n),fb(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await uu(i,r)}catch(r){await ru(r)}}function fb(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function pb(t,e,n){const i=oe(t);let r=i.xa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||mb(t,i)})}function mb(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(py(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Sy(t))}function l_(t,e,n){for(const i of n)i instanceof ub?(t.Ma.addReference(i.key,e),VO(t,i)):i instanceof cb?(W("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||mb(t,i.key)):ne()}function VO(t,e){const n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(W("SyncEngine","New document in limbo: "+n),t.Ca.add(i),Sy(t))}function Sy(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new X(De.fromString(e)),i=t.Na.next();t.Fa.set(i,new SO(n)),t.va=t.va.insert(n,i),ib(t.remoteStore,new ar(ai(nd(n.path)),i,"TargetPurposeLimboResolution",ty.oe))}}async function uu(t,e,n){const i=oe(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient){const h=c&&!c.fromCache;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);const h=fy.Ki(l.targetId,c);s.push(h)}}))}),await Promise.all(o),i.Sa.h_(r),await async function(l,c){const h=oe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>B.forEach(c,f=>B.forEach(f.qi,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>B.forEach(f.Qi,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!su(d))throw d;W("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=h.ns.get(f),w=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(w);h.ns=h.ns.insert(f,_)}}}(i.localStore,s))}async function NO(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const i=await ZS(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new G(j.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await uu(n,i.us)}}function LO(t,e){const n=oe(t),i=n.Fa.get(e);if(i&&i.wa)return ce().add(i.key);{let r=ce();const s=n.Da.get(e);if(!s)return r;for(const o of s){const a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function gb(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DO.bind(null,e),e.Sa.h_=_O.bind(null,e.eventManager),e.Sa.ka=xO.bind(null,e.eventManager),e}function FO(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,e),e}class u_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HM(this.persistence,new UM,e.initialUser,this.serializer)}createPersistence(e){return new zM(dy.Hr,this.serializer)}createSharedClientState(e){return new XM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>a_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=NO.bind(null,this.syncEngine),await yO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wO}()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),i=function(s){return new tO(s)}(e.databaseInfo);return function(s,o,a,l){return new rO(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new oO(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>a_(this.syncEngine,n,0),function(){return i_.D()?new i_:new JM}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,h){const d=new bO(r,s,o,a,l,c);return h&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const r=oe(i);W("RemoteStore","RemoteStore shutting down."),r.M_.add(5),await lu(r),r.O_.shutdown(),r.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=bt.UNAUTHENTICATED,this.clientId=wS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=wy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Mf(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await ZS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function c_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UO(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>r_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>r_(e.remoteStore,r)),t._onlineComponents=e}function BO(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function UO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!BO(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await Mf(t,new u_)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await Mf(t,new u_);return t._offlineComponents}async function yb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await c_(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await c_(t,new zO))),t._onlineComponents}function $O(t){return yb(t).then(e=>e.syncEngine)}async function bh(t){const e=await yb(t),n=e.eventManager;return n.onListen=CO.bind(null,e.syncEngine),n.onUnlisten=IO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kO.bind(null,e.syncEngine),n}function HO(t,e,n={}){const i=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new by({next:f=>{o.enqueueAndForget(()=>xy(s,d));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new G(j.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new G(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Ty(nd(a.path),h,{includeMetadataChanges:!0,ra:!0});return _y(s,d)}(await bh(t),t.asyncQueue,e,n,i)),i.promise}function qO(t,e,n={}){const i=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new by({next:f=>{o.enqueueAndForget(()=>xy(s,d)),f.fromCache&&l.source==="server"?c.reject(new G(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Ty(a,h,{includeMetadataChanges:!0,ra:!0});return _y(s,d)}(await bh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e,n){if(!n)throw new G(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WO(t,e,n,i){if(e===!0&&i===!0)throw new G(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d_(t){if(!X.isDocumentKey(t))throw new G(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f_(t){if(X.isDocumentKey(t))throw new G(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cy(t);throw new G(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new G(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uD;switch(i.type){case"firstParty":return new fD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=h_.get(n);i&&(W("ComponentProvider","Removing Datastore"),h_.delete(n),i.terminate())}(this),Promise.resolve()}}function KO(t,e,n,i={}){var r;const s=(t=fn(t,hd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=bt.MOCK_USER;else{a=$k(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new G(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bt(c)}t._authCredentials=new cD(new vS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new cu(this.firestore,e,this._query)}}class Ut{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class wr extends cu{constructor(e,n,i){super(e,n,nd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new X(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Of(t,e,...n){if(t=zi(t),wb("collection","path",e),t instanceof hd){const i=De.fromString(e,...n);return f_(i),new wr(t,null,i)}{if(!(t instanceof Ut||t instanceof wr))throw new G(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return f_(i),new wr(t.firestore,null,i)}}function Na(t,e,...n){if(t=zi(t),arguments.length===1&&(e=wS.newId()),wb("doc","path",e),t instanceof hd){const i=De.fromString(e,...n);return d_(i),new Ut(t,null,new X(i))}{if(!(t instanceof Ut||t instanceof wr))throw new G(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return d_(i),new Ut(t.firestore,t instanceof wr?t.converter:null,new X(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new tb(this,"async_queue_retry"),this.hu=()=>{const n=Df();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Df();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ri;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!su(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw ji("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const r=vy.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&ne()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function m_(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Cr extends hd{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new GO}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_b(this),this._firestoreClient.terminate()}}function QO(t,e){const n=typeof t=="object"?t:XA(),i=typeof t=="string"?t:"(default)",r=KA(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Bk("firestore");s&&KO(r,...s)}return r}function dd(t){return t._firestoreClient||_b(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _b(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,h){return new CD(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new jO(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(Mt.fromBase64String(e))}catch(n){throw new G(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ko(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=/^__.*__$/;class XO{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class xb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Or(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Eb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class pd{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ch(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Eb(this.fu)&&YO.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class JO{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ld(e)}Fu(e,n,i,r=!1){return new pd({fu:e,methodName:n,vu:i,path:ft.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tb(t){const e=t._freezeSettings(),n=ld(t._databaseId);return new JO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZO(t,e,n,i,r,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);ky("Data must be an object, but it was:",o,i);const a=Sb(i,o);let l,c;if(s.merge)l=new cn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=Pm(e,d,n);if(!o.contains(f))throw new G(j.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Cb(h,f)||h.push(f)}l=new cn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new XO(new Xt(a),l,c)}class md extends hu{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function e4(t,e,n){return new pd({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ry extends hu{_toFieldTransform(e){return new jS(e.path,new Bl)}isEqual(e){return e instanceof Ry}}class Iy extends hu{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=e4(this,e,!0),i=this.Mu.map(s=>du(s,n)),r=new Ho(i);return new jS(e.path,r)}isEqual(e){return e instanceof Iy&&gh(this.Mu,e.Mu)}}function t4(t,e,n,i){const r=t.Fu(1,e,n);ky("Data must be an object, but it was:",r,i);const s=[],o=Xt.empty();As(i,(l,c)=>{const h=Ay(e,l,n);c=zi(c);const d=r.Su(h);if(c instanceof md)s.push(h);else{const f=du(c,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new cn(s);return new xb(o,a,r.fieldTransforms)}function n4(t,e,n,i,r,s){const o=t.Fu(1,e,n),a=[Pm(e,i,n)],l=[r];if(s.length%2!=0)throw new G(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Pm(e,s[f])),l.push(s[f+1]);const c=[],h=Xt.empty();for(let f=a.length-1;f>=0;--f)if(!Cb(c,a[f])){const m=a[f];let w=l[f];w=zi(w);const _=o.Su(m);if(w instanceof md)c.push(m);else{const R=du(w,_);R!=null&&(c.push(m),h.set(m,R))}}const d=new cn(c);return new xb(h,d,o.fieldTransforms)}function du(t,e){if(bb(t=zi(t)))return ky("Unsupported field value:",e,t),Sb(t,e);if(t instanceof hu)return function(i,r){if(!Eb(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=du(a,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=zi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=nt.fromDate(i);return{timestampValue:Th(r.serializer,s)}}if(i instanceof nt){const s=new nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Th(r.serializer,s)}}if(i instanceof Py)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ko)return{bytesValue:WS(r.serializer,i._byteString)};if(i instanceof Ut){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cy(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${Cy(i)}`)}(t,e)}function Sb(t,e){const n={};return _S(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(t,(i,r)=>{const s=du(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function bb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Py||t instanceof Ko||t instanceof Ut||t instanceof hu)}function ky(t,e,n){if(!bb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Cy(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function Pm(t,e,n){if((e=zi(e))instanceof fd)return e._internalPath;if(typeof e=="string")return Ay(t,e);throw Ch("Field path arguments must be of type string or ",t,!1,void 0,n)}const i4=new RegExp("[~\\*/\\[\\]]");function Ay(t,e,n){if(e.search(i4)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fd(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ch(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new G(j.INVALID_ARGUMENT,a+t+l)}function Cb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r4 extends Pb{data(){return super.data()}}function Rb(t,e){return typeof e=="string"?Ay(t,e):e instanceof fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s4{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return As(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Py(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=iy(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=Sr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=De.fromString(e);be(JS(i));const r=new zl(i.get(1),i.get(3)),s=new X(i.popFirst(5));return r.isEqual(n)||ji(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kb extends Pb{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Rb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Lc extends kb{data(e={}){return super.data(e)}}class Ab{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Xa(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Lc(this._firestore,this._userDataWriter,i.key,i,new Xa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Lc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Xa(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Lc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Xa(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:a4(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){t=fn(t,Ut);const e=fn(t.firestore,Cr);return HO(dd(e),t._key).then(n=>Mb(e,t,n))}class Dy extends s4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function Db(t){t=fn(t,cu);const e=fn(t.firestore,Cr),n=dd(e),i=new Dy(e);return Ib(t._query),qO(n,t._query).then(r=>new Ab(e,i,t,r))}function Fc(t,e,n){t=fn(t,Ut);const i=fn(t.firestore,Cr),r=o4(t.converter,e,n);return My(i,[ZO(Tb(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,qn.none())])}function g_(t,e,n,...i){t=fn(t,Ut);const r=fn(t.firestore,Cr),s=Tb(r);let o;return o=typeof(e=zi(e))=="string"||e instanceof fd?n4(s,"updateDoc",t._key,e,n,i):t4(s,"updateDoc",t._key,e),My(r,[o.toMutation(t._key,qn.exists(!0))])}function Rm(t){return My(fn(t.firestore,Cr),[new ay(t._key,qn.none())])}function Vf(t,...e){var n,i,r;t=zi(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||m_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(m_(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let l,c,h;if(t instanceof Ut)c=fn(t.firestore,Cr),h=nd(t._key.path),l={next:d=>{e[o]&&e[o](Mb(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fn(t,cu);c=fn(d.firestore,Cr),h=d._query;const f=new Dy(c);l={next:m=>{e[o]&&e[o](new Ab(c,f,d,m))},error:e[o+1],complete:e[o+2]},Ib(t._query)}return function(f,m,w,_){const R=new by(_),x=new Ty(m,R,w);return f.asyncQueue.enqueueAndForget(async()=>_y(await bh(f),x)),()=>{R.$a(),f.asyncQueue.enqueueAndForget(async()=>xy(await bh(f),x))}}(dd(c),h,a,l)}function My(t,e){return function(i,r){const s=new Ri;return i.asyncQueue.enqueueAndForget(async()=>AO(await $O(i),r,s)),s.promise}(dd(t),e)}function Mb(t,e,n){const i=n.docs.get(e._key),r=new Dy(t);return new kb(t,r,e._key,i,new Xa(n.hasPendingWrites,n.fromCache),e.converter)}function u4(){return new Ry("serverTimestamp")}function y_(...t){return new Iy("arrayUnion",t)}(function(e,n=!0){(function(r){sa=r})(YA),vh(new Vl("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Cr(new hD(i.getProvider("auth-internal")),new mD(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(c.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),So(Vw,"4.6.3",e),So(Vw,"4.6.3","esm2017")})();const c4={apiKey:"AIzaSyBDu1Q1vQVi1x6U0GfWXIFmohb32jIhKjY",authDomain:"codebuddy-1b0dc.firebaseapp.com",projectId:"codebuddy-1b0dc",storageBucket:"codebuddy-1b0dc.appspot.com",messagingSenderId:"871987263347",appId:"1:871987263347:web:cb21306ac3d48eb4e5b706",measurementId:"G-64K0SVBGFK"},v_={toFirestore:t=>t,fromFirestore:(t,e)=>{const n=t.data(e)??{};return{...n,questionId:n.questionId??""}}},h4={toFirestore:t=>t,fromFirestore:(t,e)=>{const n=t.data(e)??{};return{...n,offerCandidates:n.offerCandidates??[],answerCandidates:n.answerCandidates??[]}}},d4=lS(c4),rc=QO(d4),f4=()=>{const t=()=>{const o=Na(Of(rc,"rooms")).withConverter(v_);return{ref:()=>o,doc:a=>e(a)}},e=o=>{const a=Na(rc,"rooms",o).withConverter(v_);return{ref:()=>a,doc:()=>l4(a)}},n=o=>{const a=e(o).ref(),l=Of(rc,a.path,"usernames");return{ref:()=>l,doc:async()=>await Db(l),addUser:c=>i(o,c),deleteUser:c=>r(o,c)}},i=async(o,a)=>{const l=n(o).ref(),c=Na(l,a);await Fc(c,{createdAt:u4()})},r=async(o,a)=>{const l=n(o).ref(),c=Na(l,a);await Rm(c)};return{rooms:t,room:e,usernamesCollection:n,connections:(o,a)=>{const l=e(o).ref(),c=Of(rc,l.path,a).withConverter(h4);return{ref:()=>c,doc:h=>Na(c,h)}}}},Kt=f4(),p4=(t,e)=>new Promise((n,i)=>{const r=document.querySelector(t);if(r!=null)return n(r);const s=new MutationObserver(o=>{const a=document.querySelector(t);a!=null&&(s.disconnect(),n(a))});s.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{document.querySelector(t)==null&&(s.disconnect(),i(`Unable to locate ${t} within ${e}ms`))},e)}),Im=t=>{const e=new RegExp("(?<=problems\\/)[^/]+"),n=t.match(e);if(n)return n[0];throw new Error("Invalid Leetcode URL")},m4=t=>`https://leetcode.com/problems/${t}`,w_={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]},{urls:"turn:relay1.expressturn.com:3478",credential:"n249CgDuYqr0b4Sc",username:"efBOWWM4SVBB1JE5CO"},{urls:"turn:13.250.13.83:3478?transport=udp",username:"YzYNCouZM1mhqhmseWk6",credential:"YzYNCouZM1mhqhmseWk6"},{urls:"stun:stun.relay.metered.ca:80"},{urls:"turn:global.relay.metered.ca:80",username:"fe645f487d27702ca414216a",credential:"1RgQIEt3W2JcGbLL"},{urls:"turn:global.relay.metered.ca:80?transport=tcp",username:"fe645f487d27702ca414216a",credential:"1RgQIEt3W2JcGbLL"},{urls:"turn:global.relay.metered.ca:443",username:"fe645f487d27702ca414216a",credential:"1RgQIEt3W2JcGbLL"},{urls:"turns:global.relay.metered.ca:443?transport=tcp",username:"fe645f487d27702ca414216a",credential:"1RgQIEt3W2JcGbLL"}],iceCandidatePoolSize:10},Ob=L.createContext({}),g4=4,y4=t=>{const{user:{username:e}}=v4(),n=L.useRef({}),[i,r]=L.useState(null),[s,o]=L.useState({}),a=L.useRef(null),[l,c]=L.useState({}),h=y=>{if(l!=null)for(const v of Object.keys(n.current))m(v)(y)},d=y=>()=>{console.log("Data Channel is open for "+y),console.dir(n.current[y].pc),c(v=>({...v,[y]:!0}))},f=y=>function(v){console.log("Message from "+y),o(C=>({...C,[y]:v.data}))},m=y=>v=>{n.current[y].channel!==void 0?(console.log("Sending message to "+y),n.current[y].channel.send(v)):l[y]==null?console.log("Not connected to "+y):console.log("Data Channel not created yet")},w=async y=>{const v=Kt.rooms().ref();await Fc(v,{questionId:y},{merge:!0}),await Kt.usernamesCollection(v.id).addUser(e),console.log("Created room"),r(v.id),localStorage.setItem("curRoomId",JSON.stringify({roomId:v.id,numberOfUsers:0}))},_=L.useCallback(async(y,v)=>{const C=Kt.connections(y,v).doc(e),A=new RTCPeerConnection(w_),M=A.createDataChannel("channel");n.current[v]={username:v,pc:A,channel:M},M.onmessage=f(v),M.onopen=d(v),A.onicecandidate=async b=>{b.candidate&&await Fc(C,{offerCandidates:y_(b.candidate.toJSON())},{merge:!0})};const T=await A.createOffer();await A.setLocalDescription(T);const E={sdp:T.sdp,type:T.type};await Fc(C,{username:e,offer:E},{merge:!0}),Vf(C,b=>{const P=b.data();P!=null&&((P==null?void 0:P.answer)!=null&&A.currentRemoteDescription==null&&A.setRemoteDescription(new RTCSessionDescription(P.answer)),P.answerCandidates.forEach(k=>{A.addIceCandidate(new RTCIceCandidate(k))}))})},[e]),R=async(y,v)=>{if(!y)return Oa.error("Please enter room ID"),!1;const C=await Kt.room(y).doc();if(!C.exists())return Oa.error("Room does not exist"),!1;const A=C.data().questionId;if(v!==A){const T=m4(A);return Oa.error("The room you join is on this question:",{description:T}),!1}const M=await Kt.usernamesCollection(y).doc();return M.size>=g4?(console.log("The room is at max capacity"),Oa.error("This room is already at max capacity."),!1):(r(y),await Kt.usernamesCollection(y).addUser(e),Vf(Kt.connections(y,e).ref(),T=>{T.docChanges().forEach(async E=>{var I;if(E.type==="removed")return;const b=E.doc.data(),P=b.username;if(P==null)return;const k=Kt.connections(y,e).doc(P),D=((I=n.current[P])==null?void 0:I.pc)??new RTCPeerConnection(w_);if(n.current[P]==null&&(n.current[P]={username:P,pc:D,channel:D.createDataChannel("channel")},D.ondatachannel=K=>{n.current[P].channel=K.channel,n.current[P].channel.onmessage=f(P),n.current[P].channel.onopen=d(P)},D.onicecandidate=async K=>{K.candidate&&await g_(k,{answerCandidates:y_(K.candidate.toJSON())})}),b.offer!=null&&D.remoteDescription==null){await D.setRemoteDescription(new RTCSessionDescription(b.offer));const K=await D.createAnswer();await D.setLocalDescription(K),await g_(k,{answer:K})}b.offerCandidates.forEach(K=>{D.addIceCandidate(new RTCIceCandidate(K))})})}),JSON.parse(localStorage.getItem("curRoomId")??"{}").roomId!==y.toString()&&Oa.success(`You have successfully joined the room with ID ${y}.`),localStorage.setItem("curRoomId",JSON.stringify({roomId:y,numberOfUsers:M.size})),!0)};L.useEffect(()=>{const y=async()=>{i&&(console.log("Before Reloading",i),localStorage.setItem("reloading",i),await Kt.usernamesCollection(i).deleteUser(e))};return window.addEventListener("beforeunload",y),()=>{window.removeEventListener("beforeunload",y)}},[i,e]),L.useEffect(()=>{const y=localStorage.getItem("reloading");y&&(console.log("Reloading",y),localStorage.removeItem("reloading"),(async()=>(await x(y,!0),await R(y,Im(window.location.href))))())},[]),L.useEffect(()=>{const y=async()=>{if(i==null)return;const v=Vf(Kt.usernamesCollection(i).ref(),C=>{C.docChanges().forEach(async A=>{var M;if(A.type==="removed"){const T=A.doc.id;if(T==null||n.current[T]==null)return;const{[T]:E,...b}=n.current;n.current=b,console.log("Removed peer",T),await Rm(Kt.connections(i,e).doc(T)),o(P=>{const{[T]:k,...D}=P;return D}),c(P=>{const{[T]:k,...D}=P;return D}),localStorage.setItem("curRoomId",JSON.stringify({roomId:i,numberOfUsers:JSON.parse(localStorage.getItem("curRoomId")??"{}").numberOfUsers-1}));return}if(A.type==="added"){console.log("Added peer");const T=A.doc.id,b=(M=(await Kt.usernamesCollection(i).doc()).docs.find(P=>P.id===e))==null?void 0:M.data().createdAt;if(T==null||T===e||b.seconds>=A.doc.data().createdAt.seconds)return;console.log("Create Offer to",A.doc.id),await _(i,T),localStorage.setItem("curRoomId",JSON.stringify({roomId:i,numberOfUsers:JSON.parse(localStorage.getItem("curRoomId")??"{}").numberOfUsers+1}))}})});a.current=v};if(i!=null)return y(),()=>{a.current!=null&&a.current()}},[i,e,_]);const x=async(y,v=!1)=>{if(y==null)return;v||(localStorage.removeItem("reloading"),localStorage.removeItem("curRoomId"),localStorage.removeItem("ViewCode")),await Kt.usernamesCollection(y).deleteUser(e),(await Db(Kt.connections(y,e).ref())).docs.forEach(async A=>{Rm(A.ref)}),r(null),o({}),c({}),n.current={}};return O.jsx(Ob.Provider,{value:{createRoom:w,joinRoom:R,leaveRoom:x,roomId:i,setRoomId:r,informations:s,sendMessages:h,connected:l},children:t.children})},Vb=()=>L.useContext(Ob),v4=()=>L.useContext(iu),Nb=t=>L.useEffect(t,[]),w4=t=>{const{displayMenu:e,setDisplayMenu:n}=t,{state:i,setState:r}=L.useContext(iu),{createRoom:s,joinRoom:o,roomId:a,leaveRoom:l}=Vb(),[c,h]=L.useState(!1),[d,f]=L.useState(""),m=L.useMemo(()=>i===ni.HOME?[{display:"Create Room",icon:O.jsx(Tw,{}),onClick:()=>{r(ni.ROOM);const w=Im(window.location.href);s(w),n(!1)}},{display:"Join Room",icon:O.jsx(Pk,{}),onClick:()=>h(!0)}]:i===ni.ROOM?[{display:"Copy room ID",icon:O.jsx(Rk,{}),onClick:()=>{navigator.clipboard.writeText(a??""),n(!1)}},{display:"Leave Room",icon:O.jsx(Ik,{}),onClick:()=>{r(ni.HOME),n(!1),a&&l(a)}}]:[],[i,s,n,r,a]);return L.useEffect(()=>{a!=null?r(ni.ROOM):r(ni.HOME)},[a]),e?O.jsx("div",{className:"bg-layer-3 dark:bg-dark-layer-3 border-divider-4 dark:border-dark-divider-4 shadow-level1 dark:shadow-dark-level1 absolute right-2 top-8 w-[200px] rounded-lg p-2 outline-none transform opacity-100 scale-100 z-50",role:"menu","data-headlessui-state":"open",children:c?O.jsxs(L.Fragment,{children:[O.jsxs("div",{className:"flex gap-x-1 items-center text-md w-full cursor-pointer select-none rounded px-3 py-[5px] text-label-2 dark:text-dark-label-2 hover:text-label-1 dark:hover:text-dark-label-1 hover:bg-fill-3 dark:hover:bg-dark-fill-3",role:"menuitem","data-headlessui-state":"",onClick:()=>h(!1),children:[O.jsx(Ck,{}),O.jsx("span",{children:"Back"})]}),O.jsxs("div",{className:"flex gap-x-1 px-3 py-[5px] items-center text-md w-full text-label-2 dark:text-dark-label-2 hover:text-label-1 dark:hover:text-dark-label-1 hover:bg-fill-3 dark:hover:bg-dark-fill-3",role:"menuitem","data-headlessui-state":"",children:[O.jsx(Tw,{onClick:async()=>{const w=Im(window.location.href);await o(d,w)&&r(ni.ROOM),h(!1),n(!1)}}),O.jsx("input",{className:"w-full cursor-text rounded-lg border px-3 py-[5px] bg-fill-3 dark:bg-dark-fill-3 border-transparent",placeholder:"Enter room ID",onChange:w=>f(w.target.value)})]})]}):m.map(w=>O.jsxs("div",{className:"flex gap-x-1 items-center text-md w-full cursor-pointer select-none rounded px-3 py-[5px] text-label-2 dark:text-dark-label-2 hover:text-label-1 dark:hover:text-dark-label-1 hover:bg-fill-3 dark:hover:bg-dark-fill-3",role:"menuitem","data-headlessui-state":"",onClick:w.onClick,children:[w.icon,O.jsx("span",{children:w.display})]},w.display))}):null},Co=t=>chrome.runtime.sendMessage(t),_4=t=>chrome.storage.sync.set(t),x4=t=>chrome.storage.sync.get(t).then(e=>e[t]),E4=L.memo(function({mainCircleSize:e=210,mainCircleOpacity:n=.24,numCircles:i=8}){return O.jsx("div",{className:"absolute inset-0 [mask-image:linear-gradient(to_bottom,white,transparent)]",children:Array.from({length:i},(r,s)=>{const o=e+s*70,a=n-s*.03,l=`${s*.06}s`,c=s===i-1?"dashed":"solid",h=5+s*5;return O.jsx("div",{className:`absolute animate-ripple rounded-full bg-foreground/25 shadow-xl border [--i:${s}]`,style:{width:`${o}px`,height:`${o}px`,opacity:a,animationDelay:l,borderStyle:c,borderWidth:"1px",borderColor:`hsl(var(--foreground), ${h/100})`,top:"50%",left:"50%",transform:"translate(-50%, -50%) scale(1)"}},s)})})}),Lb=L.createContext({}),T4=Lb.Provider,S4=t=>{const{children:e,defaultActiveId:n,informations:i}=t,[r,s]=z.useState(n),{state:o}=L.useContext(iu),[a,l]=z.useState(localStorage.getItem("ViewCode")==="true"),c=i.map(d=>({id:d,displayHeader:d})),h=()=>l(!0);return L.useEffect(()=>{c.length!=0&&s(c[0].id)},[c.length]),L.useEffect(()=>{localStorage.setItem("ViewCode",a.toString())},[a]),O.jsxs(T4,{value:{activeId:r},children:[c.length===0&&o===ni.ROOM&&JSON.parse(localStorage.getItem("curRoomId")||"{}").numberOfUsers==0&&O.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full",children:O.jsxs("div",{className:"relative flex h-[500px] w-full flex-col items-center justify-center overflow-hidden rounded-lg md:shadow-xl",children:[O.jsx("div",{className:"z-10 flex size-12 items-center justify-center rounded-full border-2 bg-white p-3 shadow-[0_0_20px_-12px_rgba(0,0,0,0.8)]",children:O.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:"2",xmlns:"http://www.w3.org/2000/svg",children:[O.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),O.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),O.jsx(E4,{})]})}),O.jsxs("div",{className:"flex flex-col h-full justify-between",style:{visibility:c.length===0?"hidden":"visible"},children:[O.jsxs("div",{className:"flex flex-col grow gap-y-2",children:[e,O.jsxs("div",{className:"grow relative",children:[O.jsx("div",{id:"CodeBuddyEditor","data-view-code":a,className:"data-[view-code=false]:blur absolute top-0 left-0 w-full overflow-hidden h-full "}),!a&&c.length!=0&&O.jsx("button",{className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4  absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-lg
  `,onClick:h,children:"View"})]})]}),O.jsx("div",{className:"flex items-center w-full bg-[--color-tabset-tabbar-background] h-12 rounded-b-lg p-2 overflow-x-auto overflow-y-hidden text-sm",children:c.map(d=>O.jsxs(L.Fragment,{children:[O.jsx("div",{className:`relative text-2xl flexlayout__tab_button flexlayout__tab_button_top hover:z-50 ${d.id===r?"flexlayout__tab_button-selected medium":"flexlayout__tab_button--unselected normal"}`,onClick:()=>s(d.id),children:d.displayHeader}),O.jsx("div",{className:"flexlayout__tabset_tab_divider"})]},d.id))})]})]})},b4=t=>{const{id:e}=t,{activeId:n}=L.useContext(Lb),[i,r]=L.useState(!1);return L.useEffect(()=>{Co({action:"createModel",id:"CodeBuddyEditor",code:t.code.value,language:t.code.language})},[n]),L.useEffect(()=>{r(!0)},[n]),L.useEffect(()=>{n===e&&(Co({action:"setValueOtherEditor",code:t.code.value,language:t.code.language,changes:t.changes!==""?JSON.parse(t.changes):{},changeUser:i}),r(!1))},[n,e,t.code.value,t.code.language]),O.jsxs("div",{"data-active":n===e,className:"flex h-10 w-full items-center gap-x-2 data-[active=false]:hidden border-b p-1 border-[#0000000f] overflow-x-auto overflow-y-hidden whitespace-nowrap justify-between",children:[O.jsxs("h1",{className:" text-xl font-extrabold text-gray-900 dark:text-white ",children:["Language:"," ",O.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r to-emerald-600 from-sky-400",children:t.code.language})," "]}),O.jsxs("button",{type:"button","data-tooltip-target":"tooltip-default",onClick:()=>{Co({action:"setValue",value:t.code.value})},className:"text-white  justify-between bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clipboard-copy",children:[O.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),O.jsx("path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"}),O.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v4"}),O.jsx("path",{d:"M21 14H11"}),O.jsx("path",{d:"m15 10-4 4 4 4"})]}),O.jsx("span",{className:" ml-2",children:" Paste Code"})]})]})},C4=()=>{const{informations:t,sendMessages:e,connected:n}=Vb(),i=async()=>{var r;e(JSON.stringify({code:await Co({action:"getValue"}),changes:((r=document.querySelector("#trackEditor"))==null?void 0:r.textContent)??"{}"}))};return L.useEffect(()=>{i();const r=document.querySelector("#trackEditor");if(r){const s=new MutationObserver(async()=>{await i()});return s.observe(r,{childList:!0,subtree:!0}),()=>{s.disconnect()}}},[n]),O.jsx(S4,{defaultActiveId:Object.keys(t)[0],informations:Object.keys(t),children:Object.entries(t).map(([r,s])=>O.jsx(b4,{id:r,displayHeader:r,...JSON.parse(s)},r))})};function P4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}function $l(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const km=t=>Array.isArray(t);function Fb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Hl(t){return typeof t=="string"||Array.isArray(t)}function __(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Oy(t,e,n,i){if(typeof e=="function"){const[r,s]=__(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=__(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function gd(t,e,n){const i=t.getProps();return Oy(i,e,n!==void 0?n:i.custom,t)}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ny=["initial",...Vy],fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vr=new Set(fu),Ii=t=>t*1e3,ki=t=>t/1e3,R4={type:"spring",stiffness:500,damping:25,restSpeed:10},I4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),k4={type:"keyframes",duration:.8},A4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D4=(t,{keyframes:e})=>e.length>2?k4:Vr.has(t)?t.startsWith("scale")?I4(e[1]):R4:A4;function M4({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function Ly(t,e){return t[e]||t.default||t}const O4={skipAnimations:!1,useManualTiming:!1},V4=t=>t!==null;function yd(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(V4),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const kt=t=>t;function N4(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const m=d&&i?e:n;return h&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],n.clear(),e.forEach(a),i=!1,r&&(r=!1,l.process(c))}};return l}const sc=["read","resolveKeyframes","update","preRender","render","postRender"],L4=40;function zb(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=sc.reduce((x,y)=>(x[y]=N4(s),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:f}=o,m=()=>{const x=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(x-r.timestamp,L4),1),r.timestamp=x,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),h.process(r),d.process(r),f.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},w=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:sc.reduce((x,y)=>{const v=o[y];return x[y]=(C,A=!1,M=!1)=>(n||w(),v.schedule(C,A,M)),x},{}),cancel:x=>{for(let y=0;y<sc.length;y++)o[sc[y]].cancel(x)},state:r,steps:o}}const{schedule:_e,cancel:Ui,state:ct,steps:Nf}=zb(typeof requestAnimationFrame<"u"?requestAnimationFrame:kt,!0),jb=t=>/^0[^.\s]+$/u.test(t);function F4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jb(t):!0}let Am=kt;const Bb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Ub=t=>e=>typeof e=="string"&&e.startsWith(t),$b=Ub("--"),z4=Ub("var(--"),Fy=t=>z4(t)?j4.test(t.split("/*")[0].trim()):!1,j4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,B4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U4(t){const e=B4.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function Hb(t,e,n=1){const[i,r]=U4(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return Bb(o)?parseFloat(o):o}return Fy(r)?Hb(r,e,n+1):r}const Pr=(t,e,n)=>n>e?e:n<t?t:n,la={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fl={...la,transform:t=>Pr(0,1,t)},oc={...la,default:1},pl=t=>Math.round(t*1e5)/1e5,zy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,$4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,H4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function pu(t){return typeof t=="string"}function q4(t){return t==null}const mu=t=>({test:e=>pu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zi=mu("deg"),ui=mu("%"),ee=mu("px"),W4=mu("vh"),K4=mu("vw"),x_={...ui,parse:t=>ui.parse(t)/100,transform:t=>ui.transform(t*100)},G4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),E_=t=>t===la||t===ee,T_=(t,e)=>parseFloat(t.split(", ")[e]),S_=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return T_(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?T_(s[1],t):0}},Q4=new Set(["x","y","z"]),Y4=fu.filter(t=>!Q4.has(t));function X4(t){const e=[];return Y4.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Go={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:S_(4,13),y:S_(5,14)};Go.translateX=Go.x;Go.translateY=Go.y;const qb=t=>e=>e.test(t),J4={test:t=>t==="auto",parse:t=>t},Wb=[la,ee,ui,Zi,K4,W4,J4],b_=t=>Wb.find(qb(t)),ps=new Set;let Dm=!1,Mm=!1;function Kb(){if(Mm){const t=Array.from(ps).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=X4(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mm=!1,Dm=!1,ps.forEach(t=>t.complete()),ps.clear()}function Gb(){ps.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mm=!0)})}function Z4(){Gb(),Kb()}class jy{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ps.add(this),Dm||(Dm=!0,_e.read(Gb),_e.resolveKeyframes(Kb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ps.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ps.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const By=(t,e)=>n=>!!(pu(n)&&H4.test(n)&&n.startsWith(t)||e&&!q4(n)&&Object.prototype.hasOwnProperty.call(n,e)),Qb=(t,e,n)=>i=>{if(!pu(i))return i;const[r,s,o,a]=i.match(zy);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},eV=t=>Pr(0,255,t),Lf={...la,transform:t=>Math.round(eV(t))},os={test:By("rgb","red"),parse:Qb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Lf.transform(t)+", "+Lf.transform(e)+", "+Lf.transform(n)+", "+pl(fl.transform(i))+")"};function tV(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Om={test:By("#"),parse:tV,transform:os.transform},lo={test:By("hsl","hue"),parse:Qb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ui.transform(pl(e))+", "+ui.transform(pl(n))+", "+pl(fl.transform(i))+")"},St={test:t=>os.test(t)||Om.test(t)||lo.test(t),parse:t=>os.test(t)?os.parse(t):lo.test(t)?lo.parse(t):Om.parse(t),transform:t=>pu(t)?t:t.hasOwnProperty("red")?os.transform(t):lo.transform(t)};function nV(t){var e,n;return isNaN(t)&&pu(t)&&(((e=t.match(zy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match($4))===null||n===void 0?void 0:n.length)||0)>0}const Yb="number",Xb="color",iV="var",rV="var(",C_="${}",sV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ql(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(sV,l=>(St.test(l)?(i.color.push(s),r.push(Xb),n.push(St.parse(l))):l.startsWith(rV)?(i.var.push(s),r.push(iV),n.push(l)):(i.number.push(s),r.push(Yb),n.push(parseFloat(l))),++s,C_)).split(C_);return{values:n,split:a,indexes:i,types:r}}function Jb(t){return ql(t).values}function Zb(t){const{split:e,types:n}=ql(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===Yb?s+=pl(r[o]):a===Xb?s+=St.transform(r[o]):s+=r[o]}return s}}const oV=t=>typeof t=="number"?0:t;function aV(t){const e=Jb(t);return Zb(t)(e.map(oV))}const Rr={test:nV,parse:Jb,createTransformer:Zb,getAnimatableNone:aV},lV=new Set(["brightness","contrast","saturate","opacity"]);function uV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(zy)||[];if(!i)return t;const r=n.replace(i,"");let s=lV.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const cV=/\b([a-z-]*)\(.*?\)/gu,Vm={...Rr,getAnimatableNone:t=>{const e=t.match(cV);return e?e.map(uV).join(" "):t}},P_={...la,transform:Math.round},Uy={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,size:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,rotate:Zi,rotateX:Zi,rotateY:Zi,rotateZ:Zi,scale:oc,scaleX:oc,scaleY:oc,scaleZ:oc,skew:Zi,skewX:Zi,skewY:Zi,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:fl,originX:x_,originY:x_,originZ:ee,zIndex:P_,backgroundPositionX:ee,backgroundPositionY:ee,fillOpacity:fl,strokeOpacity:fl,numOctaves:P_},hV={...Uy,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:Vm,WebkitFilter:Vm},$y=t=>hV[t];function eC(t,e){let n=$y(t);return n!==Vm&&(n=Rr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dV=new Set(["auto","none","0"]);function fV(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!dV.has(s)&&ql(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=eC(n,r)}class tC extends jy{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Fy(c))){const h=Hb(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!G4.has(i)||e.length!==2)return;const[r,s]=e,o=b_(r),a=b_(s);if(o!==a)if(E_(o)&&E_(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)F4(e[r])&&i.push(r);i.length&&fV(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Go[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Go[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function nC(t){let e;return()=>(e===void 0&&(e=t()),e)}let zc;function pV(){zc=void 0}const Ai={now:()=>(zc===void 0&&Ai.set(ct.isProcessing||O4.useManualTiming?ct.timestamp:performance.now()),zc),set:t=>{zc=t,queueMicrotask(pV)}},R_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rr.test(t)||t==="0")&&!t.startsWith("url("));function mV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gV(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=R_(r,e),a=R_(s,e);return!o||!a?!1:mV(t)||n==="spring"&&i}const yV=40;class iC{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ai.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Z4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ai.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!gV(e,i,r,s))if(o)this.options.duration=0;else{l==null||l(yd(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function rC(t,e){return e?t*(1e3/e):0}const vV=5;function sC(t,e,n){const i=Math.max(e-vV,0);return rC(n-t(i),e-i)}const Ff=.001,wV=.01,_V=10,xV=.05,EV=1;function TV({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s,o=1-e;o=Pr(xV,EV,o),t=Pr(wV,_V,ki(t)),o<1?(r=c=>{const h=c*o,d=h*t,f=h-n,m=Nm(c,o),w=Math.exp(-d);return Ff-f/m*w},s=c=>{const d=c*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),_=Nm(Math.pow(c,2),o);return(-r(c)+Ff>0?-1:1)*((f-m)*w)/_}):(r=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-Ff+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=bV(r,s,a);if(t=Ii(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const SV=12;function bV(t,e,n){let i=n;for(let r=1;r<SV;r++)i=i-t(i)/e(i);return i}function Nm(t,e){return t*Math.sqrt(1-e*e)}const CV=["duration","bounce"],PV=["stiffness","damping","mass"];function I_(t,e){return e.some(n=>t[n]!==void 0)}function RV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!I_(t,PV)&&I_(t,CV)){const n=TV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function oC({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],s=t[t.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=RV({...i,velocity:-ki(i.velocity||0)}),m=d||0,w=l/(2*Math.sqrt(a*c)),_=s-r,R=ki(Math.sqrt(a/c)),x=Math.abs(_)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(w<1){const v=Nm(R,w);y=C=>{const A=Math.exp(-w*R*C);return s-A*((m+w*R*_)/v*Math.sin(v*C)+_*Math.cos(v*C))}}else if(w===1)y=v=>s-Math.exp(-R*v)*(_+(m+R*_)*v);else{const v=R*Math.sqrt(w*w-1);y=C=>{const A=Math.exp(-w*R*C),M=Math.min(v*C,300);return s-A*((m+w*R*_)*Math.sinh(M)+v*_*Math.cosh(M))/v}}return{calculatedDuration:f&&h||null,next:v=>{const C=y(v);if(f)o.done=v>=h;else{let A=0;w<1&&(A=v===0?Ii(m):sC(y,v,C));const M=Math.abs(A)<=n,T=Math.abs(s-C)<=e;o.done=M&&T}return o.value=o.done?s:C,o}}}function k_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,w=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let _=n*e;const R=d+_,x=o===void 0?R:o(R);x!==R&&(_=x-d);const y=E=>-_*Math.exp(-E/i),v=E=>x+y(E),C=E=>{const b=y(E),P=v(E);f.done=Math.abs(b)<=c,f.value=f.done?x:P};let A,M;const T=E=>{m(f.value)&&(A=E,M=oC({keyframes:[f.value,w(f.value)],velocity:sC(v,E,f.value),damping:r,stiffness:s,restDelta:c,restSpeed:h}))};return T(0),{calculatedDuration:null,next:E=>{let b=!1;return!M&&A===void 0&&(b=!0,C(E),T(E)),A!==void 0&&E>=A?M.next(E-A):(!b&&C(E),f)}}}const aC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IV=1e-7,kV=12;function AV(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=aC(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>IV&&++a<kV);return o}function gu(t,e,n,i){if(t===e&&n===i)return kt;const r=s=>AV(s,0,1,t,n);return s=>s===0||s===1?s:aC(r(s),e,i)}const DV=gu(.42,0,1,1),MV=gu(0,0,.58,1),lC=gu(.42,0,.58,1),OV=t=>Array.isArray(t)&&typeof t[0]!="number",uC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cC=t=>e=>1-t(1-e),Hy=t=>1-Math.sin(Math.acos(t)),hC=cC(Hy),VV=uC(Hy),dC=gu(.33,1.53,.69,.99),qy=cC(dC),NV=uC(qy),LV=t=>(t*=2)<1?.5*qy(t):.5*(2-Math.pow(2,-10*(t-1))),A_={linear:kt,easeIn:DV,easeInOut:lC,easeOut:MV,circIn:Hy,circInOut:VV,circOut:hC,backIn:qy,backInOut:NV,backOut:dC,anticipate:LV},D_=t=>{if(Array.isArray(t)){Am(t.length===4);const[e,n,i,r]=t;return gu(e,n,i,r)}else if(typeof t=="string")return Am(A_[t]!==void 0),A_[t];return t},FV=(t,e)=>n=>e(t(n)),Di=(...t)=>t.reduce(FV),Wl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Oe=(t,e,n)=>t+(e-t)*n;function zf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zV({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=zf(l,a,t+1/3),s=zf(l,a,t),o=zf(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Ph(t,e){return n=>n>0?e:t}const jf=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},jV=[Om,os,lo],BV=t=>jV.find(e=>e.test(t));function M_(t){const e=BV(t);if(!e)return!1;let n=e.parse(t);return e===lo&&(n=zV(n)),n}const O_=(t,e)=>{const n=M_(t),i=M_(e);if(!n||!i)return Ph(t,e);const r={...n};return s=>(r.red=jf(n.red,i.red,s),r.green=jf(n.green,i.green,s),r.blue=jf(n.blue,i.blue,s),r.alpha=Oe(n.alpha,i.alpha,s),os.transform(r))},Lm=new Set(["none","hidden"]);function UV(t,e){return Lm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $V(t,e){return n=>Oe(t,e,n)}function Wy(t){return typeof t=="number"?$V:typeof t=="string"?Fy(t)?Ph:St.test(t)?O_:WV:Array.isArray(t)?fC:typeof t=="object"?St.test(t)?O_:HV:Ph}function fC(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>Wy(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function HV(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Wy(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function qV(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const WV=(t,e)=>{const n=Rr.createTransformer(e),i=ql(t),r=ql(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Lm.has(t)&&!r.values.length||Lm.has(e)&&!i.values.length?UV(t,e):Di(fC(qV(i,r),r.values),n):Ph(t,e)};function pC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Oe(t,e,n):Wy(t)(t,e)}function KV(t,e,n){const i=[],r=n||pC,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||kt:e;a=Di(l,a)}i.push(a)}return i}function GV(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(Am(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=KV(e,i,r),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Wl(t[h],t[h+1],c);return o[h](d)};return n?c=>l(Pr(t[0],t[s-1],c)):l}function QV(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Wl(0,e,i);t.push(Oe(n,1,r))}}function YV(t){const e=[0];return QV(e,t.length-1),e}function XV(t,e){return t.map(n=>n*e)}function JV(t,e){return t.map(()=>e||lC).splice(0,t.length-1)}function Rh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=OV(i)?i.map(D_):D_(i),s={done:!1,value:e[0]},o=XV(n&&n.length===e.length?n:YV(e),t),a=GV(o,e,{ease:Array.isArray(r)?r:JV(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const V_=2e4;function ZV(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<V_;)e+=n,i=t.next(e);return e>=V_?1/0:e}const eN=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_e.update(e,!0),stop:()=>Ui(e),now:()=>ct.isProcessing?ct.timestamp:Ai.now()}},tN={decay:k_,inertia:k_,tween:Rh,keyframes:Rh,spring:oC},nN=t=>t/100;class Ky extends iC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||jy,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=tN[n]||Rh;let l,c;a!==Rh&&typeof e[0]!="number"&&(l=Di(nN,pC(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=ZV(h));const{calculatedDuration:d}=h,f=d+r,m=f*(i+1)-r;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=i;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:w,repeatDelay:_,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>h;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let v=this.currentTime,C=s;if(m){const E=Math.min(this.currentTime,h)/d;let b=Math.floor(E),P=E%1;!P&&E>=1&&(P=1),P===1&&b--,b=Math.min(b,m+1),!!(b%2)&&(w==="reverse"?(P=1-P,_&&(P-=_/d)):w==="mirror"&&(C=o)),v=Pr(0,1,P)*d}const A=y?{done:!1,value:l[0]}:C.next(v);a&&(A.value=a(A.value));let{done:M}=A;!y&&c!==null&&(M=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return T&&r!==void 0&&(A.value=yd(l,this.options,r)),R&&R(A.value),T&&this.finish(),A}get duration(){const{resolved:e}=this;return e?ki(e.calculatedDuration):0}get time(){return ki(this.currentTime)}set time(e){e=Ii(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ki(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=eN,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const mC=new Set(["opacity","clipPath","filter","transform"]),gC=t=>Array.isArray(t)&&typeof t[0]=="number";function yC(t){return!!(!t||typeof t=="string"&&t in Gy||gC(t)||Array.isArray(t)&&t.every(yC))}const Ja=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Gy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ja([0,.65,.55,1]),circOut:Ja([.55,0,1,.45]),backIn:Ja([.31,.01,.66,-.59]),backOut:Ja([.33,1.53,.69,.99])};function iN(t){return vC(t)||Gy.easeOut}function vC(t){if(t)return gC(t)?Ja(t):Array.isArray(t)?t.map(iN):Gy[t]}function rN(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=vC(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const sN=nC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ih=10,oN=2e4;function aN(t){return t.type==="spring"||!yC(t.ease)}function lN(t,e){const n=new Ky({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<oN;)i=n.sample(s),r.push(i.value),s+=Ih;return{times:void 0,keyframes:r,duration:s-Ih,ease:"linear"}}class N_ extends iC{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new tC(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){var i;let{duration:r=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(aN(this.options)){const{onComplete:f,onUpdate:m,motionValue:w,element:_,...R}=this.options,x=lN(e,R);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,s=x.times,o=x.ease,a="keyframes"}const d=rN(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:o});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(yd(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ki(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ki(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ii(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return kt;const{animation:i}=n;i.timeline=e,i.onfinish=null}return kt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,element:f,...m}=this.options,w=new Ky({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),_=Ii(this.time);c.setWithVelocity(w.sample(_-Ih).value,w.sample(_).value,Ih)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;return sN()&&i&&mC.has(i)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}function uN(t,e){let n;const i=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;n!==o&&t(o),n=o};return _e.update(i,!0),()=>Ui(i)}const cN=nC(()=>window.ScrollTimeline!==void 0);class hN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e){const n=this.animations.map(i=>{if(cN()&&i.attachTimeline)i.attachTimeline(e);else return i.pause(),uN(r=>{i.time=i.duration*r},e)});return()=>{n.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Qy=(t,e,n,i={},r,s,o)=>a=>{const l=Ly(i,t)||{},c=l.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Ii(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:r};M4(l)||(d={...d,...D4(t,d)}),d.duration&&(d.duration=Ii(d.duration)),d.repeatDelay&&(d.repeatDelay=Ii(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const m=yd(d.keyframes,l);if(m!==void 0)return _e.update(()=>{d.onUpdate(m),d.onComplete()}),new hN([])}return!s&&N_.supports(d)?new N_(d):new Ky(d)},dN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),fN=t=>km(t)?t[t.length-1]||0:t;function vd(t,e){t.indexOf(e)===-1&&t.push(e)}function wd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Yy{constructor(){this.subscriptions=[]}add(e){return vd(this.subscriptions,e),()=>wd(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const L_=30,pN=t=>!isNaN(parseFloat(t));class wC{constructor(e,n={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Ai.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ai.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Yy);const i=this.events[e].add(n);return e==="change"?()=>{i(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>L_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,L_);return rC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kl(t,e){return new wC(t,e)}function mN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kl(n))}function Xy(t,e){const n=gd(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=fN(s[o]);mN(t,o,a)}}const _d=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gN="framerAppearId",_C="data-"+_d(gN);function xC(t){return t.props[_C]}function EC(t){if(Vr.has(t))return"transform";if(mC.has(t))return _d(t)}class yN extends wC{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=EC(e);if(!n)return;const i=this.counts.get(n)||0;this.counts.set(n,i+1),i===0&&(this.output.push(n),this.update());let r=!1;return()=>{if(r)return;r=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(wd(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Rt=t=>!!(t&&t.getVelocity);function vN(t){return!!(Rt(t)&&t.add)}function Fm(t,e){var n;if(!t.applyWillChange)return;let i=t.getValue("willChange");if(!i&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(i=new yN("auto"),t.addValue("willChange",i)),vN(i))return i.add(e)}function wN({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function TC(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||h&&wN(h,d))continue;const w={delay:n,...Ly(o||{},d)};let _=!1;if(window.MotionHandoffAnimation){const x=xC(t);if(x){const y=window.MotionHandoffAnimation(x,d,_e);y!==null&&(w.startTime=y,_=!0)}}f.start(Qy(d,f,m,t.shouldReduceMotion&&Vr.has(d)?{type:!1}:w,t,_,Fm(t,d)));const R=f.animation;R&&c.push(R)}return a&&Promise.all(c).then(()=>{_e.update(()=>{a&&Xy(t,a)})}),c}function zm(t,e,n={}){var i;const r=gd(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(TC(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return _N(t,e,h+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function _N(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(xN).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(zm(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function xN(t,e){return t.sortNodePosition(e)}function SC(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>zm(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=zm(t,e,n);else{const r=typeof e=="function"?gd(t,e,n.custom):e;i=Promise.all(TC(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const EN=[...Vy].reverse(),TN=Vy.length;function SN(t){return e=>Promise.all(e.map(({animation:n,options:i})=>SC(t,n,i)))}function bN(t){let e=SN(t),n=F_(),i=!0;const r=l=>(c,h)=>{var d;const f=gd(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:w,..._}=f;c={...c,..._,...w}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let m={},w=1/0;for(let R=0;R<TN;R++){const x=EN[R],y=n[x],v=c[x]!==void 0?c[x]:h[x],C=Hl(v),A=x===l?y.isActive:null;A===!1&&(w=R);let M=v===h[x]&&v!==c[x]&&C;if(M&&i&&t.manuallyAnimateOnMount&&(M=!1),y.protectedKeys={...m},!y.isActive&&A===null||!v&&!y.prevProp||$l(v)||typeof v=="boolean")continue;let E=CN(y.prevProp,v)||x===l&&y.isActive&&!M&&C||R>w&&C,b=!1;const P=Array.isArray(v)?v:[v];let k=P.reduce(r(x),{});A===!1&&(k={});const{prevResolvedValues:D={}}=y,I={...D,...k},K=J=>{E=!0,f.has(J)&&(b=!0,f.delete(J)),y.needsAnimating[J]=!0;const ge=t.getValue(J);ge&&(ge.liveStyle=!1)};for(const J in I){const ge=k[J],ke=D[J];if(m.hasOwnProperty(J))continue;let F=!1;km(ge)&&km(ke)?F=!Fb(ge,ke):F=ge!==ke,F?ge!=null?K(J):f.add(J):ge!==void 0&&f.has(J)?K(J):y.protectedKeys[J]=!0}y.prevProp=v,y.prevResolvedValues=k,y.isActive&&(m={...m,...k}),i&&t.blockInitialAnimation&&(E=!1),E&&(!M||b)&&d.push(...P.map(J=>({animation:J,options:{type:x}})))}if(f.size){const R={};f.forEach(x=>{const y=t.getBaseTarget(x),v=t.getValue(x);v&&(v.liveStyle=!0),R[x]=y??null}),d.push({animation:R})}let _=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=F_(),i=!0}}}function CN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Fb(e,t):!1}function qr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function F_(){return{animate:qr(!0),whileInView:qr(),whileHover:qr(),whileTap:qr(),whileDrag:qr(),whileFocus:qr(),exit:qr()}}class Nr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PN extends Nr{constructor(e){super(e),e.animationState||(e.animationState=bN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$l(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let RN=0;class IN extends Nr{constructor(){super(...arguments),this.id=RN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kN={animation:{Feature:PN},exit:{Feature:IN}},bC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function xd(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const AN=t=>e=>bC(e)&&t(e,xd(e));function bi(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Mi(t,e,n,i){return bi(t,e,AN(n),i)}const z_=(t,e)=>Math.abs(t-e);function DN(t,e){const n=z_(t.x,e.x),i=z_(t.y,e.y);return Math.sqrt(n**2+i**2)}class CC{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Uf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=DN(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:w}=d,{timestamp:_}=ct;this.history.push({...w,timestamp:_});const{onStart:R,onMove:x}=this.handlers;f||(R&&R(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Bf(f,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Uf(d.type==="pointercancel"?this.lastMoveEventInfo:Bf(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,R),w&&w(d,R)},!bC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=xd(e),a=Bf(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ct;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Uf(a,this.history)),this.removeListeners=Di(Mi(this.contextWindow,"pointermove",this.handlePointerMove),Mi(this.contextWindow,"pointerup",this.handlePointerUp),Mi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ui(this.updatePoint)}}function Bf(t,e){return e?{point:e(t.point)}:t}function j_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Uf({point:t},e){return{point:t,delta:j_(t,PC(e)),offset:j_(t,MN(e)),velocity:ON(e,.1)}}function MN(t){return t[0]}function PC(t){return t[t.length-1]}function ON(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=PC(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ii(e)));)n--;if(!i)return{x:0,y:0};const s=ki(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function RC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const B_=RC("dragHorizontal"),U_=RC("dragVertical");function IC(t){let e=!1;if(t==="y")e=U_();else if(t==="x")e=B_();else{const n=B_(),i=U_();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function kC(){const t=IC(!0);return t?(t(),!1):!0}function uo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const AC=1e-4,VN=1-AC,NN=1+AC,DC=.01,LN=0-DC,FN=0+DC;function yn(t){return t.max-t.min}function zN(t,e,n){return Math.abs(t-e)<=n}function $_(t,e,n,i=.5){t.origin=i,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=Oe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VN&&t.scale<=NN||isNaN(t.scale))&&(t.scale=1),(t.translate>=LN&&t.translate<=FN||isNaN(t.translate))&&(t.translate=0)}function ml(t,e,n,i){$_(t.x,e.x,n.x,i?i.originX:void 0),$_(t.y,e.y,n.y,i?i.originY:void 0)}function H_(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function jN(t,e,n){H_(t.x,e.x,n.x),H_(t.y,e.y,n.y)}function q_(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function gl(t,e,n){q_(t.x,e.x,n.x),q_(t.y,e.y,n.y)}function BN(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Oe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Oe(n,t,i.max):Math.min(t,n)),t}function W_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UN(t,{top:e,left:n,bottom:i,right:r}){return{x:W_(t.x,n,r),y:W_(t.y,e,i)}}function K_(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function $N(t,e){return{x:K_(t.x,e.x),y:K_(t.y,e.y)}}function HN(t,e){let n=.5;const i=yn(t),r=yn(e);return r>i?n=Wl(e.min,e.max-i,t.min):i>r&&(n=Wl(t.min,t.max-r,e.min)),Pr(0,1,n)}function qN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jm=.35;function WN(t=jm){return t===!1?t=0:t===!0&&(t=jm),{x:G_(t,"left","right"),y:G_(t,"top","bottom")}}function G_(t,e,n){return{min:Q_(t,e),max:Q_(t,n)}}function Q_(t,e){return typeof t=="number"?t:t[e]||0}const Y_=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:Y_(),y:Y_()}),X_=()=>({min:0,max:0}),$e=()=>({x:X_(),y:X_()});function En(t){return[t("x"),t("y")]}function MC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function KN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function $f(t){return t===void 0||t===1}function Bm({scale:t,scaleX:e,scaleY:n}){return!$f(t)||!$f(e)||!$f(n)}function Zr(t){return Bm(t)||OC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function OC(t){return J_(t.x)||J_(t.y)}function J_(t){return t&&t!=="0%"}function kh(t,e,n){const i=t-n,r=e*i;return n+r}function Z_(t,e,n,i,r){return r!==void 0&&(t=kh(t,r,i)),kh(t,n,i)+e}function Um(t,e=0,n=1,i,r){t.min=Z_(t.min,e,n,i,r),t.max=Z_(t.max,e,n,i,r)}function VC(t,{x:e,y:n}){Um(t.x,e.translate,e.scale,e.originPoint),Um(t.y,n.translate,n.scale,n.originPoint)}const e1=.999999999999,t1=1.0000000000001;function QN(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,VC(t,o)),i&&Zr(s.latestValues)&&fo(t,s.latestValues))}e.x<t1&&e.x>e1&&(e.x=1),e.y<t1&&e.y>e1&&(e.y=1)}function ho(t,e){t.min=t.min+e,t.max=t.max+e}function n1(t,e,n,i,r=.5){const s=Oe(t.min,t.max,r);Um(t,e,n,s,i)}function fo(t,e){n1(t.x,e.x,e.scaleX,e.scale,e.originX),n1(t.y,e.y,e.scaleY,e.scale,e.originY)}function NC(t,e){return MC(GN(t.getBoundingClientRect(),e))}function YN(t,e,n){const i=NC(t,n),{scroll:r}=e;return r&&(ho(i.x,r.offset.x),ho(i.y,r.offset.y)),i}const LC=({current:t})=>t?t.ownerDocument.defaultView:null,XN=new WeakMap;class JN{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xd(h,"page").point)},s=(h,d)=>{var f;const{drag:m,dragPropagation:w,onDragStart:_}=this.getProps();if(m&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=IC(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),En(x=>{let y=this.getAxisMotionValue(x).get()||0;if(ui.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const C=v.layout.layoutBox[x];C&&(y=yn(C)*(parseFloat(y)/100))}}this.originPoint[x]=y}),_&&_e.postRender(()=>_(h,d)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=Fm(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:w,onDrag:_}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:R}=d;if(m&&this.currentDirection===null){this.currentDirection=ZN(R),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,R),this.updateAxis("y",d.point,R),this.visualElement.render(),_&&_(h,d)},a=(h,d)=>this.stop(h,d),l=()=>En(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new CC(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:LC(this.visualElement)})}stop(e,n){var i;(i=this.removeWillChange)===null||i===void 0||i.call(this);const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&_e.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!ac(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=BN(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&uo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=UN(r.layoutBox,n):this.constraints=!1,this.elastic=WN(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&En(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qN(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!uo(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=YN(i,r.root,this.visualElement.getTransformPagePoint());let o=$N(r.layout.layoutBox,s);if(n){const a=n(KN(o));this.hasMutatedConstraints=!!a,a&&(o=MC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=En(h=>{if(!ac(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,w={type:"inertia",velocity:i?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(Qy(e,i,0,n,this.visualElement,!1,Fm(this.visualElement,e)))}stopAnimation(){En(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){En(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){En(n=>{const{drag:i}=this.getProps();if(!ac(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!uo(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};En(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=HN({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),En(o=>{if(!ac(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Oe(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;XN.set(this.visualElement,this);const e=this.visualElement.current,n=Mi(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();uo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),_e.read(i);const o=bi(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(En(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=jm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ac(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class eL extends Nr{constructor(e){super(e),this.removeGroupControls=kt,this.removeListeners=kt,this.controls=new JN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const i1=t=>(e,n)=>{t&&_e.postRender(()=>t(e,n))};class tL extends Nr{constructor(){super(...arguments),this.removePointerDownListener=kt}onPointerDown(e){this.session=new CC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:i1(e),onStart:i1(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&_e.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Mi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ed=z.createContext(null);function nL(){const t=z.useContext(Ed);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=z.useId();z.useEffect(()=>i(r),[]);const s=z.useCallback(()=>n&&n(r),[r,n]);return!e&&n?[!1,s]:[!0]}const Jy=z.createContext({}),FC=z.createContext({}),jc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function r1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const La={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ee.test(t))t=parseFloat(t);else return t;const n=r1(t,e.target.x),i=r1(t,e.target.y);return`${n}% ${i}%`}},iL={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Rr.parse(t);if(r.length>5)return i;const s=Rr.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Oe(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}},Ah={};function rL(t){Object.assign(Ah,t)}const{schedule:Zy,cancel:jB}=zb(queueMicrotask,!1);class sL extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;rL(oL),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),jc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||_e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zC(t){const[e,n]=nL(),i=z.useContext(Jy);return O.jsx(sL,{...t,layoutGroup:i,switchLayoutGroup:z.useContext(FC),isPresent:e,safeToRemove:n})}const oL={borderRadius:{...La,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:La,borderTopRightRadius:La,borderBottomLeftRadius:La,borderBottomRightRadius:La,boxShadow:iL},jC=["TopLeft","TopRight","BottomLeft","BottomRight"],aL=jC.length,s1=t=>typeof t=="string"?parseFloat(t):t,o1=t=>typeof t=="number"||ee.test(t);function lL(t,e,n,i,r,s){r?(t.opacity=Oe(0,n.opacity!==void 0?n.opacity:1,uL(i)),t.opacityExit=Oe(e.opacity!==void 0?e.opacity:1,0,cL(i))):s&&(t.opacity=Oe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<aL;o++){const a=`border${jC[o]}Radius`;let l=a1(e,a),c=a1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||o1(l)===o1(c)?(t[a]=Math.max(Oe(s1(l),s1(c),i),0),(ui.test(c)||ui.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Oe(e.rotate||0,n.rotate||0,i))}function a1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uL=BC(0,.5,hC),cL=BC(.5,.95,kt);function BC(t,e,n){return i=>i<t?0:i>e?1:n(Wl(t,e,i))}function l1(t,e){t.min=e.min,t.max=e.max}function _n(t,e){l1(t.x,e.x),l1(t.y,e.y)}function u1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function c1(t,e,n,i,r){return t-=e,t=kh(t,1/n,i),r!==void 0&&(t=kh(t,1/r,i)),t}function hL(t,e=0,n=1,i=.5,r,s=t,o=t){if(ui.test(e)&&(e=parseFloat(e),e=Oe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Oe(s.min,s.max,i);t===s&&(a-=e),t.min=c1(t.min,e,n,a,r),t.max=c1(t.max,e,n,a,r)}function h1(t,e,[n,i,r],s,o){hL(t,e[n],e[i],e[r],e.scale,s,o)}const dL=["x","scaleX","originX"],fL=["y","scaleY","originY"];function d1(t,e,n,i){h1(t.x,e,dL,n?n.x:void 0,i?i.x:void 0),h1(t.y,e,fL,n?n.y:void 0,i?i.y:void 0)}function f1(t){return t.translate===0&&t.scale===1}function UC(t){return f1(t.x)&&f1(t.y)}function p1(t,e){return t.min===e.min&&t.max===e.max}function pL(t,e){return p1(t.x,e.x)&&p1(t.y,e.y)}function m1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $C(t,e){return m1(t.x,e.x)&&m1(t.y,e.y)}function g1(t){return yn(t.x)/yn(t.y)}function y1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mL{constructor(){this.members=[]}add(e){vd(this.members,e),e.scheduleRender()}remove(e){if(wd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gL(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:f,skewX:m,skewY:w}=n;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),m&&(i+=`skewX(${m}deg) `),w&&(i+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const yL=(t,e)=>t.depth-e.depth;class vL{constructor(){this.children=[],this.isDirty=!1}add(e){vd(this.children,e),this.isDirty=!0}remove(e){wd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yL),this.isDirty=!1,this.children.forEach(e)}}function Bc(t){const e=Rt(t)?t.get():t;return dN(e)?e.toValue():e}function wL(t,e){const n=Ai.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Ui(i),t(s-e))};return _e.read(i,!0),()=>Ui(i)}function _L(t){return t instanceof SVGElement&&t.tagName!=="svg"}function xL(t,e,n){const i=Rt(t)?t:Kl(t);return i.start(Qy("",i,e,n)),i.animation}const es={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Za=typeof window<"u"&&window.MotionDebug!==void 0,Hf=["","X","Y","Z"],EL={visibility:"hidden"},v1=1e3;let TL=0;function qf(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function HC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",_e,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&HC(i)}function qC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=TL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Za&&(es.totalNodes=es.resolvedTargetDeltas=es.recalculatedProjection=0),this.nodes.forEach(CL),this.nodes.forEach(AL),this.nodes.forEach(DL),this.nodes.forEach(PL),Za&&window.MotionDebug.record(es)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new vL)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_L(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=wL(f,250),jc.hasAnimatedSinceResize&&(jc.hasAnimatedSinceResize=!1,this.nodes.forEach(_1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||LL,{onLayoutAnimationStart:R,onLayoutAnimationComplete:x}=h.getProps(),y=!this.targetLayout||!$C(this.targetLayout,w)||m,v=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const C={...Ly(_,"layout"),onPlay:R,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||_1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ui(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ML),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(w1);return}this.isUpdating||this.nodes.forEach(IL),this.isUpdating=!1,this.nodes.forEach(kL),this.nodes.forEach(SL),this.nodes.forEach(bL),this.clearAllSnapshots();const a=Ai.now();ct.delta=Pr(0,1e3/60,a-ct.timestamp),ct.timestamp=a,ct.isProcessing=!0,Nf.update.process(ct),Nf.preRender.process(ct),Nf.render.process(ct),ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RL),this.sharedNodes.forEach(OL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!UC(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Zr(this.latestValues)||h)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),FL(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return $e();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(zL))){const{scroll:h}=this.root;h&&(ho(l.x,h.offset.x),ho(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=$e();if(_n(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&_n(l,o),ho(l.x,d.offset.x),ho(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=$e();_n(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&fo(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Zr(h.latestValues)&&fo(l,h.latestValues)}return Zr(this.latestValues)&&fo(l,this.latestValues),l}removeTransform(o){const a=$e();_n(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Zr(c.latestValues))continue;Bm(c.latestValues)&&c.updateSnapshot();const h=$e(),d=c.measurePageBox();_n(h,d),d1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Zr(this.latestValues)&&d1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=ct.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),gl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),VC(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),gl(this.relativeTargetOrigin,this.target,m.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Za&&es.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Bm(this.parent.latestValues)||OC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ct.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;_n(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;QN(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=$e());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u1(this.prevProjectionDelta.x,this.projectionDelta.x),u1(this.prevProjectionDelta.y,this.projectionDelta.y)),ml(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!y1(this.projectionDelta.x,this.prevProjectionDelta.x)||!y1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Za&&es.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=co(),this.projectionDelta=co(),this.projectionDeltaWithTransform=co()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=$e(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,_=m!==w,R=this.getStack(),x=!R||R.members.length<=1,y=!!(_&&!x&&this.options.crossfade===!0&&!this.path.some(NL));this.animationProgress=0;let v;this.mixTargetDelta=C=>{const A=C/1e3;x1(d.x,o.x,A),x1(d.y,o.y,A),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VL(this.relativeTarget,this.relativeTargetOrigin,f,A),v&&pL(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=$e()),_n(v,this.relativeTarget)),_&&(this.animationValues=h,lL(h,c,this.latestValues,A,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ui(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{jc.hasAnimatedSinceResize=!0,this.currentAnimation=xL(0,v1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&WC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||$e();const d=yn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=yn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}_n(a,l),fo(a,h),ml(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mL),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&qf("z",o,c,this.animationValues);for(let h=0;h<Hf.length;h++)qf(`rotate${Hf[h]}`,o,c,this.animationValues),qf(`skew${Hf[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return EL;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=gL(this.projectionDeltaWithTransform,this.treeScale,f),h&&(c.transform=h(f,c.transform));const{x:m,y:w}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in Ah){if(f[_]===void 0)continue;const{correct:R,applyTo:x}=Ah[_],y=c.transform==="none"?f[_]:R(f[_],d);if(x){const v=x.length;for(let C=0;C<v;C++)c[x[C]]=y}else c[_]=y}return this.options.layoutId&&(c.pointerEvents=d===this?Bc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(w1),this.root.sharedNodes.clear()}}}function SL(t){t.updateLayout()}function bL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?En(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=yn(f);f.min=i[d].min,f.max=f.min+m}):WC(s,n.layoutBox,i)&&En(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=yn(i[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=co();ml(a,i,n.layoutBox);const l=co();o?ml(l,t.applyTransform(r,!0),n.measuredBox):ml(l,i,n.layoutBox);const c=!UC(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const w=$e();gl(w,n.layoutBox,f.layoutBox);const _=$e();gl(_,i,m.layoutBox),$C(w,_)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function CL(t){Za&&es.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RL(t){t.clearSnapshot()}function w1(t){t.clearMeasurements()}function IL(t){t.isLayoutDirty=!1}function kL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AL(t){t.resolveTargetDelta()}function DL(t){t.calcProjection()}function ML(t){t.resetSkewAndRotation()}function OL(t){t.removeLeadSnapshot()}function x1(t,e,n){t.translate=Oe(e.translate,0,n),t.scale=Oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function E1(t,e,n,i){t.min=Oe(e.min,n.min,i),t.max=Oe(e.max,n.max,i)}function VL(t,e,n,i){E1(t.x,e.x,n.x,i),E1(t.y,e.y,n.y,i)}function NL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LL={duration:.45,ease:[.4,0,.1,1]},T1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),S1=T1("applewebkit/")&&!T1("chrome/")?Math.round:kt;function b1(t){t.min=S1(t.min),t.max=S1(t.max)}function FL(t){b1(t.x),b1(t.y)}function WC(t,e,n){return t==="position"||t==="preserve-aspect"&&!zN(g1(e),g1(n),.2)}function zL(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const jL=qC({attachResizeListener:(t,e)=>bi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wf={current:void 0},KC=qC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wf.current){const t=new jL({});t.mount(window),t.setOptions({layoutScroll:!0}),Wf.current=t}return Wf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BL={pan:{Feature:tL},drag:{Feature:eL,ProjectionNode:KC,MeasureLayout:zC}};function C1(t,e){const n=e?"pointerenter":"pointerleave",i=e?"onHoverStart":"onHoverEnd",r=(s,o)=>{if(s.pointerType==="touch"||kC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[i];l&&_e.postRender(()=>l(s,o))};return Mi(t.current,n,r,{passive:!t.getProps()[i]})}class UL extends Nr{mount(){this.unmount=Di(C1(this.node,!0),C1(this.node,!1))}unmount(){}}class $L extends Nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Di(bi(this.node.current,"focus",()=>this.onFocus()),bi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const GC=(t,e)=>e?t===e?!0:GC(t,e.parentElement):!1;function Kf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,xd(n))}class HL extends Nr{constructor(){super(...arguments),this.removeStartListeners=kt,this.removeEndListeners=kt,this.removeAccessibleListeners=kt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=Mi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),f=!d&&!GC(this.node.current,a.target)?h:c;f&&_e.update(()=>f(a,l))},{passive:!(i.onTap||i.onPointerUp)}),o=Mi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Di(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Kf("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&_e.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=bi(this.node.current,"keyup",o),Kf("down",(a,l)=>{this.startPress(a,l)})},n=bi(this.node.current,"keydown",e),i=()=>{this.isPressing&&Kf("cancel",(s,o)=>this.cancelPress(s,o))},r=bi(this.node.current,"blur",i);this.removeAccessibleListeners=Di(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&_e.postRender(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&_e.postRender(()=>i(e,n))}mount(){const e=this.node.getProps(),n=Mi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=bi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Di(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $m=new WeakMap,Gf=new WeakMap,qL=t=>{const e=$m.get(t.target);e&&e(t)},WL=t=>{t.forEach(qL)};function KL({root:t,...e}){const n=t||document;Gf.has(n)||Gf.set(n,{});const i=Gf.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(WL,{root:t,...e})),i[r]}function GL(t,e,n){const i=KL(e);return $m.set(t,n),i.observe(t),()=>{$m.delete(t),i.unobserve(t)}}const QL={some:0,all:1};class YL extends Nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:QL[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return GL(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XL(e,n))&&this.startObserver()}unmount(){}}function XL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JL={inView:{Feature:YL},tap:{Feature:HL},focus:{Feature:$L},hover:{Feature:UL}},ZL={layout:{ProjectionNode:KC,MeasureLayout:zC}},ev=z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Td=z.createContext({}),tv=typeof window<"u",nv=tv?z.useLayoutEffect:z.useEffect,QC=z.createContext({strict:!1});let P1=!1;function e5(t,e,n,i,r){var s;const{visualElement:o}=z.useContext(Td),a=z.useContext(QC),l=z.useContext(Ed),c=z.useContext(ev).reducedMotion,h=z.useRef();i=i||a.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=h.current,f=z.useContext(FC);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&n5(h.current,n,r,f),z.useInsertionEffect(()=>{d&&d.update(n,l)});const m=n[_C],w=z.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return nv(()=>{d&&(d.updateFeatures(),Zy.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),z.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current=!1,P1||(P1=!0,queueMicrotask(t5)))}),d}function t5(){window.MotionHandoffIsComplete=!0}function n5(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YC(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&uo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function YC(t){if(t)return t.options.allowProjection!==!1?t.projection:YC(t.parent)}function i5(t,e,n){return z.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):uo(n)&&(n.current=i))},[e])}function Sd(t){return $l(t.animate)||Ny.some(e=>Hl(t[e]))}function XC(t){return!!(Sd(t)||t.variants)}function r5(t,e){if(Sd(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Hl(n)?n:void 0,animate:Hl(i)?i:void 0}}return t.inherit!==!1?e:{}}function s5(t){const{initial:e,animate:n}=r5(t,z.useContext(Td));return z.useMemo(()=>({initial:e,animate:n}),[R1(e),R1(n)])}function R1(t){return Array.isArray(t)?t.join(" "):t}const I1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qo={};for(const t in I1)Qo[t]={isEnabled:e=>I1[t].some(n=>!!e[n])};function o5(t){for(const e in t)Qo[e]={...Qo[e],...t[e]}}const a5=Symbol.for("motionComponentSymbol");function l5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&o5(t);function s(a,l){let c;const h={...z.useContext(ev),...a,layoutId:u5(a)},{isStatic:d}=h,f=s5(a),m=i(a,d);if(!d&&tv){c5();const w=h5(h);c=w.MeasureLayout,f.visualElement=e5(r,m,h,e,w.ProjectionNode)}return O.jsxs(Td.Provider,{value:f,children:[c&&f.visualElement?O.jsx(c,{visualElement:f.visualElement,...h}):null,n(r,a,i5(m,f.visualElement,l),m,d,f.visualElement)]})}const o=z.forwardRef(s);return o[a5]=r,o}function u5({layoutId:t}){const e=z.useContext(Jy).id;return e&&t!==void 0?e+"-"+t:t}function c5(t,e){z.useContext(QC).strict}function h5(t){const{drag:e,layout:n}=Qo;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const d5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iv(t){return typeof t!="string"||t.includes("-")?!1:!!(d5.indexOf(t)>-1||/[A-Z]/u.test(t))}function JC(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const ZC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eP(t,e,n,i){JC(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(ZC.has(r)?r:_d(r),e.attrs[r])}function tP(t,{layout:e,layoutId:n}){return Vr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ah[t]||t==="opacity")}function rv(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Rt(r[o])||e.style&&Rt(e.style[o])||tP(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return n&&r&&typeof r.willChange=="string"&&(n.applyWillChange=!1),s}function nP(t,e,n){const i=rv(t,e,n);for(const r in t)if(Rt(t[r])||Rt(e[r])){const s=fu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function bd(t){const e=z.useRef(null);return e.current===null&&(e.current=t()),e.current}function f5({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:i},r,s,o,a){const l={latestValues:m5(r,s,o,a?!1:t,e),renderState:n()};return i&&(l.mount=c=>i(r,c,l)),l}const iP=t=>(e,n)=>{const i=z.useContext(Td),r=z.useContext(Ed),s=()=>f5(t,e,i,r,n);return n?s():bd(s)};function p5(t,e){const n=EC(e);n&&vd(t,n)}function k1(t,e,n){const i=Array.isArray(e)?e:[e];for(let r=0;r<i.length;r++){const s=Oy(t,i[r]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function m5(t,e,n,i,r){var s;const o={},a=[],l=i&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,c=r(t,{});for(const R in c)o[R]=Bc(c[R]);let{initial:h,animate:d}=t;const f=Sd(t),m=XC(t);e&&m&&!f&&t.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let w=n?n.initial===!1:!1;w=w||h===!1;const _=w?d:h;return _&&typeof _!="boolean"&&!$l(_)&&k1(t,_,(R,x)=>{for(const y in R){let v=R[y];if(Array.isArray(v)){const C=w?v.length-1:0;v=v[C]}v!==null&&(o[y]=v)}for(const y in x)o[y]=x[y]}),l&&(d&&h!==!1&&!$l(d)&&k1(t,d,R=>{for(const x in R)p5(a,x)}),a.length&&(o.willChange=a.join(","))),o}const sv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rP=()=>({...sv(),attrs:{}}),sP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,g5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y5=fu.length;function v5(t,e,n){let i="",r=!0;for(let s=0;s<y5;s++){const o=fu[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=sP(a,Uy[o]);if(!l){r=!1;const h=g5[o]||o;i+=`${h}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function ov(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Vr.has(l)){o=!0;continue}else if($b(l)){r[l]=c;continue}else{const h=sP(c,Uy[l]);l.startsWith("origin")?(a=!0,s[l]=h):i[l]=h}}if(e.transform||(o||n?i.transform=v5(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;i.transformOrigin=`${l} ${c} ${h}`}}function A1(t,e,n){return typeof t=="string"?t:ee.transform(e+n*t)}function w5(t,e,n){const i=A1(e,t.x,t.width),r=A1(n,t.y,t.height);return`${i} ${r}`}const _5={offset:"stroke-dashoffset",array:"stroke-dasharray"},x5={offset:"strokeDashoffset",array:"strokeDasharray"};function E5(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?_5:x5;t[s.offset]=ee.transform(-i);const o=ee.transform(e),a=ee.transform(n);t[s.array]=`${o} ${a}`}function av(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(ov(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:w}=t;f.transform&&(w&&(m.transform=f.transform),delete f.transform),w&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=w5(w,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),o!==void 0&&E5(f,o,a,l,!1)}const lv=t=>typeof t=="string"&&t.toLowerCase()==="svg",T5={useVisualState:iP({scrapeMotionValuesFromProps:nP,createRenderState:rP,onMount:(t,e,{renderState:n,latestValues:i})=>{_e.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),_e.render(()=>{av(n,i,lv(e.tagName),t.transformTemplate),eP(e,n)})}})},S5={useVisualState:iP({applyWillChange:!0,scrapeMotionValuesFromProps:rv,createRenderState:sv})};function oP(t,e,n){for(const i in e)!Rt(e[i])&&!tP(i,n)&&(t[i]=e[i])}function b5({transformTemplate:t},e){return z.useMemo(()=>{const n=sv();return ov(n,e,t),Object.assign({},n.vars,n.style)},[e])}function C5(t,e){const n=t.style||{},i={};return oP(i,n,t),Object.assign(i,b5(t,e)),i}function P5(t,e){const n={},i=C5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const R5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||R5.has(t)}let aP=t=>!Dh(t);function I5(t){t&&(aP=e=>e.startsWith("on")?!Dh(e):t(e))}try{I5(require("@emotion/is-prop-valid").default)}catch{}function k5(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(aP(r)||n===!0&&Dh(r)||!e&&!Dh(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function A5(t,e,n,i){const r=z.useMemo(()=>{const s=rP();return av(s,e,lv(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};oP(s,t.style,t),r.style={...s,...r.style}}return r}function D5(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(iv(n)?A5:P5)(i,s,o,n),c=k5(i,typeof n=="string",t),h=n!==z.Fragment?{...c,...l,ref:r}:{},{children:d}=i,f=z.useMemo(()=>Rt(d)?d.get():d,[d]);return z.createElement(n,{...h,children:f})}}function M5(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...iv(i)?T5:S5,preloadedFeatures:t,useRender:D5(r),createVisualElement:e,Component:i};return l5(o)}}const Hm={current:null},lP={current:!1};function O5(){if(lP.current=!0,!!tv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hm.current=t.matches;t.addListener(e),e()}else Hm.current=!1}function V5(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Rt(r))t.addValue(i,r);else if(Rt(s))t.addValue(i,Kl(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Kl(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const D1=new WeakMap,N5=[...Wb,St,Rr],L5=t=>N5.find(qb(t)),M1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],F5=Ny.length;class z5{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,_e.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Sd(n),this.isVariantNode=XC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&Rt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,D1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),lP.current||O5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){D1.delete(this.current),this.projection&&this.projection.unmount(),Ui(this.notifyUpdate),Ui(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Vr.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&_e.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qo){const n=Qo[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<M1.length;i++){const r=M1[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=V5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<F5;i++){const r=Ny[i],s=this.props[r];(Hl(s)||s===!1)&&(n[r]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Kl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Bb(r)||jb(r))?r=parseFloat(r):!L5(r)&&Rr.test(n)&&(r=eC(e,n)),this.setBaseTarget(e,Rt(r)?r.get():r)),Rt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=Oy(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Rt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Yy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class uP extends z5{constructor(){super(...arguments),this.KeyframeResolver=tC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}}function j5(t){return window.getComputedStyle(t)}class B5 extends uP{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=JC}readValueFromInstance(e,n){if(Vr.has(n)){const i=$y(n);return i&&i.default||0}else{const i=j5(e),r=($b(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NC(e,n)}build(e,n,i){ov(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return rv(e,n,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class U5 extends uP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vr.has(n)){const i=$y(n);return i&&i.default||0}return n=ZC.has(n)?n:_d(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return nP(e,n,i)}build(e,n,i){av(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){eP(e,n,i,r)}mount(e){this.isSVGTag=lv(e.tagName),super.mount(e)}}const $5=(t,e)=>iv(t)?new U5(e):new B5(e,{allowProjection:t!==z.Fragment}),H5=M5({...kN,...JL,...BL,...ZL},$5),Po=P4(H5);class q5 extends z.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function W5({children:t,isPresent:e}){const n=z.useId(),i=z.useRef(null),r=z.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=z.useContext(ev);return z.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=r.current;if(e||!i.current||!o||!a)return;i.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),O.jsx(q5,{isPresent:e,childRef:i,sizeRef:r,children:z.cloneElement(t,{ref:i})})}const K5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=bd(G5),l=z.useId(),c=z.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;i&&i()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random()]:[n]);return z.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),z.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=O.jsx(W5,{isPresent:n,children:t})),O.jsx(Ed.Provider,{value:c,children:t})};function G5(){return new Map}const lc=t=>t.key||"";function O1(t){const e=[];return z.Children.forEach(t,n=>{z.isValidElement(n)&&e.push(n)}),e}const Uc=({children:t,exitBeforeEnter:e,custom:n,initial:i=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=z.useMemo(()=>O1(t),[t]),l=a.map(lc),c=z.useRef(!0),h=z.useRef(a),d=bd(()=>new Map),[f,m]=z.useState(a),[w,_]=z.useState(a);nv(()=>{c.current=!1,h.current=a;for(let y=0;y<w.length;y++){const v=lc(w[y]);l.includes(v)?d.delete(v):d.get(v)!==!0&&d.set(v,!1)}},[w,l.length,l.join("-")]);const R=[];if(a!==f){let y=[...a];for(let v=0;v<w.length;v++){const C=w[v],A=lc(C);l.includes(A)||(y.splice(v,0,C),R.push(C))}o==="wait"&&R.length&&(y=R),_(O1(y)),m(a);return}const{forceRender:x}=z.useContext(Jy);return O.jsx(O.Fragment,{children:w.map(y=>{const v=lc(y),C=a===w||l.includes(v),A=()=>{if(d.has(v))d.set(v,!0);else return;let M=!0;d.forEach(T=>{T||(M=!1)}),M&&(x==null||x(),_(h.current),r&&r())};return O.jsx(K5,{isPresent:C,initial:!c.current||i?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:C?void 0:A,children:y},v)})})};function Q5(t){t.values.forEach(e=>e.stop())}function qm(t,e){[...e].reverse().forEach(i=>{const r=t.getVariant(i);r&&Xy(t,r),t.variantChildren&&t.variantChildren.forEach(s=>{qm(s,e)})})}function Y5(t,e){if(Array.isArray(e))return qm(t,e);if(typeof e=="string")return qm(t,[e]);Xy(t,e)}function X5(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,i){const r=[];return t.forEach(s=>{r.push(SC(s,n,{transitionOverride:i}))}),Promise.all(r)},set(n){return t.forEach(i=>{Y5(i,n)})},stop(){t.forEach(n=>{Q5(n)})},mount(){return()=>{e.stop()}}};return e}function J5(){const t=bd(X5);return nv(t.mount,[]),t}const Z5=J5,uc=({className:t,containerRef:e,fromRef:n,toRef:i,curvature:r=0,reverse:s=!1,duration:o=Math.random()*3+4,delay:a=0,pathColor:l="gray",pathWidth:c=2,pathOpacity:h=.2,gradientStartColor:d="#ffaa40",gradientStopColor:f="#9c40ff",startXOffset:m=0,startYOffset:w=0,endXOffset:_=0,endYOffset:R=0})=>{const x=z.useId(),[y,v]=z.useState(""),[C,A]=z.useState({width:0,height:0}),M=s?{x1:["90%","-10%"],x2:["100%","0%"],y1:["0%","0%"],y2:["0%","0%"]}:{x1:["10%","110%"],x2:["0%","100%"],y1:["0%","0%"],y2:["0%","0%"]};return z.useEffect(()=>{const T=()=>{if(e.current&&n.current&&i.current){const b=e.current.getBoundingClientRect(),P=n.current.getBoundingClientRect(),k=i.current.getBoundingClientRect(),D=b.width,I=b.height;A({width:D,height:I});const K=P.left-b.left+P.width/2+m,J=P.top-b.top+P.height/2+w,ge=k.left-b.left+k.width/2+_,ke=k.top-b.top+k.height/2+R,F=J-r,q=`M ${K},${J} Q ${(K+ge)/2},${F} ${ge},${ke}`;v(q)}},E=new ResizeObserver(b=>{for(const P of b)T()});return e.current&&E.observe(e.current),T(),()=>{E.disconnect()}},[e,n,i,r,m,w,_,R]),O.jsxs("svg",{fill:"none",width:C.width,height:C.height,xmlns:"http://www.w3.org/2000/svg",className:"pointer-events-none absolute left-0 top-0 transform-gpu stroke-2",viewBox:`0 0 ${C.width} ${C.height}`,children:[O.jsx("path",{d:y,stroke:l,strokeWidth:c,strokeOpacity:h,strokeLinecap:"round"}),O.jsx("path",{d:y,strokeWidth:c,stroke:`url(#${x})`,strokeOpacity:"1",strokeLinecap:"round"}),O.jsx("defs",{children:O.jsxs(Po.linearGradient,{className:"transform-gpu",id:x,gradientUnits:"userSpaceOnUse",initial:{x1:"0%",x2:"0%",y1:"0%",y2:"0%"},animate:{x1:M.x1,x2:M.x2,y1:M.y1,y2:M.y2},transition:{delay:a,duration:o,ease:[.16,1,.3,1],repeat:1/0,repeatDelay:0},children:[O.jsx("stop",{stopColor:d,stopOpacity:"0"}),O.jsx("stop",{stopColor:d}),O.jsx("stop",{offset:"32.5%",stopColor:f}),O.jsx("stop",{offset:"100%",stopColor:f,stopOpacity:"0"})]})})]})},Qs=z.forwardRef(({children:t},e)=>O.jsx("div",{ref:e,className:"z-10 flex size-12 items-center justify-center rounded-full border-2 bg-white p-3 shadow-[0_0_20px_-12px_rgba(0,0,0,0.8)]",children:t}));Qs.displayName="Circle";function e3({numberOfUsers:t=1}){const e=z.useRef(null),n=z.useRef(null),i=z.useRef(null),r=z.useRef(null),s=z.useRef(null),o=z.useRef(null);return console.log("LoadingPanel -> numberOfUsers",t),O.jsxs("div",{className:"relative flex h-full w-full items-center justify-center overflow-hidden rounded-lg bg-background p-10 shadow-xl",ref:e,children:[O.jsxs("div",{className:"flex size-full max-w-lg flex-row items-stretch justify-between gap-10",children:[O.jsx("div",{className:"flex flex-col justify-center",children:O.jsx(Qs,{ref:o,children:O.jsx(Fa.user,{})})}),O.jsx("div",{className:"flex flex-col justify-center",children:O.jsx(Qs,{ref:s,className:"size-16",children:O.jsx(Fa.rtc,{})})}),O.jsxs("div",{className:"flex flex-col justify-center gap-10",children:[t>=1&&O.jsx(Qs,{ref:n,children:O.jsx(Fa.user,{})}),t>=2&&O.jsx(Qs,{ref:i,children:O.jsx(Fa.user,{})}),t>=3&&O.jsx(Qs,{ref:r,children:O.jsx(Fa.user,{})})]})]}),t>=1&&O.jsx(uc,{containerRef:e,fromRef:n,toRef:s,duration:3}),t>=2&&O.jsx(uc,{containerRef:e,fromRef:i,toRef:s,duration:3}),t>=3&&O.jsx(uc,{containerRef:e,fromRef:r,toRef:s,duration:3}),O.jsx(uc,{containerRef:e,fromRef:s,toRef:o,duration:3})]})}const Fa={user:()=>O.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:"2",xmlns:"http://www.w3.org/2000/svg",children:[O.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),O.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),rtc:()=>O.jsx("svg",{width:"800px",height:"800px",viewBox:"0 -3.5 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",children:O.jsxs("g",{children:[O.jsx("path",{d:"M142.076578,191.086817 C142.076578,159.280656 116.294759,133.494615 84.4885969,133.494615 C52.6782136,133.494615 26.896394,159.280656 26.896394,191.086817 C26.896394,222.892979 52.6782136,248.67902 84.4885969,248.67902 C116.294759,248.67902 142.076578,222.892979 142.076578,191.086817",fill:"#FF6600",transform:"translate(84.486486, 191.086817) scale(1, -1) translate(-84.486486, -191.086817) "}),O.jsx("path",{d:"M255.979703,110.454356 C255.979703,78.652416 230.197884,52.862153 198.391722,52.862153 C166.581339,52.862153 140.799519,78.652416 140.799519,110.454356 C140.799519,142.260518 166.581339,168.050781 198.391722,168.050781 C230.197884,168.050781 255.979703,142.260518 255.979703,110.454356",fill:"#FFCC00",transform:"translate(198.389611, 110.456467) scale(1, -1) translate(-198.389611, -110.456467) "}),O.jsx("path",{d:"M115.200498,109.176452 C115.200498,77.3745125 89.4186786,51.5842495 57.6082953,51.5842495 C25.8063553,51.5842495 0.0203140271,77.3745125 0.0203140271,109.176452 C0.0203140271,140.982614 25.8063553,166.772877 57.6082953,166.772877 C89.4186786,166.772877 115.200498,140.982614 115.200498,109.176452",fill:"#0089CC",transform:"translate(57.610406, 109.178563) scale(1, -1) translate(-57.610406, -109.178563) "}),O.jsx("path",{d:"M230.385749,191.086817 C230.385749,159.280656 204.603929,133.494615 172.789324,133.494615 C140.987384,133.494615 115.201343,159.280656 115.201343,191.086817 C115.201343,222.892979 140.987384,248.67902 172.789324,248.67902 C204.603929,248.67902 230.385749,222.892979 230.385749,191.086817",fill:"#009939",transform:"translate(172.793546, 191.086817) scale(1, -1) translate(-172.793546, -191.086817) "}),O.jsx("path",{d:"M185.592001,57.9843213 C185.592001,26.1781597 159.805959,0.392118349 127.999798,0.392118349 C96.1936359,0.392118349 70.4075946,26.1781597 70.4075946,57.9843213 C70.4075946,89.790483 96.1936359,115.576524 127.999798,115.576524 C159.805959,115.576524 185.592001,89.790483 185.592001,57.9843213",fill:"#BF0000",transform:"translate(127.999798, 57.984321) scale(1, -1) translate(-127.999798, -57.984321) "}),O.jsx("path",{d:"M140.798675,57.9788331 C140.798675,56.76721 140.904217,55.580917 140.980207,54.3861807 C166.525612,60.2796505 185.590734,83.1189569 185.590734,110.454356 C185.590734,111.665979 185.485192,112.856494 185.409202,114.05123 C159.863796,108.153539 140.798675,85.3142322 140.798675,57.9788331",fill:"#FC0007",transform:"translate(163.194704, 84.218705) scale(1, -1) translate(-163.194704, -84.218705) "}),O.jsx("path",{d:"M148.39686,162.570614 C158.322038,145.219495 176.973434,133.495881 198.394255,133.495881 C207.124696,133.495881 215.369643,135.496959 222.787141,138.975626 C212.866185,156.326744 194.214789,168.050358 172.789746,168.050358 C164.059305,168.050358 155.814358,166.049281 148.39686,162.570614",fill:"#1CD306",transform:"translate(185.592001, 150.773120) scale(1, -1) translate(-185.592001, -150.773120) "}),O.jsx("path",{d:"M115.200498,191.086817 C115.200498,177.015947 120.258075,164.139813 128.642338,154.138646 C137.018157,164.139813 142.075734,177.015947 142.075734,191.086817 C142.075734,205.157688 137.018157,218.033822 128.642338,228.034989 C120.258075,218.033822 115.200498,205.157688 115.200498,191.086817",fill:"#0F7504",transform:"translate(128.638116, 191.086817) scale(1, -1) translate(-128.638116, -191.086817) "}),O.jsx("path",{d:"M34.806984,138.212768 C41.8023132,135.190043 49.5026635,133.497148 57.6082953,133.497148 C78.818032,133.497148 97.2963396,144.992791 107.293286,162.061056 C100.297956,165.083782 92.5933844,166.772455 84.4919743,166.772455 C63.2822376,166.772455 44.7997083,155.276811 34.806984,138.212768",fill:"#0C5E87",transform:"translate(71.050135, 150.134801) scale(1, -1) translate(-71.050135, -150.134801) "}),O.jsx("path",{d:"M70.6545631,114.036032 C70.5194692,112.431792 70.4054838,110.819109 70.4054838,109.176875 C70.4054838,81.862584 89.4410536,59.044386 114.956907,53.1255861 C115.087779,54.7298257 115.201765,56.3425087 115.201765,57.9805218 C115.201765,85.2948125 96.1704167,108.121454 70.6545631,114.036032",fill:"#6B0001",transform:"translate(92.803624, 83.580809) scale(1, -1) translate(-92.803624, -83.580809) "}),O.jsx("path",{d:"M76.0304545,111.503866 L67.0213825,111.503866 C59.0677312,111.503866 52.6001125,117.950377 52.6001125,125.88292 L52.6001125,207.428953 C52.6001125,215.361496 59.0677312,221.812228 67.0213825,221.812228 L179.989405,221.812228 C187.943056,221.812228 194.406453,215.361496 194.406453,207.428953 L194.406453,125.88292 C194.406453,117.950377 187.943056,111.503866 179.989405,111.503866 L141.50454,111.503866 L64.2899534,73.6522544 L76.0304545,111.503866 L76.0304545,111.503866 Z",fill:"#FFFFFF",transform:"translate(123.503283, 147.732241) scale(1, -1) translate(-123.503283, -147.732241) "})]})})},as="generated",t3="pointerdown",n3="pointerup",Wm="pointerleave",i3="pointerout",bs="pointermove",r3="touchstart",V1="touchend",s3="touchmove",o3="touchcancel",a3="resize",l3="visibilitychange",kn="tsParticles - Error",lr=100,N1=.5,It=1e3;var ht;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(ht||(ht={}));function cP(t){return typeof t=="boolean"}function Ir(t){return typeof t=="string"}function kr(t){return typeof t=="number"}function po(t){return typeof t=="object"&&t!==null}function di(t){return Array.isArray(t)}const ii={x:0,y:0,z:0},L1=2,u3=1;class an{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!kr(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:ii.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??ii.z;else throw new Error(`${kn} Vector3d not initialized correctly`)}static get origin(){return an.create(ii.x,ii.y,ii.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return an.create(e.x,e.y,e.z)}static create(e,n,i){return new an(e,n,i)}add(e){return an.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return an.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return an.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**L1+this.y**L1}mult(e){return an.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(u3/e)}rotate(e){return an.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),ii.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:ii.z}sub(e){return an.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class ot extends an{constructor(e,n){super(e,n,ii.z)}static get origin(){return ot.create(ii.x,ii.y)}static clone(e){return ot.create(e.x,e.y)}static create(e,n){return new ot(e,n)}}let c3=Math.random;const hP={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)},Km=new Map,h3=2,d3=Math.PI*h3;function Qf(t,e){Km.get(t)||Km.set(t,e)}function dP(t){return Km.get(t)??(e=>e)}function Ie(){return An(c3(),0,1-Number.EPSILON)}function f3(t){return hP.nextFrame(t)}function p3(t){hP.cancel(t)}function An(t,e,n){return Math.min(Math.max(t,e),n)}function Yf(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function hn(t){const e=jn(t),n=0;let i=Cd(t);return e===i&&(i=n),Ie()*(e-i)+i}function Q(t){return kr(t)?t:hn(t)}function Cd(t){return kr(t)?t:t.min}function jn(t){return kr(t)?t:t.max}function me(t,e){if(t===e||e===void 0&&kr(t))return t;const n=Cd(t),i=jn(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:me(n,i)}function $t(t,e){const n=t.x-e.x,i=t.y-e.y,r=2;return{dx:n,dy:i,distance:Math.sqrt(n**r+i**r)}}function pn(t,e){return $t(t,e).distance}function _r(t){return t*Math.PI/180}function m3(t,e,n){if(kr(t))return _r(t);const i=0,r=.5,s=.25,o=r+s;switch(t){case ht.top:return-Math.PI*r;case ht.topRight:return-Math.PI*s;case ht.right:return i;case ht.bottomRight:return Math.PI*s;case ht.bottom:return Math.PI*r;case ht.bottomLeft:return Math.PI*o;case ht.left:return Math.PI;case ht.topLeft:return-Math.PI*o;case ht.inside:return Math.atan2(n.y-e.y,n.x-e.x);case ht.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return Ie()*d3}}function g3(t){const e=ot.origin;return e.length=1,e.angle=t,e}function F1(t,e,n,i){return ot.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function y3(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Ie()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Ie()*t.size.height}}function fP(t){return t?t.endsWith("%")?parseFloat(t)/lr:parseFloat(t):1}var ls;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(ls||(ls={}));var Ye;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(Ye||(Ye={}));var Cs;(function(t){t.none="none",t.max="max",t.min="min"})(Cs||(Cs={}));var ue;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(ue||(ue={}));var Yo;(function(t){t.precise="precise",t.percent="percent"})(Yo||(Yo={}));var Ro;(function(t){t.max="max",t.min="min",t.random="random"})(Ro||(Ro={}));const v3={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Ps(){return v3}function z1(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=t,l=.5,c=0;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)*l&&o>c||n.min<=r.max&&n.min>(r.max+r.min)*l&&o<c)&&(e.velocity=o*-a,e.bounced=!0),e}function w3(t,e){const n=Dn(e,i=>t.matches(i));return di(n)?n.some(i=>i):n}function Rs(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function _3(){return!Rs()&&typeof matchMedia<"u"}function pP(t){if(_3())return matchMedia(t)}function x3(t){if(!(Rs()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function E3(t){if(!(Rs()||typeof MutationObserver>"u"))return new MutationObserver(t)}function qe(t,e){return t===e||di(e)&&e.indexOf(t)>-1}async function j1(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function T3(t){return Math.floor(Ie()*t.length)}function Pd(t,e,n=!0){return t[e!==void 0&&n?e%t.length:T3(t)]}function uv(t,e,n,i,r){return S3(yu(t,i??0),e,n,r)}function S3(t,e,n,i){let r=!0;return(!i||i===ue.bottom)&&(r=t.top<e.height+n.x),r&&(!i||i===ue.left)&&(r=t.right>n.x),r&&(!i||i===ue.right)&&(r=t.left<e.width+n.y),r&&(!i||i===ue.top)&&(r=t.bottom>n.y),r}function yu(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Ot(t,...e){for(const n of e){if(n==null)continue;if(!po(n)){t=n;continue}const i=Array.isArray(n);i&&(po(t)||!t||!Array.isArray(t))?t=[]:!i&&(po(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=t;a[r]=po(o)&&Array.isArray(o)?o.map(l=>Ot(a[r],l)):Ot(a[r],o)}}return t}function cv(t,e){return!!yP(e,n=>n.enable&&qe(t,n.mode))}function hv(t,e,n){Dn(e,i=>{const r=i.mode;i.enable&&qe(t,r)&&b3(i,n)})}function b3(t,e){const n=t.selectors;Dn(n,i=>{e(i,t)})}function mP(t,e){if(!(!e||!t))return yP(t,n=>w3(e,n.selectors))}function Gm(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:ot.create(Q(t.options.bounce.horizontal.value),Q(t.options.bounce.vertical.value))}}function gP(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=$t(s,r);if(n*o+i*a<0)return;const c=-Math.atan2(a,o),h=t.mass,d=e.mass,f=t.velocity.rotate(c),m=e.velocity.rotate(c),w=F1(f,m,h,d),_=F1(m,f,h,d),R=w.rotate(-c),x=_.rotate(-c);t.velocity.x=R.x*t.factor.x,t.velocity.y=R.y*t.factor.y,e.velocity.x=x.x*e.factor.x,e.velocity.y=x.y*e.factor.y}function C3(t,e){const n=t.getPosition(),i=t.getRadius(),r=yu(n,i),s=t.options.bounce,o=z1({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:Q(s.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const a=z1({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:Q(s.vertical.value)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function Dn(t,e){return di(t)?t.map((i,r)=>e(i,r)):e(t,0)}function Bn(t,e,n){return di(t)?Pd(t,e,n):t}function yP(t,e){return di(t)?t.find((i,r)=>e(i,r)):e(t,0)?t:void 0}function vP(t,e){const n=t.value,i=t.animation,r={delayTime:Q(i.delay)*It,enable:i.enable,value:Q(t.value)*e,max:jn(n)*e,min:Cd(n)*e,loops:0,maxLoops:Q(i.count),time:0},s=1;if(i.enable){switch(r.decay=s-Q(i.decay),i.mode){case ls.increase:r.status=Ye.increasing;break;case ls.decrease:r.status=Ye.decreasing;break;case ls.random:r.status=Ie()>=N1?Ye.increasing:Ye.decreasing;break}const o=i.mode===ls.auto;switch(i.startValue){case Ro.min:r.value=r.min,o&&(r.status=Ye.increasing);break;case Ro.max:r.value=r.max,o&&(r.status=Ye.decreasing);break;case Ro.random:default:r.value=hn(r),o&&(r.status=Ie()>=N1?Ye.increasing:Ye.decreasing);break}}return r.initialValue=r.value,r}function P3(t,e){if(!(t.mode===Yo.percent)){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/lr*e.width,y:t.y/lr*e.height}:{width:t.width/lr*e.width,height:t.height/lr*e.height}}function wP(t,e){return P3(t,e)}function R3(t,e,n,i,r){switch(e){case Cs.max:n>=r&&t.destroy();break;case Cs.min:n<=i&&t.destroy();break}}function dv(t,e,n,i,r){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const h=(e.velocity??0)*r.factor,d=e.min,f=e.max,m=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case Ye.increasing:e.value>=f?(n?e.status=Ye.decreasing:e.value-=f,e.loops||(e.loops=0),e.loops++):e.value+=h;break;case Ye.decreasing:e.value<=d?(n?e.status=Ye.increasing:e.value+=f,e.loops||(e.loops=0),e.loops++):e.value-=h}e.velocity&&m!==1&&(e.velocity*=m),R3(t,i,e.value,d,f),t.destroyed||(e.value=An(e.value,d,f))}}var Qm;(function(t){t.darken="darken",t.enlighten="enlighten"})(Qm||(Qm={}));var ts;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(ts||(ts={}));const Mh="random",$c="mid",Rd=new Map;function B1(t){Rd.set(t.key,t)}function I3(t){for(const[,l]of Rd)if(t.startsWith(l.stringPrefix))return l.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(l,c,h,d,f)=>c+c+h+h+d+d+(f!==void 0?f+f:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(n),s=16;return r?{a:r[ts.a]!==void 0?parseInt(r[ts.a],s)/255:1,b:parseInt(r[ts.b],s),g:parseInt(r[ts.g],s),r:parseInt(r[ts.r],s)}:void 0}function Wn(t,e,n=!0){if(!t)return;const i=Ir(t)?{value:t}:t;if(Ir(i.value))return _P(i.value,e,n);if(di(i.value))return Wn({value:Pd(i.value,e,n)});for(const[,r]of Rd){const s=r.handleRangeColor(i);if(s)return s}}function _P(t,e,n=!0){if(!t)return;const i=Ir(t)?{value:t}:t;if(Ir(i.value))return i.value===Mh?EP():k3(i.value);if(di(i.value))return _P({value:Pd(i.value,e,n)});for(const[,r]of Rd){const s=r.handleColor(i);if(s)return s}}function Gl(t,e,n=!0){const i=Wn(t,e,n);return i?xP(i):void 0}function xP(t){const h=t.r/255,d=t.g/255,f=t.b/255,m=Math.max(h,d,f),w=Math.min(h,d,f),_={h:0,l:(m+w)*.5,s:0};return m!==w&&(_.s=_.l<.5?(m-w)/(m+w):(m-w)/(2-m-w),_.h=h===m?(d-f)/(m-w):_.h=d===m?2+(f-h)/(m-w):2*2+(h-d)/(m-w)),_.l*=100,_.s*=100,_.h*=60,_.h<0&&(_.h+=360),_.h>=360&&(_.h-=360),_}function k3(t){return I3(t)}function Xo(t){const o=(t.h%360+360)%360,a=Math.max(0,Math.min(100,t.s)),l=Math.max(0,Math.min(100,t.l)),c=o/360,h=a/100,d=l/100,f=255,m=3;if(a===0){const b=Math.round(d*f);return{r:b,g:b,b}}const w=.5,_=2,R=(b,P,k)=>{if(k<0&&k++,k>1&&k--,k*6<1)return b+(P-b)*6*k;if(k*_<1)return P;if(k*m<1*_){const J=_/m;return b+(P-b)*(J-k)*6}return b},x=1,y=d<w?d*(x+h):d+h-d*h,v=_*d-y,C=1,A=C/m,M=Math.min(f,f*R(v,y,c+A)),T=Math.min(f,f*R(v,y,c)),E=Math.min(f,f*R(v,y,c-A));return{r:Math.round(M),g:Math.round(T),b:Math.round(E)}}function A3(t){const e=Xo(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function EP(t){return{b:Math.floor(hn(me(0,256))),g:Math.floor(hn(me(0,256))),r:Math.floor(hn(me(0,256)))}}function Oi(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function Ql(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function fv(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=Xo(t)),s.r===void 0&&(s=Xo(e)),{b:Yf(r.b,s.b,n,i),g:Yf(r.g,s.g,n,i),r:Yf(r.r,s.r,n,i)}}function Ym(t,e,n){if(n===Mh)return EP();if(n===$c){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return fv(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return Xo(s)}}else return n}function TP(t,e,n){const i=Ir(t)?t:t.value;return i===Mh?n?Wn({value:i}):e?Mh:$c:i===$c?$c:Wn({value:i})}function U1(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function SP(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Xf(i.h,e.h,n),Xf(i.s,e.s,n),Xf(i.l,e.l,n)),i}function Xf(t,e,n){t.enable=e.enable;const i=0,r=1,s=0,o=0;t.enable?(t.velocity=Q(e.speed)/lr*n,t.decay=r-Q(e.decay),t.status=Ye.increasing,t.loops=s,t.maxLoops=Q(e.count),t.time=o,t.delayTime=Q(e.delay)*It,e.sync||(t.velocity*=Ie(),t.value*=Ie()),t.initialValue=t.value,t.offset=me(e.offset)):t.velocity=i}function Jf(t,e,n,i){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=i.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const h=t.offset?hn(t.offset):0,d=(t.velocity??0)*i.factor+h*3.6,f=t.decay??1,m=jn(e),w=Cd(e);!n||t.status===Ye.increasing?(t.value+=d,t.value>m&&(t.loops||(t.loops=0),t.loops++,n?t.status=Ye.decreasing:t.value-=m)):(t.value-=d,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=Ye.increasing)),t.velocity&&f!==1&&(t.velocity*=f),t.value=An(t.value,w,m)}function bP(t,e){if(!t)return;const{h:n,s:i,l:r}=t,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&Jf(n,s.h,!1,e),i&&Jf(i,s.s,!0,e),r&&Jf(r,s.l,!0,e)}const Jo={x:0,y:0},cc={a:1,b:0,c:0,d:1};function yl(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function D3(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(Jo.x,Jo.y,e.width,e.height)}function M3(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,Jo.x,Jo.y,e.width,e.height),t.globalAlpha=1)}function Zf(t,e){t.clearRect(Jo.x,Jo.y,e.width,e.height)}function O3(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:h,transform:d}=t,f=i.getPosition(),m=0,w=i.rotation+(i.pathRotation?i.velocity.angle:m),_={sin:Math.sin(w),cos:Math.cos(w)},R=!!w,x=1,y={a:_.cos*(d.a??cc.a),b:R?_.sin*(d.b??x):d.b??cc.b,c:R?-_.sin*(d.c??x):d.c??cc.c,d:_.cos*(d.d??cc.d)};n.setTransform(y.a,y.b,y.c,y.d,f.x,f.y),o&&(n.globalCompositeOperation=a);const v=i.shadowColor;h.enable&&v&&(n.shadowBlur=h.blur,n.shadowColor=Oi(v),n.shadowOffsetX=h.offset.x,n.shadowOffsetY=h.offset.y),s.fill&&(n.fillStyle=s.fill);const C=0,A=i.strokeWidth??C;n.lineWidth=A,s.stroke&&(n.strokeStyle=s.stroke);const M={container:e,context:n,particle:i,radius:l,opacity:c,delta:r,transformData:y,strokeWidth:A};N3(M),L3(M),V3(M),n.globalCompositeOperation="source-over",n.resetTransform()}function V3(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.effect)return;const l=e.effectDrawers.get(i.effect);l&&l.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function N3(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,strokeWidth:a,transformData:l}=t,c=0;if(!i.shape)return;const h=e.shapeDrawers.get(i.shape);h&&(n.beginPath(),h.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),i.shapeClose&&n.closePath(),a>c&&n.stroke(),i.shapeFill&&n.fill())}function L3(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);l!=null&&l.afterDraw&&l.afterDraw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function F3(t,e,n){e.draw&&e.draw(t,n)}function z3(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function j3(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===Qm.darken?-1:1)*n}}function B3(t,e,n){const i=e[n],r=1;i!==void 0&&(t[n]=(t[n]??r)*i)}function $1(t,e,n=!1){if(!e)return;const i=t;if(!i)return;const r=i.style;if(r)for(const s in e){const o=e[s];o&&r.setProperty(s,o,n?"important":"")}}class U3{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{var i;for(const r of this._postDrawUpdaters)(i=r.afterDraw)==null||i.call(r,n)},this._applyPreDrawUpdaters=(n,i,r,s,o,a)=>{var l;for(const c of this._preDrawUpdaters){if(c.getColorStyles){const{fill:h,stroke:d}=c.getColorStyles(i,n,r,s);h&&(o.fill=h),d&&(o.stroke=d)}if(c.getTransformValues){const h=c.getTransformValues(i);for(const d in h)B3(a,h,d)}(l=c.beforeDraw)==null||l.call(c,i)}},this._applyResizePlugins=()=>{var n;for(const i of this._resizePlugins)(n=i.resize)==null||n.call(i)},this._getPluginParticleColors=n=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=Gl(s.particleFillColor(n))),!r&&s.particleStrokeColor&&(r=Gl(s.particleStrokeColor(n))),i&&r)break;return[i,r]},this._initCover=async()=>{const n=this.container.actualOptions,i=n.backgroundMask.cover,r=i.color;if(r){const s=Wn(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=Oi(o,o.a)}}else await new Promise((s,o)=>{if(!i.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._coverImage={image:a,opacity:i.opacity},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=i.image})},this._initStyle=()=>{const n=this.element,i=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Ot({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&n.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,i=n.particles.move.trail,r=i.fill;if(!i.enable)return;const s=1,o=s/i.length;if(r.color){const a=Wn(r.color);if(!a)return;this._trailFill={color:{...a},opacity:o}}else await new Promise((a,l)=>{if(!r.image)return;const c=document.createElement("img");c.addEventListener("load",()=>{this._trailFill={image:c,opacity:o},a()}),c.addEventListener("error",h=>{l(h.error)}),c.src=r.image})},this._paintBase=n=>{this.draw(i=>D3(i,this.size,n))},this._paintImage=(n,i)=>{this.draw(r=>M3(r,this.size,n,i))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>{!n||!(n instanceof Node)||i.observe(n,{attributes:!0})}))},this._resetOriginalStyle=()=>{const n=this.element,i=this._originalStyle;n&&i&&$1(n,i)},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;$1(n,{position:"fixed",zIndex:this.container.actualOptions.fullScreen.zIndex.toString(10),top:"0",left:"0",width:"100%",height:"100%"},!0)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&i?i.color?this._paintBase(Oi(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(s=>{Zf(s,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e==null||e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawAsync(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const s=e.getFillColor(),o=e.getStrokeColor()??s;let[a,l]=this._getPluginParticleColors(e);a||(a=s),l||(l=o),!(!a&&!l)&&this.draw(c=>{var T;const h=this.container,d=h.actualOptions,f=e.options.zIndex,m=1,w=m-e.zIndexFactor,_=w**f.opacityRate,R=1,x=e.bubble.opacity??((T=e.opacity)==null?void 0:T.value)??R,y=e.strokeOpacity??x,v=x*_,C=y*_,A={},M={fill:a?Ql(a,v):void 0};M.stroke=l?Ql(l,C):M.fill,this._applyPreDrawUpdaters(c,e,i,v,M,A),O3({container:h,context:c,particle:e,delta:n,colorStyles:M,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*w**f.sizeRate,opacity:v,shadow:e.options.shadow,transform:A}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>z3(r,e,n,i))}drawPlugin(e,n){this.draw(i=>F3(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=E3(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){Ps().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=Wn(n.color);r.backgroundColor=s?Oi(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&as in e.dataset?e.dataset[as]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Ot({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{!this.element||!(this.element instanceof Node)||n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Zf(n,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&e.particles.setResizeFactor({width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Zf(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}var Io;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})(Io||(Io={}));const H1=2;function xn(t,e,n,i,r){if(i){let s={passive:!0};cP(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class $3{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;Dn(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l!=null&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document!=null&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.animationStatus?n.play(!0):n.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const n=async()=>{const i=this.container.canvas;await(i==null?void 0:i.windowResize())};this._resizeTimeout=setTimeout(()=>void n(),this.container.actualOptions.interactivity.events.resize.delay*It)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(xn(a,bs,r.mouseMove,i),xn(a,r3,r.touchStart,i),xn(a,s3,r.touchMove,i),o.interactivity.events.onClick.enable?(xn(a,V1,r.touchEndClick,i),xn(a,n3,r.mouseUp,i),xn(a,t3,r.mouseDown,i)):xn(a,V1,r.touchEnd,i),xn(a,n,r.mouseLeave,i),xn(a,o3,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=Wm;o===Io.window?(r.interactivity.element=window,l=i3):o===Io.parent&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&xn(document,l3,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=pP("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){xn(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){xn(window,a3,i.resize,n);return}const o=r.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(a=>{a.find(c=>c.target===o)&&this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=Wm,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!(s!=null&&s.element))return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(s.element===window){if(o){const h=o.getBoundingClientRect();a={x:c.clientX-h.left,y:c.clientY-h.top}}}else if(r.interactivity.detectsOn===Io.parent){const h=c.target,d=c.currentTarget;if(h&&d&&o){const f=h.getBoundingClientRect(),m=d.getBoundingClientRect(),w=o.getBoundingClientRect();a={x:c.offsetX+H1*f.left-(m.left+w.left),y:c.offsetY+H1*f.top-(m.top+w.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,h=1,d=c.touches[c.touches.length-h],f=o.getBoundingClientRect(),m=0;a={x:d.clientX-(f.left??m),y:d.clientY-(f.top??m)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=bs},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var jt;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(jt||(jt={}));class Vt{constructor(){this.value=""}static create(e,n){const i=new Vt;return i.load(e),n!==void 0&&(Ir(n)||di(n)?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class H3{constructor(){this.color=new Vt,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Vt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class q3{constructor(){this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Vt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class W3{constructor(){this.composite="destination-out",this.cover=new q3,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=Ir(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0||n.image!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class K3{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class G3{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var Zo;(function(t){t.circle="circle",t.rectangle="rectangle"})(Zo||(Zo={}));class q1{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Zo.circle}load(e){e&&(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class Q3{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class Y3{constructor(){this.enable=!1,this.mode=[],this.parallax=new Q3}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class X3{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class J3{constructor(){this.onClick=new G3,this.onDiv=new q1,this.onHover=new Y3,this.resize=new X3}load(e){if(!e)return;this.onClick.load(e.onClick);const n=e.onDiv;n!==void 0&&(this.onDiv=Dn(n,i=>{const r=new q1;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class Z3{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class CP{constructor(e,n){this.detectsOn=Io.window,this.events=new J3,this.modes=new Z3(e,n)}load(e){if(!e)return;const n=e.detectsOn;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}const W1=50;class e9{load(e){e&&(e.position&&(this.position={x:e.position.x??W1,y:e.position.y??W1,mode:e.position.mode??Yo.percent}),e.options&&(this.options=Ot({},e.options)))}}var us;(function(t){t.screen="screen",t.canvas="canvas"})(us||(us={}));class t9{constructor(){this.maxWidth=1/0,this.options={},this.mode=us.canvas}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode===us.screen?this.mode=us.screen:this.mode=us.canvas),e.options!==void 0&&(this.options=Ot({},e.options)))}}var rr;(function(t){t.any="any",t.dark="dark",t.light="light"})(rr||(rr={}));class n9{constructor(){this.auto=!1,this.mode=rr.any,this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class i9{constructor(){this.name="",this.default=new n9}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Ot({},e.options)))}}class pv{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=me(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=me(e.speed)),e.decay!==void 0&&(this.decay=me(e.decay)),e.delay!==void 0&&(this.delay=me(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class mv extends pv{constructor(){super(),this.mode=ls.auto,this.startValue=Ro.random}load(e){super.load(e),e&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class ep extends pv{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),e&&e.offset!==void 0&&(this.offset=me(e.offset))}}class r9{constructor(){this.h=new ep,this.s=new ep,this.l=new ep}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Yl extends Vt{constructor(){super(),this.animation=new r9}static create(e,n){const i=new Yl;return i.load(e),n!==void 0&&(Ir(n)||di(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}var ko;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(ko||(ko={}));class s9{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class o9{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Ms{constructor(){this.value=0}load(e){e&&e.value!==void 0&&(this.value=me(e.value))}}class a9 extends Ms{constructor(){super(),this.animation=new pv}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class PP extends a9{constructor(){super(),this.animation=new mv}load(e){super.load(e)}}class K1 extends Ms{constructor(){super(),this.value=1}}class RP{constructor(){this.horizontal=new K1,this.vertical=new K1}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class l9{constructor(){this.absorb=new s9,this.bounce=new RP,this.enable=!1,this.maxSpeed=50,this.mode=ko.bounce,this.overlap=new o9}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=me(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class u9{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(!e)return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=Ot(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class c9{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=me(e.offset)),e.value!==void 0&&(this.value=me(e.value)))}}class h9{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(e&&(e.distance!==void 0&&(this.distance=me(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const n=e.rotate.x;n!==void 0&&(this.rotate.x=n);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class d9{constructor(){this.x=50,this.y=50,this.mode=Yo.percent,this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class f9{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=me(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=me(e.maxSpeed)))}}class p9{constructor(){this.clamp=!0,this.delay=new Ms,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Ot(this.options,e.options)))}}class m9{load(e){e&&(e.color!==void 0&&(this.color=Vt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class g9{constructor(){this.enable=!1,this.length=10,this.fill=new m9}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Je;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(Je||(Je={}));class y9{constructor(){this.default=Je.out}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class v9{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=me(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Ot({},e.position)))}}class w9{constructor(){this.angle=new c9,this.attract=new h9,this.center=new d9,this.decay=0,this.distance={},this.direction=ht.none,this.drift=0,this.enable=!1,this.gravity=new f9,this.path=new p9,this.outModes=new y9,this.random=!1,this.size=!1,this.speed=2,this.spin=new v9,this.straight=!1,this.trail=new g9,this.vibrate=!1,this.warp=!1}load(e){if(!e)return;this.angle.load(kr(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=me(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=kr(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=me(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes;n!==void 0&&(po(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=me(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class _9 extends mv{constructor(){super(),this.destroy=Cs.none,this.speed=2}load(e){super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class x9 extends PP{constructor(){super(),this.animation=new _9,this.value=1}load(e){if(!e)return;super.load(e);const n=e.animation;n!==void 0&&this.animation.load(n)}}class E9{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width;n!==void 0&&(this.width=n);const i=e.height;i!==void 0&&(this.height=i)}}var Xl;(function(t){t.delete="delete",t.wait="wait"})(Xl||(Xl={}));class T9{constructor(){this.mode=Xl.delete,this.value=0}load(e){e&&(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class S9{constructor(){this.density=new E9,this.limit=new T9,this.value=0}load(e){e&&(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class b9{constructor(){this.blur=0,this.color=new Vt,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Vt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class C9{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(!e)return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=Ot(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class P9 extends mv{constructor(){super(),this.destroy=Cs.none,this.speed=5}load(e){super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class R9 extends PP{constructor(){super(),this.animation=new P9,this.value=3}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class G1{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Yl.create(this.color,e.color)),e.width!==void 0&&(this.width=me(e.width)),e.opacity!==void 0&&(this.opacity=me(e.opacity)))}}class I9 extends Ms{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class k9{constructor(e,n){this._engine=e,this._container=n,this.bounce=new RP,this.collisions=new l9,this.color=new Yl,this.color.value="#fff",this.effect=new u9,this.groups={},this.move=new w9,this.number=new S9,this.opacity=new x9,this.reduceDuplicates=!1,this.shadow=new b9,this.shape=new C9,this.size=new R9,this.stroke=new G1,this.zIndex=new I9}load(e){if(!e)return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=Ot(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Yl.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Ot({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=Dn(n,i=>{const r=new G1;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function IP(t,...e){for(const n of e)t.load(n)}function kP(t,e,...n){const i=new k9(t,e);return IP(i,...n),i}class A9{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===rr.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new H3,this.backgroundMask=new W3,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new K3,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new CP(e,n),this.manualParticles=[],this.particles=kP(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var o,a;if(!e)return;e.preset!==void 0&&Dn(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=me(e.delay));const n=e.detectRetina;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=me(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;cP(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new e9;return c.load(l),c})),this.particles.load(e.particles),this.style=Ot(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new t9;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(h=>h.name===l.name);if(c)c.load(l);else{const h=new i9;h.load(l),this.themes.push(h)}}this.defaultThemes.dark=(o=this._findDefaultTheme(rr.dark))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme(rr.light))==null?void 0:a.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode===us.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=pP("(prefers-color-scheme: dark)"),i=n==null?void 0:n.matches,r=this._findDefaultTheme(i?rr.dark:rr.light);r&&this.load(r.options)}}}var ea;(function(t){t.external="external",t.particles="particles"})(ea||(ea={}));class D9{constructor(e,n){this.container=n,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&n.interact(e)}handleClickMode(e){var n;for(const i of this._externalInteractors)(n=i.handleClickMode)==null||n.call(i,e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case ea.external:this._externalInteractors.push(e);break;case ea.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,n)}reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}var Kn;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(Kn||(Kn={}));const Q1=0,Xm=2,hc=.5,M9=2,Y1="random";function O9(t,e,n,i){const r=e.options[t];if(r)return Ot({close:e.close,fill:e.fill},Bn(r,n,i))}function V9(t,e,n,i){const r=e.options[t];if(r)return Ot({close:e.close,fill:e.fill},Bn(r,n,i))}function X1(t){if(!qe(t.outMode,t.checkModes))return;const e=t.radius*Xm;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class N9{constructor(e,n){this.container=n,this._calcPosition=(i,r,s,o=Q1)=>{for(const[,w]of i.plugins){const _=w.particlePosition!==void 0?w.particlePosition(r,this):void 0;if(_)return an.create(_.x,_.y,s)}const a=i.canvas.size,l=y3({size:a,position:r}),c=an.create(l.x,l.y,s),h=this.getRadius(),d=this.options.move.outModes,f=w=>{X1({outMode:w,checkModes:[Je.bounce],coord:c.x,maxCoord:i.canvas.size.width,setCb:_=>c.x+=_,radius:h})},m=w=>{X1({outMode:w,checkModes:[Je.bounce],coord:c.y,maxCoord:i.canvas.size.height,setCb:_=>c.y+=_,radius:h})};return f(d.left??d.default),f(d.right??d.default),m(d.top??d.default),m(d.bottom??d.default),this._checkOverlap(c,o)?this._calcPosition(i,void 0,s,o+1):c},this._calculateVelocity=()=>{const i=g3(this.direction),r=i.copy(),s=this.options.move;if(s.direction===ht.inside||s.direction===ht.outside)return r;const o=_r(Q(s.angle.value)),a=_r(Q(s.angle.offset)),l={left:a-o*hc,right:a+o*hc};return s.straight||(r.angle+=hn(me(l.left,l.right))),s.random&&typeof s.speed=="number"&&(r.length*=Ie()),r},this._checkOverlap=(i,r=Q1)=>{const s=this.options.collisions,o=this.getRadius();if(!s.enable)return!1;const a=s.overlap;if(a.enable)return!1;const l=a.retries;if(l>=0&&r>l)throw new Error(`${kn} particle is overlapping and can't be placed`);return!!this.container.particles.find(h=>pn(i,h.position)<o+h.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=1,s=0,o=this.roll.horizontal&&this.roll.vertical?Xm*r:r,a=this.roll.horizontal?Math.PI*hc:s;return Math.floor(((this.roll.angle??s)+a)/(Math.PI/o))%Xm?this.backColor?this.backColor:this.roll.alter?j3(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,s=Q(this.options.zIndex.value),o=0;this.position=this._calcPosition(r,i,An(s,o,r.zLayers)),this.initialPosition=this.position.copy();const a=r.canvas.size,l=0;switch(this.moveCenter={...wP(this.options.move.center,a),radius:this.options.move.center.radius??l,mode:this.options.move.center.mode??Yo.percent},this.direction=m3(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case ht.inside:this.outType=Kn.inside;break;case ht.outside:this.outType=Kn.outside;break}this.offset=ot.origin},this._engine=e}destroy(e){var s,o,a;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator,r=n.shapeDrawers.get(this.shape);(s=r==null?void 0:r.particleDestroy)==null||s.call(r,this);for(const[,l]of n.plugins)(o=l.particleDestroyed)==null||o.call(l,this,e);for(const l of n.particles.updaters)(a=l.particleDestroyed)==null||a.call(l,this,e);i==null||i.reset(this),this._engine.dispatchEvent(jt.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const n=this.container,i=n.canvas;for(const[,r]of n.plugins)i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??U1(this.color))}getMass(){return this.getRadius()**M9*Math.PI*hc}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??U1(this.strokeColor))}init(e,n,i,r){var E,b,P,k,D,I;const s=this.container,o=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Kn.normal,this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=kP(this._engine,s,l.particles),{reduceDuplicates:h}=c,d=c.effect.type,f=c.shape.type;this.effect=Bn(d,this.id,h),this.shape=Bn(f,this.id,h);const m=c.effect,w=c.shape;if(i){if((E=i.effect)!=null&&E.type){const K=i.effect.type,J=Bn(K,this.id,h);J&&(this.effect=J,m.load(i.effect))}if((b=i.shape)!=null&&b.type){const K=i.shape.type,J=Bn(K,this.id,h);J&&(this.shape=J,w.load(i.shape))}}if(this.effect===Y1){const K=[...this.container.effectDrawers.keys()];this.effect=K[Math.floor(Math.random()*K.length)]}if(this.shape===Y1){const K=[...this.container.shapeDrawers.keys()];this.shape=K[Math.floor(Math.random()*K.length)]}this.effectData=O9(this.effect,m,this.id,h),this.shapeData=V9(this.shape,w,this.id,h),c.load(i);const _=this.effectData;_&&c.load(_.particles);const R=this.shapeData;R&&c.load(R.particles);const x=new CP(o,s);x.load(s.actualOptions.interactivity),x.load(c.interactivity),this.interactivity=x,this.effectFill=(_==null?void 0:_.fill)??c.effect.fill,this.effectClose=(_==null?void 0:_.close)??c.effect.close,this.shapeFill=(R==null?void 0:R.fill)??c.shape.fill,this.shapeClose=(R==null?void 0:R.close)??c.shape.close,this.options=c;const y=this.options.move.path;this.pathDelay=Q(y.delay.value)*It,y.generator&&(this.pathGenerator=this._engine.getPathGenerator(y.generator),this.pathGenerator&&s.addPath(y.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=vP(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy();const v=1;this.moveDecay=v-Q(this.options.move.decay);const C=s.particles;C.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let A=s.effectDrawers.get(this.effect);A||(A=this._engine.getEffectDrawer(this.effect),A&&s.effectDrawers.set(this.effect,A)),A!=null&&A.loadEffect&&A.loadEffect(this);let M=s.shapeDrawers.get(this.shape);M||(M=this._engine.getShapeDrawer(this.shape),M&&s.shapeDrawers.set(this.shape,M)),M!=null&&M.loadShape&&M.loadShape(this);const T=M==null?void 0:M.getSidesCount;T&&(this.sides=T(this)),this.spawning=!1,this.shadowColor=Wn(this.options.shadow.color);for(const K of C.updaters)K.init(this);for(const K of C.movers)(P=K.init)==null||P.call(K,this);(k=A==null?void 0:A.particleInit)==null||k.call(A,s,this),(D=M==null?void 0:M.particleInit)==null||D.call(M,s,this);for(const[,K]of s.plugins)(I=K.particleCreated)==null||I.call(K,this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const n of this.container.particles.updaters)(e=n.reset)==null||e.call(n,this)}}class L9{constructor(e,n){this.position=e,this.particle=n}}var Ao;(function(t){t.circle="circle",t.rectangle="rectangle"})(Ao||(Ao={}));const za=2;class AP{constructor(e,n,i){this.position={x:e,y:n},this.type=i}}class At extends AP{constructor(e,n,i){super(e,n,Ao.circle),this.radius=i}contains(e){return pn(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof At||e.type===Ao.circle){const o=e,a=s+o.radius,l=Math.sqrt(r.x**za+r.y**za);return a>l}else if(e instanceof Qn||e.type===Ao.rectangle){const o=e,{width:a,height:l}=o.size;return Math.pow(r.x-a,za)+Math.pow(r.y-l,za)<=s**za||r.x<=s+a&&r.y<=s+l||r.x<=a||r.y<=l}return!1}}class Qn extends AP{constructor(e,n,i,r){super(e,n,Ao.rectangle),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof At)return e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Qn?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+n&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}const ja=.5,F9=2,z9=4;class Oh{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<z9;l++){const c=l%F9;this._subs.push(new Oh(new Qn(i+s*ja*c,r+o*ja*(Math.round(l*ja)-c),s*ja,o*ja),a))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&pn(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,n));return i}queryCircle(e,n,i){return this.query(new At(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Qn(e.x,e.y,n.width,n.height),i)}}const J1=4,j9=2,B9=1,Z1=t=>{const{height:e,width:n}=t,i=-.25,r=1.5;return new Qn(i*n,i*e,r*n,r*e)};class U9{constructor(e,n){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,s,o)=>{var w;const a=r.number;if(!((w=r.number.density)!=null&&w.enable)){o===void 0?this._limit=a.limit.value:a.limit&&this._groupLimits.set(o,a.limit.value);return}const l=this._initDensityFactor(a.density),c=a.value,h=0,d=a.limit.value>h?a.limit.value:c,f=Math.min(c,d)*l+s,m=Math.min(this.count,this.filter(_=>_.group===o).length);o===void 0?this._limit=a.limit.value*l:this._groupLimits.set(o,a.limit.value*l),m<f?this.push(Math.abs(f-m),void 0,r,o):m>f&&this.removeQuantity(m-f,o)},this._initDensityFactor=r=>{const s=this._container,o=1;if(!s.canvas.element||!r.enable)return o;const a=s.canvas.element,l=s.retina.pixelRatio;return a.width*a.height/(r.height*r.width*l**j9)},this._pushParticle=(r,s,o,a)=>{try{let l=this._pool.pop();l||(l=new N9(this._engine,this._container)),l.init(this._nextId,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(jt.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){Ps().warning(`${kn} adding particle: ${l}`)}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;const l=this._zArray.indexOf(a),c=1;return this._array.splice(r,c),this._zArray.splice(l,c),a.destroy(o),this._engine.dispatchEvent(jt.particleRemoved,{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new D9(e,n),this._pluginsInitialized=!1;const i=n.canvas.size;this.quadTree=new Oh(Z1(i),J1),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?wP(i.position,e.canvas.size):void 0,i.options))}addParticle(e,n,i,r){const s=this._container.actualOptions.particles.number.limit.mode,o=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,a=this.count;if(o>0)switch(s){case Xl.delete:{const d=a+1-o;d>0&&this.removeQuantity(d);break}case Xl.wait:if(a>=o)return;break}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const n=this._container,i=n.canvas;i.clear(),this.update(e);for(const[,r]of n.plugins)i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){var r,s;const e=this._container,n=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const[,o]of e.plugins)if(i=((r=o.particlesInitialization)==null?void 0:r.call(o))??i,i)break;if(this.addManualParticles(),!i){const o=n.particles,a=o.groups;for(const l in a){const c=a[l];for(let h=this.count,d=0;d<((s=c.number)==null?void 0:s.value)&&h<o.number.value;h++,d++)this.addParticle(void 0,c,l)}for(let l=this.count;l<o.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const[,n]of e.pathGenerators)n.init(e)}push(e,n,i,r){for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=B9,i,r){if(e<0||e>this.count)return;let o=0;for(let a=e;o<n&&a<this.count;a++)this._removeParticle(a--,i,r)&&o++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups,i=0;for(const r in n)this._applyDensity(n[r],i,r);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){var s,o;const n=this._container,i=new Set;this.quadTree=new Oh(Z1(n.canvas.size),J1);for(const[,a]of n.pathGenerators)a.update();for(const[,a]of n.plugins)(s=a.update)==null||s.call(a,e);const r=this._resizeFactor;for(const a of this._array){r&&!a.ignoresResizeRatio&&(a.position.x*=r.width,a.position.y*=r.height,a.initialPosition.x*=r.width,a.initialPosition.y*=r.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const[,l]of this._container.plugins){if(a.destroyed)break;(o=l.particleUpdate)==null||o.call(l,a,e)}for(const l of this.movers)l.isEnabled(a)&&l.move(a,e);if(a.destroyed){i.add(a);continue}this.quadTree.insert(new L9(a.getPosition(),a))}if(i.size){const a=l=>!i.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const l of i)this._engine.dispatchEvent(jt.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const l of this.updaters)l.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((c,h)=>h.position.z-c.position.z||c.id-h.id);const l=1;this._lastZIndex=a[a.length-l].position.z,this._needsSort=!1}}}const ex=1,tx=1;class $9{constructor(e){this.container=e,this.pixelRatio=ex,this.reduceFactor=tx}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Rs()?ex:window.devicePixelRatio,this.reduceFactor=tx;const i=this.pixelRatio,r=e.canvas;if(r.element){const a=r.element;r.size.width=a.offsetWidth*i,r.size.height=a.offsetHeight*i}const s=n.particles,o=s.move;this.maxSpeed=Q(o.gravity.maxSpeed)*i,this.sizeAnimationSpeed=Q(s.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,o=e.retina;o.moveDrift=Q(r.drift)*i,o.moveSpeed=Q(r.speed)*i,o.sizeAnimationSpeed=Q(n.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=Q(r.gravity.maxSpeed)*i}}function je(t){return t&&!t.destroyed}const tp=60;function H9(t,e=tp,n=!1){return{value:t,factor:n?tp/e:tp*t/It}}function $s(t,e,...n){const i=new A9(t,e);return IP(i,...n),i}class q9{constructor(e,n,i){this._intersectionManager=r=>{if(!(!je(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+It/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=r);const s=H9(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>It){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){Ps().error(`${kn} in animation loop`,s)}},this._engine=e,this.id=Symbol(n),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new $9(this),this.canvas=new U3(this),this.particles=new U9(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=$s(this._engine,this),this.actualOptions=$s(this._engine,this),this._eventListeners=new $3(this),this._intersectionObserver=x3(r=>this._intersectionManager(r)),this._engine.dispatchEvent(jt.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&je(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!je(this))return;const n=this.interactivity.element;if(!n)return;const i=(d,f,m)=>{if(!je(this))return;const w=this.retina.pixelRatio,_={x:f.x*w,y:f.y*w},R=this.particles.quadTree.queryCircle(_,m*w);e(d,R)},r=d=>{if(!je(this))return;const f=d,m={x:f.offsetX||f.clientX,y:f.offsetY||f.clientY};i(d,m,1)},s=()=>{je(this)&&(c=!0,h=!1)},o=()=>{je(this)&&(h=!0)},a=d=>{if(je(this)){if(c&&!h){const f=d,m=1;let w=f.touches[f.touches.length-m];if(!w&&(w=f.changedTouches[f.changedTouches.length-m],!w))return;const _=this.canvas.element,R=_?_.getBoundingClientRect():void 0,x=0,y={x:w.clientX-(R?R.left:x),y:w.clientY-(R?R.top:x)};i(d,y,Math.max(w.radiusX,w.radiusY))}c=!1,h=!1}},l=()=>{je(this)&&(c=!1,h=!1)};let c=!1,h=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",o),this._clickHandlers.set("touchend",a),this._clickHandlers.set("touchcancel",l);for(const[d,f]of this._clickHandlers)n.addEventListener(d,f)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!je(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){var e;if(je(this)){for(const[n,i]of this._clickHandlers)(e=this.interactivity.element)==null||e.removeEventListener(n,i);this._clickHandlers.clear()}}destroy(e=!0){var n,i;if(je(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const[,r]of this.effectDrawers)(n=r.destroy)==null||n.call(r,this);for(const[,r]of this.shapeDrawers)(i=r.destroy)==null||i.call(r,this);for(const r of this.effectDrawers.keys())this.effectDrawers.delete(r);for(const r of this.shapeDrawers.keys())this.shapeDrawers.delete(r);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const r=this._engine.items,s=r.findIndex(a=>a===this);s>=0&&r.splice(s,1)}this._engine.dispatchEvent(jt.containerDestroyed,{container:this})}}draw(e){if(!je(this))return;let n=e;const i=r=>{n&&(this._lastFrameTime=void 0,n=!1),this._nextFrame(r)};this._drawAnimationFrame=f3(r=>i(r))}async export(e,n={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}Ps().error(`${kn} - Export plugin with type ${e} not found`)}handleClickMode(e){var n;if(je(this)){this.particles.handleClickMode(e);for(const[,i]of this.plugins)(n=i.handleClickMode)==null||n.call(i,e)}}async init(){var d,f,m,w;if(!je(this))return;const e=this._engine.getSupportedEffects();for(const _ of e){const R=this._engine.getEffectDrawer(_);R&&this.effectDrawers.set(_,R)}const n=this._engine.getSupportedShapes();for(const _ of n){const R=this._engine.getShapeDrawer(_);R&&this.shapeDrawers.set(_,R)}await this.particles.initPlugins(),this._options=$s(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=$s(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[_,R]of i)this.plugins.set(_,R);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:s,delay:o,fpsLimit:a,smooth:l}=this.actualOptions;this.zLayers=r,this._duration=Q(s)*It,this._delay=Q(o)*It,this._lifeTime=0;const c=120,h=0;this.fpsLimit=a>h?a:c,this._smooth=l;for(const[,_]of this.effectDrawers)await((d=_.init)==null?void 0:d.call(_,this));for(const[,_]of this.shapeDrawers)await((f=_.init)==null?void 0:f.call(_,this));for(const[,_]of this.plugins)await((m=_.init)==null?void 0:m.call(_));this._engine.dispatchEvent(jt.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const[,_]of this.plugins)(w=_.particlesSetup)==null||w.call(_);this._engine.dispatchEvent(jt.particlesSetup,{container:this})}async loadTheme(e){je(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(je(this)&&(this._drawAnimationFrame!==void 0&&(p3(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,n]of this.plugins)(e=n.pause)==null||e.call(n);this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(jt.containerPaused,{container:this})}}play(e){if(!je(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent(jt.containerPlay,{container:this}),this.draw(n??!1)}async refresh(){if(je(this))return this.stop(),this.start()}async reset(e){if(je(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=$s(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=$s(this._engine,this,this._options),this.refresh()}async start(){!je(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const n=async()=>{var i;this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,r]of this.plugins)await((i=r.start)==null?void 0:i.call(r));this._engine.dispatchEvent(jt.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void n(),this._delay)}))}stop(){var e;if(!(!je(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,n]of this.plugins)(e=n.stop)==null||e.call(n);for(const n of this.plugins.keys())this.plugins.delete(n);this._sourceOptions=this._options,this._engine.dispatchEvent(jt.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class W9{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i==null||i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);if(s<0)return;const a=1;r===a?this._listeners.delete(e):i.splice(s,a)}}async function np(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=await Promise.all([...n.values()].map(s=>s(t))),e.set(t,r)),r}async function K9(t){const e=Bn(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(Ps().error(`${kn} ${n.status} while retrieving config file`),t.fallback)}const DP="true",nx="false",ip="canvas",G9=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===ip)e=t,e.dataset[as]||(e.dataset[as]=nx);else{const i=t.getElementsByTagName(ip);i.length?(e=i[0],e.dataset[as]=nx):(e=document.createElement(ip),e.dataset[as]=DP,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e},Q9=(t,e)=>{let n=e??document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[as]=DP,document.body.append(n),n)};class Y9{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new W9,this._initialized=!1,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get items(){return this._domArray}get version(){return"3.5.0"}addConfig(e){const n=e.key??e.name??"default";this._configs.set(n,e),this._eventDispatcher.dispatchEvent(jt.configAdded,{data:{name:n,config:e}})}async addEffect(e,n,i=!0){Dn(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,n)}),await this.refresh(i)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this._initializers.interactors.set(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this._initializers.movers.set(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this._initializers.updaters.set(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,n),await this.refresh(r)}async addShape(e,n=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(n)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,await i.getPlugin(e));return n}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,n=!1){return np(e,this.interactors,this._initializers.interactors,n)}async getMovers(e,n=!1){return np(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,n=!1){return np(e,this.updaters,this._initializers.updaters,n)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:n}=this,i=n[e];if(!i||i.destroyed){n.splice(e,1);return}return i}async load(e){var w;const i=e.id??((w=e.element)==null?void 0:w.id)??`tsparticles${Math.floor(Ie()*1e4)}`,{index:r,url:s}=e,o=s?await K9({fallback:e.options,url:s,index:r}):e.options,a=Bn(o,r),{items:l}=this,c=l.findIndex(_=>_.id.description===i),h=0,d=new q9(this,i,a);if(c>=h){const _=this.item(c),R=1,x=0,y=_?R:x;_&&!_.destroyed&&_.destroy(!1),l.splice(c,y,d)}else l.push(d);const f=Q9(i,e.element),m=G9(f);return d.canvas.loadCanvas(m),await d.start(),d}loadOptions(e,n){this.plugins.forEach(i=>{var r;return(r=i.loadOptions)==null?void 0:r.call(i,e,n)})}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);r&&r.forEach(s=>{var o;return(o=s.loadOptions)==null?void 0:o.call(s,n,...i)})}async refresh(e=!0){e&&await Promise.all(this.items.map(n=>n.refresh()))}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}setOnClickHandler(e){const{items:n}=this;if(!n.length)throw new Error(`${kn} can only set click handlers after calling tsParticles.load()`);n.forEach(i=>i.addClickHandler(e))}}var mo;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(mo||(mo={}));class X9{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Xo(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Xo({h:Q(i.h),l:Q(i.l),s:Q(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e),r=4,s=1,o=10;return i?A3({a:i.length>r?fP(i[mo.a]):s,h:parseInt(i[mo.h],o),l:parseInt(i[mo.l],o),s:parseInt(i[mo.s],o)}):void 0}}var go;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(go||(go={}));class J9{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:Q(i.r),g:Q(i.g),b:Q(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e),r=10;return i?{a:i.length>4?fP(i[go.a]):1,b:parseInt(i[go.b],r),g:parseInt(i[go.g],r),r:parseInt(i[go.r],r)}:void 0}}function Z9(){const t=new J9,e=new X9;B1(t),B1(e);const n=new Y9;return n.init(),n}class fi{constructor(e){this.type=ea.external,this.container=e}}class gv{constructor(e){this.type=ea.particles,this.container=e}}var bn;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(bn||(bn={}));var ix;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(ix||(ix={}));var ms;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(ms||(ms={}));const yv=Z9();Rs()||(window.tsParticles=yv);const eF=t=>{const e=t.id??"tsparticles";return z.useEffect(()=>{let n;return yv.load({id:e,url:t.url,options:t.options}).then(i=>{var r;n=i,(r=t.particlesLoaded)==null||r.call(t,i)}),()=>{n==null||n.destroy()}},[e,t,t.url,t.options]),O.jsx("div",{id:e,className:t.className})};async function tF(t){await t(yv)}const Jm=.5,cs=0,Un=1,rx=60,sx=0,nF=.01;function iF(t){const e=t.initialPosition,{dx:n,dy:i}=$t(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!a&&!l)return;const c=(a&&r>=a)??!1,h=(l&&s>=l)??!1;if((c||h)&&!t.misplaced)t.misplaced=!!a&&r>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y*Jm-t.velocity.x),l&&(t.velocity.y=t.velocity.x*Jm-t.velocity.y);else if((!a||r<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const d=t.position,f=t.velocity;a&&(d.x<e.x&&f.x<cs||d.x>e.x&&f.x>cs)&&(f.x*=-Ie()),l&&(d.y<e.y&&f.y<cs||d.y>e.y&&f.y>cs)&&(f.y*=-Ie())}}function rF(t,e,n,i,r,s){oF(t,s);const o=t.gravity,a=o!=null&&o.enable&&o.inverse?-Un:Un;r&&n&&(t.velocity.x+=r*s.factor/(rx*n)),o!=null&&o.enable&&n&&(t.velocity.y+=a*(o.acceleration*s.factor)/(rx*n));const l=t.moveDecay;t.velocity.multTo(l);const c=t.velocity.mult(n);o!=null&&o.enable&&i>cs&&(!o.inverse&&c.y>=cs&&c.y>=i||o.inverse&&c.y<=cs&&c.y<=-i)&&(c.y=a*i,n&&(t.velocity.y=c.y/n));const h=t.options.zIndex,d=(Un-t.zIndexFactor)**h.velocityRate;c.multTo(d);const{position:f}=t;f.addTo(c),e.vibrate&&(f.x+=Math.sin(f.x*Math.cos(f.y)),f.y+=Math.cos(f.y*Math.sin(f.x)))}function sF(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction===bn.clockwise?Math.cos:Math.sin,y:t.spin.direction===bn.clockwise?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height),s=r*Jm;t.spin.radius>s?(t.spin.radius=s,t.spin.acceleration*=-Un):t.spin.radius<sx&&(t.spin.radius=sx,t.spin.acceleration*=-Un),t.spin.angle+=e*nF*(Un-t.spin.radius/r)}function oF(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=An(t.velocity.x,-Un,Un),t.velocity.y=An(t.velocity.y,-Un,Un)),t.lastPathTime-=t.pathDelay}function aF(t){return t.slow.inRange?t.slow.factor:Un}function lF(t){const e=t.container,n=t.options,i=n.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},s=.01,o={x:r.x*s*e.canvas.size.width,y:r.y*s*e.canvas.size.height},a=t.getPosition(),l=pn(a,o),c=Q(i.acceleration);t.retina.spinAcceleration=c*e.retina.pixelRatio;const h=0;t.spin={center:o,direction:t.velocity.x>=h?bn.clockwise:bn.counterClockwise,angle:t.velocity.angle,radius:l,acceleration:t.retina.spinAcceleration}}const uF=2,cF=1,hF=1;class dF{init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:Q(i.acceleration),inverse:i.inverse},lF(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var _,R;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio;(_=e.retina).moveSpeed??(_.moveSpeed=Q(r.speed)*o),(R=e.retina).moveDrift??(R.moveDrift=Q(e.options.move.drift)*o);const a=aF(e),l=e.retina.moveSpeed*s.retina.reduceFactor,c=e.retina.moveDrift,h=jn(i.size.value)*o,d=r.size?e.getRadius()/h:cF,f=n.factor||hF,m=l*d*a*f/uF,w=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?sF(e,m):rF(e,r,m,w,c,n),iF(e)}}async function fF(t,e=!0){await t.addMover("base",()=>Promise.resolve(new dF),e)}const pF=2,mF=Math.PI*pF,gF=0,ox={x:0,y:0};function yF(t){const{context:e,particle:n,radius:i}=t;n.circleRange||(n.circleRange={min:gF,max:mF});const r=n.circleRange;e.arc(ox.x,ox.y,i,r.min,r.max,!1)}const vF=12,wF=360,ax=0;class _F{constructor(){this.validTypes=["circle"]}draw(e){yF(e)}getSidesCount(){return vF}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:wF,min:ax};n.circleRange=po(r)?{min:_r(r.min),max:_r(r.max)}:{min:ax,max:_r(r)}}}async function xF(t,e=!0){await t.addShape(new _F,e)}class EF{constructor(e){this.container=e}init(e){const n=Gl(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=SP(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){bP(e.color,n)}}async function TF(t,e=!0){await t.addParticleUpdater("color",n=>Promise.resolve(new EF(n)),e)}class SF{constructor(e){this.container=e}init(e){const n=e.options.opacity,i=1;e.opacity=vP(n,i);const r=n.animation;r.enable&&(e.opacity.velocity=Q(r.speed)/lr*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Ie()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||dv(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function bF(t,e=!0){await t.addParticleUpdater("opacity",n=>Promise.resolve(new SF(n)),e)}const Vh=0,Do=0;function CF(t){if(t.outMode!==Je.bounce&&t.outMode!==Je.split||t.direction!==ue.left&&t.direction!==ue.right)return;t.bounds.right<Do&&t.direction===ue.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===ue.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===ue.right&&t.bounds.right>=t.canvasSize.width&&e>Vh||t.direction===ue.left&&t.bounds.left<=Do&&e<Vh){const r=Q(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===ue.right?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=Do&&t.direction===ue.left&&(t.particle.position.x=i),t.outMode===Je.split&&t.particle.destroy()}function PF(t){if(t.outMode!==Je.bounce&&t.outMode!==Je.split||t.direction!==ue.bottom&&t.direction!==ue.top)return;t.bounds.bottom<Do&&t.direction===ue.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===ue.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===ue.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>Vh||t.direction===ue.top&&t.bounds.top<=Do&&e<Vh){const r=Q(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===ue.bottom?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=Do&&t.direction===ue.top&&(t.particle.position.y=i),t.outMode===Je.split&&t.particle.destroy()}class RF{constructor(e){this.container=e,this.modes=[Je.bounce,Je.split]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,f]of s.plugins)if(f.particleBounce!==void 0&&(o=f.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),h=yu(a,c),d=s.canvas.size;CF({particle:e,outMode:r,direction:n,bounds:h,canvasSize:d,offset:l,size:c}),PF({particle:e,outMode:r,direction:n,bounds:h,canvasSize:d,offset:l,size:c})}}const dc=0;class IF{constructor(e){this.container=e,this.modes=[Je.destroy]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Kn.normal:case Kn.outside:if(uv(e.position,s.canvas.size,ot.origin,e.getRadius(),n))return;break;case Kn.inside:{const{dx:o,dy:a}=$t(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<dc&&o>e.moveCenter.radius||c<dc&&a>e.moveCenter.radius||l>=dc&&o<-e.moveCenter.radius||c>=dc&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}const fc=0;class kF{constructor(e){this.container=e,this.modes=[Je.none]}update(e,n,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(n===ue.left||n===ue.right))??(e.options.move.distance.vertical&&(n===ue.top||n===ue.bottom))))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&n===ue.bottom||s.inverse&&c.y<-l&&n===ue.top)&&o.particles.remove(e)}else{if(e.velocity.y>fc&&e.position.y<=a.height+l||e.velocity.y<fc&&e.position.y>=-l||e.velocity.x>fc&&e.position.x<=a.width+l||e.velocity.x<fc&&e.position.x>=-l)return;uv(e.position,o.canvas.size,ot.origin,l,n)||o.particles.remove(e)}}}const pc=0,mc=0;class AF{constructor(e){this.container=e,this.modes=[Je.out]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Kn.inside:{const{x:o,y:a}=e.velocity,l=ot.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(ot.create(e.moveCenter));const{dx:c,dy:h}=$t(e.position,l);if(o<=pc&&c>=mc||a<=pc&&h>=mc||o>=pc&&c<=mc||a>=pc&&h<=mc)return;e.position.x=Math.floor(hn({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(hn({min:0,max:s.canvas.size.height}));const{dx:d,dy:f}=$t(e.position,e.moveCenter);e.direction=Math.atan2(-f,-d),e.velocity.angle=e.direction;break}default:{if(uv(e.position,s.canvas.size,ot.origin,e.getRadius(),n))return;switch(e.outType){case Kn.outside:{e.position.x=Math.floor(hn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(hn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=$t(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case Kn.normal:{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),h=yu(e.position,c);n===ue.right&&h.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Ie()*a.height,e.initialPosition.y=e.position.y)):n===ue.left&&h.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Ie()*a.height,e.initialPosition.y=e.position.y)),n===ue.bottom&&h.top>a.height+e.offset.y?(o||(e.position.x=Ie()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n===ue.top&&h.bottom<-e.offset.y&&(o||(e.position.x=Ie()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const gc=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class DF{constructor(e){this._updateOutMode=(n,i,r,s)=>{for(const o of this.updaters)o.update(n,s,i,r)},this.container=e,this.updaters=[]}init(e){this.updaters=[];const n=e.options.move.outModes;gc(n,Je.bounce)?this.updaters.push(new RF(this.container)):gc(n,Je.out)?this.updaters.push(new AF(this.container)):gc(n,Je.destroy)?this.updaters.push(new IF(this.container)):gc(n,Je.none)&&this.updaters.push(new kF(this.container))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,ue.bottom),this._updateOutMode(e,n,i.left??i.default,ue.left),this._updateOutMode(e,n,i.right??i.default,ue.right),this._updateOutMode(e,n,i.top??i.default,ue.top)}}async function MF(t,e=!0){await t.addParticleUpdater("outModes",n=>Promise.resolve(new DF(n)),e)}const Wr=0;class OF{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/lr*n.retina.reduceFactor,r.sync||(e.size.velocity*=Ie()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Wr)<=Wr||(e.size.maxLoops??Wr)>Wr&&(e.size.loops??Wr)<(e.size.maxLoops??Wr))}reset(e){e.size.loops=Wr}update(e,n){this.isEnabled(e)&&dv(e,e.size,!0,e.options.size.animation.destroy,n)}}async function VF(t,e=!0){await t.addParticleUpdater("size",()=>Promise.resolve(new OF),e)}async function NF(t,e=!0){await fF(t,!1),await xF(t,!1),await TF(t,!1),await bF(t,!1),await MF(t,!1),await VF(t,!1),await t.refresh(e)}async function LF(){Qf(ms.easeInQuad,t=>t**2),Qf(ms.easeOutQuad,t=>1-(1-t)**2),Qf(ms.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2),await Promise.resolve()}function FF(t){const{context:e,particle:n,radius:i,opacity:r}=t,s=n.emojiData,o=2,a=i*o,l=e.globalAlpha;s&&(e.globalAlpha=r,e.drawImage(s,-i,-i,a,a),e.globalAlpha=l)}const lx='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class zF{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&(n==null||n.close(),this._emojiShapeDict.delete(e))}draw(e){FF(e)}async init(e){const n=e.actualOptions,{validTypes:i}=this;if(!i.find(o=>qe(o,n.particles.shape.type)))return;const r=[j1(lx)],s=i.map(o=>n.particles.shape.options[o]).find(o=>!!o);s&&Dn(s,o=>{o.font&&r.push(j1(o.font))}),await Promise.all(r)}particleDestroy(e){delete e.emojiData}particleInit(e,n){const r=n.shapeData;if(!(r!=null&&r.value))return;const s=Bn(r.value,n.randomIndexData),o=r.font??lx;if(!s)return;const a=`${s}_${o}`,l=this._emojiShapeDict.get(a);if(l){n.emojiData=l;return}const c=jn(n.size.value)*2;let h;const d=jn(n.size.value);if(typeof OffscreenCanvas<"u"){const f=new OffscreenCanvas(c,c),m=f.getContext("2d");if(!m)return;m.font=`400 ${d*2}px ${o}`,m.textBaseline="middle",m.textAlign="center",m.fillText(s,d,d),h=f.transferToImageBitmap()}else{const f=document.createElement("canvas");f.width=c,f.height=c;const m=f.getContext("2d");if(!m)return;m.font=`400 ${d*2}px ${o}`,m.textBaseline="middle",m.textAlign="center",m.fillText(s,d,d),h=f}this._emojiShapeDict.set(a,h),n.emojiData=h}}async function jF(t,e=!0){await t.addShape(new zF,e)}const BF=1,UF=1,MP=0;function OP(t,e,n,i,r){const s=t.actualOptions.interactivity.modes.attract;if(!s)return;const o=t.particles.quadTree.query(i,r);for(const a of o){const{dx:l,dy:c,distance:h}=$t(a.position,e),d=s.speed*s.factor,f=An(dP(s.easing)(UF-h/n)*d,BF,s.maxSpeed),m=ot.create(h?l/h*f:d,h?c/h*f:d);a.position.subFrom(m)}}function $F(t,e){t.attract||(t.attract={particles:[]});const{attract:n}=t;if(n.finish||(n.count||(n.count=0),n.count++,n.count===t.particles.count&&(n.finish=!0)),n.clicking){const i=t.interactivity.mouse.clickPosition,r=t.retina.attractModeDistance;if(!r||r<MP||!i)return;OP(t,i,r,new At(i.x,i.y,r),s=>e(s))}else n.clicking===!1&&(n.particles=[])}function HF(t,e){const n=t.interactivity.mouse.position,i=t.retina.attractModeDistance;!i||i<MP||!n||OP(t,n,i,new At(n.x,n.y,i),r=>e(r))}class qF{constructor(){this.distance=200,this.duration=.4,this.easing=ms.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Ba="attract";let WF=class extends fi{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==Ba)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*It)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===bs,r=n.interactivity.events,{enable:s,mode:o}=r.onHover,{enable:a,mode:l}=r.onClick;i&&s&&qe(Ba,o)?HF(this.container,c=>this.isEnabled(c)):a&&qe(Ba,l)&&$F(this.container,c=>this.isEnabled(c))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return qe(Ba,o)||qe(Ba,a)}loadModeOptions(e,...n){e.attract||(e.attract=new qF);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function KF(t,e=!0){await t.addInteractor("externalAttract",n=>Promise.resolve(new WF(t,n)),e)}const GF=2,Hc=.5,QF=Math.PI*Hc,ux=2,VP=10,YF=0;function NP(t,e,n,i,r){const s=t.particles.quadTree.query(i,r);for(const o of s)i instanceof At?gP(Gm(o),{position:e,radius:n,mass:n**GF*QF,velocity:ot.origin,factor:ot.origin}):i instanceof Qn&&C3(o,yu(e,n))}function XF(t,e,n,i){const r=document.querySelectorAll(e);r.length&&r.forEach(s=>{const o=s,a=t.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth*Hc)*a,y:(o.offsetTop+o.offsetHeight*Hc)*a},c=o.offsetWidth*Hc*a,h=VP*a,d=n.type===Zo.circle?new At(l.x,l.y,c+h):new Qn(o.offsetLeft*a-h,o.offsetTop*a-h,o.offsetWidth*a+h*ux,o.offsetHeight*a+h*ux);i(l,c,d)})}function JF(t,e,n,i){hv(n,e,(r,s)=>XF(t,r,s,(o,a,l)=>NP(t,o,a,l,i)))}function ZF(t,e){const n=t.retina.pixelRatio,i=VP*n,r=t.interactivity.mouse.position,s=t.retina.bounceModeDistance;!s||s<YF||!r||NP(t,r,s,new At(r.x,r.y,s+i),e)}class e6{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}const yc="bounce";class t6 extends fi{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===bs,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&qe(yc,o)?ZF(this.container,l=>this.isEnabled(l)):JF(this.container,a,yc,l=>this.isEnabled(l))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return!!r.position&&s.onHover.enable&&qe(yc,s.onHover.mode)||cv(yc,o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new e6);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function n6(t,e=!0){await t.addInteractor("externalBounce",n=>Promise.resolve(new t6(n)),e)}class LP{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=di(this.color)?void 0:this.color;this.color=Dn(e.color,i=>Vt.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class i6 extends LP{constructor(){super(),this.selectors=[]}load(e){super.load(e),e&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class r6 extends LP{load(e){super.load(e),e&&(this.divs=Dn(e.divs,n=>{const i=new i6;return i.load(n),i}))}}var ti;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(ti||(ti={}));function cx(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return An(r,t,e)}else if(e<n){const r=t-(n-e)*i;return An(r,e,t)}}const Kr="bubble",rp=0,s6=0,o6=2,hx=1,dx=1,a6=0,l6=0,sp=.5,op=1;class u6 extends fi{constructor(e){super(e),this._clickBubble=()=>{var c;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<rp)return;const a=n.particles.quadTree.queryCircle(r,o,h=>this.isEnabled(h)),{bubble:l}=n;for(const h of a){if(!l.clicking)continue;h.bubble.inRange=!l.durationEnd;const d=h.getPosition(),f=pn(d,r),m=(new Date().getTime()-(n.interactivity.mouse.clickTime??s6))/It;m>s.duration&&(l.durationEnd=!0),m>s.duration*o6&&(l.clicking=!1,l.durationEnd=!1);const w={bubbleObj:{optValue:n.retina.bubbleModeSize,value:h.bubble.radius},particlesObj:{optValue:jn(h.options.size.value)*n.retina.pixelRatio,value:h.size.value},type:ti.size};this._process(h,f,m,w);const _={bubbleObj:{optValue:s.opacity,value:h.bubble.opacity},particlesObj:{optValue:jn(h.options.opacity.value),value:((c=h.opacity)==null?void 0:c.value)??hx},type:ti.opacity};this._process(h,f,m,_),!l.durationEnd&&f<=o?this._hoverBubbleColor(h,f):delete h.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,r=n.retina.bubbleModeDistance;if(!r||r<rp||!i)return;const s=n.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=pn(a,i),c=dx-l/r;l<=r?c>=l6&&n.interactivity.status===bs&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),n.interactivity.status===Wm&&this.reset(o)}},this._hoverBubbleColor=(n,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const a=o.color;if(!a)return;const l=Bn(a);n.bubble.finalColor=Gl(l)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const a=n.getFillColor();n.bubble.color=a?xP(fv(a,n.bubble.finalColor,dx-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,r)=>{var d,f;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((d=o.interactivity.modes.bubble)==null?void 0:d.opacity);if(!a)return;const l=n.options.opacity.value,c=((f=n.opacity)==null?void 0:f.value)??hx,h=cx(c,a,jn(l),i);h!==void 0&&(n.bubble.opacity=h)},this._hoverBubbleSize=(n,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=jn(n.options.size.value)*s.retina.pixelRatio,l=n.size.value,c=cx(l,o,a,i);c!==void 0&&(n.bubble.radius=c)},this._process=(n,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const h=c.duration,d=o.retina.bubbleModeDistance,f=s.particlesObj.optValue,m=s.bubbleObj.value,w=s.particlesObj.value??a6,_=s.type;if(!(!d||d<rp||a===f))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)m&&(_===ti.size&&delete n.bubble.radius,_===ti.opacity&&delete n.bubble.opacity);else if(i<=d){if((m??w)!==a){const x=w-r*(w-a)/h;_===ti.size&&(n.bubble.radius=x),_===ti.opacity&&(n.bubble.opacity=x)}}else _===ti.size&&delete n.bubble.radius,_===ti.opacity&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,h=s.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth*sp)*h,y:(c.offsetTop+c.offsetHeight*sp)*h},f=c.offsetWidth*sp*h,m=r.type===Zo.circle?new At(d.x,d.y,f):new Qn(c.offsetLeft*h,c.offsetTop*h,c.offsetWidth*h,c.offsetHeight*h),w=s.particles.quadTree.query(m,_=>this.isEnabled(_));for(const _ of w){if(!m.contains(_.getPosition()))continue;_.bubble.inRange=!0;const R=a.divs,x=mP(R,c);(!_.bubble.div||_.bubble.div!==c)&&(this.clear(_,n,!0),_.bubble.div=c),this._hoverBubbleSize(_,op,x),this._hoverBubbleOpacity(_,op,x),this._hoverBubbleColor(_,op,x)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n===Kr&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,h=i.onDiv;o&&qe(Kr,a)?this._hoverBubble():l&&qe(Kr,c)?this._clickBubble():hv(Kr,h,(d,f)=>this._singleSelectorHover(e,d,f))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=cv(Kr,a);return c||l.enable&&r.position||o.enable&&r.clickPosition?qe(Kr,l.mode)||qe(Kr,o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new r6);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function c6(t,e=!0){await t.addInteractor("externalBubble",n=>Promise.resolve(new u6(n)),e)}class h6{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class d6{constructor(){this.distance=80,this.links=new h6,this.radius=60}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const fx=0,px=1,f6=0;function p6(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),c=fv(s,o,e.getRadius(),n.getRadius()),h=t.createLinearGradient(a.x,a.y,l.x,l.y);return h.addColorStop(fx,Ql(s,i)),h.addColorStop(An(r,fx,px),Oi(c,i)),h.addColorStop(px,Ql(o,i)),h}function m6(t,e,n,i,r){yl(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function g6(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return p6(e,n,i,s.links.opacity)}function y6(t,e,n){t.canvas.draw(i=>{const r=g6(t,i,e,n);if(!r)return;const s=e.getPosition(),o=n.getPosition();m6(i,e.retina.linksWidth??f6,r,s,o)})}const v6="connect",mx=0;class w6 extends fi{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:s}=e.retina;if(!r||r<mx||!s||s<mx||!i)return;const o=Math.abs(s),a=e.particles.quadTree.queryCircle(i,o,l=>this.isEnabled(l));a.forEach((l,c)=>{const h=l.getPosition(),d=1;for(const f of a.slice(c+d)){const m=f.getPosition(),w=Math.abs(r),_=Math.abs(h.x-m.x),R=Math.abs(h.y-m.y);_<w&&R<w&&y6(e,l,f)}})}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?qe(v6,r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new d6);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function _6(t,e=!0){await t.addInteractor("externalConnect",n=>Promise.resolve(new w6(n)),e)}class x6{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Vt.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class E6{constructor(){this.distance=100,this.links=new x6}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const T6=0;function S6(t,e,n,i,r,s){yl(t,n,i),t.strokeStyle=Oi(r,s),t.lineWidth=e,t.stroke()}function b6(t,e,n,i,r){t.canvas.draw(s=>{const o=e.getPosition();S6(s,e.retina.linksWidth??T6,o,r,n,i)})}const C6="grab",P6=0,R6=0;class I6 extends fi{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==bs)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<P6)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),h=pn(c,r);if(h>s)continue;const d=i.modes.grab.links,f=d.opacity,m=f-h*f/s;if(m<=R6)continue;const w=d.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&w){const R=i.modes.grab.links;e.particles.grabLineColor=TP(w,R.blink,R.consent)}const _=Ym(l,void 0,e.particles.grabLineColor);_&&b6(e,l,_,m,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&qe(C6,r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new E6);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function k6(t,e=!0){await t.addInteractor("externalGrab",n=>Promise.resolve(new I6(n)),e)}const A6="pause";class D6 extends fi{constructor(e){super(e),this.handleClickMode=n=>{if(n!==A6)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function M6(t,e=!0){await t.addInteractor("externalPause",n=>Promise.resolve(new D6(n)),e)}class O6{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=me(n))}}const V6="push",N6=0;class L6 extends fi{constructor(e){super(e),this.handleClickMode=n=>{if(n!==V6)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=Q(s.quantity);if(o<=N6)return;const a=Pd([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new O6);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function F6(t,e=!0){await t.addInteractor("externalPush",n=>Promise.resolve(new L6(n)),e)}class z6{constructor(){this.quantity=2}load(e){if(!e)return;const n=e.quantity;n!==void 0&&(this.quantity=me(n))}}const j6="remove";class B6 extends fi{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!==j6)return;const s=Q(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new z6);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function U6(t,e=!0){await t.addInteractor("externalRemove",n=>Promise.resolve(new B6(n)),e)}class FP{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=ms.easeOutQuad}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class $6 extends FP{constructor(){super(),this.selectors=[]}load(e){super.load(e),e&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class H6 extends FP{load(e){super.load(e),e&&(this.divs=Dn(e.divs,n=>{const i=new $6;return i.load(n),i}))}}const Gr="repulse",q6=0,W6=6,K6=3,G6=2,Q6=0,Y6=0,X6=1,ap=.5;class J6 extends fi{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<q6)return;const a=Math.pow(o/W6,K6),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new At(l.x,l.y,a),h=i.particles.quadTree.query(c,d=>this.isEnabled(d));for(const d of h){const{dx:f,dy:m,distance:w}=$t(l,d.position),_=w**G6,R=r.speed,x=-a*R/_;if(_<=a){s.particles.push(d);const y=ot.create(f,m);y.length=x,d.velocity.setTo(y)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<Q6||!r||this._processRepulse(r,s,new At(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,R=>this.isEnabled(R)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:h,speed:d,factor:f,maxSpeed:m}=c,w=dP(h),_=((o==null?void 0:o.speed)??d)*f;for(const R of l){const{dx:x,dy:y,distance:v}=$t(R.position,i),C=An(w(X6-v/r)*_,Y6,m),A=ot.create(v?x/v*C:_,v?y/v*C:_);R.position.addTo(A)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,h=s.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth*ap)*h,y:(c.offsetTop+c.offsetHeight*ap)*h},f=c.offsetWidth*ap*h,m=r.type===Zo.circle?new At(d.x,d.y,f):new Qn(c.offsetLeft*h,c.offsetTop*h,c.offsetWidth*h,c.offsetHeight*h),w=o.divs,_=mP(w,c);this._processRepulse(d,f,m,_)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==Gr)return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*It)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===bs,r=n.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,h=l.mode,d=r.onDiv;i&&o&&qe(Gr,a)?this._hoverRepulse():c&&qe(Gr,h)?this._clickRepulse():hv(Gr,d,(f,m)=>this._singleSelectorRepulse(f,m))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=cv(Gr,o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const h=a.mode,d=l.mode;return qe(Gr,h)||qe(Gr,d)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new H6);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function Z6(t,e=!0){await t.addInteractor("externalRepulse",n=>Promise.resolve(new J6(t,n)),e)}class ez{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const tz="slow",nz=0;class iz extends fi{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&qe(tz,r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new ez);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<nz||!r)return;const a=e.getPosition(),l=pn(r,a),c=l/s,h=o.factor,{slow:d}=e;l>s||(d.inRange=!0,d.factor=c/h)}}async function rz(t,e=!0){await t.addInteractor("externalSlow",n=>Promise.resolve(new iz(n)),e)}const sz=0,oz=1,az=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function lz(t,e,n){const{svgData:i}=t;if(!i)return"";const r=Ql(e,n);if(i.includes("fill"))return i.replace(az,()=>r);const s=i.indexOf(">");return`${i.substring(sz,s)} fill="${r}"${i.substring(s)}`}async function Id(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,Ps().error(`${kn} loading image: ${t.source}`),e()}),n.src=t.source})}async function uz(t){if(t.type!=="svg"){await Id(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(Ps().error(`${kn} Image not found`),t.error=!0),t.loading=!1}function cz(t,e,n,i){var o;const r=lz(t,n,((o=i.opacity)==null?void 0:o.value)??oz),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,h=c.createObjectURL(l),d=new Image;d.addEventListener("load",()=>{s.loaded=!0,s.element=d,a(s),c.revokeObjectURL(h)});const f=async()=>{c.revokeObjectURL(h);const m={...t,error:!1,loading:!0};await Id(m),s.loaded=!0,s.element=m.element,a(s)};d.addEventListener("error",()=>void f()),d.src=h})}const lp=[0,4,2,1],gx=[8,8,4,2];class hz{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const i=0,r=0;do{n=this.data[this.pos++];for(let s=n;--s>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const i=0,r=1;for(let o=0;e!==i;o+=e+r,e=this.data[this.pos+o])n+=e;const s=new Uint8Array(n);e=this.data[this.pos++];for(let o=0;e!==i;e=this.data[this.pos++])for(let a=e;--a>=i;s[o++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var Ln;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(Ln||(Ln={}));var Ci;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(Ci||(Ci={}));const Gt={x:0,y:0},dz=0,yx=.5,fz=0,vx=0,Zm=0;function zP(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function pz(t,e,n,i){switch(t.nextByte()){case Ci.GraphicsControlExtension:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&i(a),t.pos++;break}case Ci.ApplicationExtension:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case Ci.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case Ci.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function mz(t,e,n,i,r,s){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const h=1<<(a&7)+1;l&&(o.localColorTable=zP(t,h));const d=x=>{const{r:y,g:v,b:C}=(l?o.localColorTable:e.globalColorTable)[x];return x!==r(null)?{r:y,g:v,b:C,a:255}:{r:y,g:v,b:C,a:n?~~((y+v+C)/3):0}},f=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(x){if(x instanceof DOMException&&x.name==="IndexSizeError")return null;throw x}})();if(f==null)throw new EvalError("GIF frame size is to large");const m=t.nextByte(),w=t.readSubBlocksBin(),_=1<<m,R=(x,y)=>{const v=x>>>3,C=x&7;return(w[v]+(w[v+1]<<8)+(w[v+2]<<16)&(1<<y)-1<<C)>>>C};if(c){for(let x=0,y=m+1,v=0,C=[[0]],A=0;A<4;A++)if(lp[A]<o.height){let M=0,T=0,E=!1;for(;!E;){const b=x;if(x=R(v,y),v+=y+1,x===_){y=m+1,C.length=_+2;for(let P=0;P<C.length;P++)C[P]=P<_?[P]:[]}else{x>=C.length?C.push(C[b].concat(C[b][0])):b!==_&&C.push(C[b].concat(C[x][0]));for(const P of C[x]){const{r:k,g:D,b:I,a:K}=d(P);f.data.set([k,D,I,K],lp[A]*o.width+gx[A]*T+M%(o.width*4)),M+=4}C.length===1<<y&&y<12&&y++}M===o.width*4*(T+1)&&(T++,lp[A]+gx[A]*T>=o.height&&(E=!0))}}o.image=f,o.bitmap=await createImageBitmap(f)}else{let x=0,y=m+1,v=0,C=-4,A=!1;const M=[[0]];for(;!A;){const T=x;if(x=R(v,y),v+=y,x===_){y=m+1,M.length=_+2;for(let E=0;E<M.length;E++)M[E]=E<_?[E]:[]}else{if(x===_+1){A=!0;break}x>=M.length?M.push(M[T].concat(M[T][0])):T!==_&&M.push(M[T].concat(M[x][0]));for(const E of M[x]){const{r:b,g:P,b:k,a:D}=d(E);f.data.set([b,P,k,D],C+=4)}M.length>=1<<y&&y<12&&y++}}o.image=f,o.bitmap=await createImageBitmap(f)}}async function gz(t,e,n,i,r,s){switch(t.nextByte()){case Ci.EndOfFile:return!0;case Ci.Image:await mz(t,e,n,i,r);break;case Ci.Extension:pz(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function yz(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function vz(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new hz(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,h=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=zP(o,c));const d=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(C){if(C instanceof DOMException&&C.name==="IndexSizeError")return null;throw C}})();if(d==null)throw new Error("GIF frame size is to large");const{r:f,g:m,b:w}=s.globalColorTable[h];d.data.set(l?[f,m,w,255]:[0,0,0,0]);for(let C=4;C<d.data.length;C*=2)d.data.copyWithin(C,0,C);s.backgroundImage=d;let _=-1,R=!0,x=-1;const y=C=>(C&&(R=!0),_),v=C=>(C!=null&&(x=C),x);try{do R&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Ln.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),_++,x=-1,R=!1);while(!await gz(o,s,n,y,v,e));s.frames.length--;for(const C of s.frames){if(C.userInputDelayFlag&&C.delayTime===0){s.totalTime=1/0;break}s.totalTime+=C.delayTime}return s}catch(C){throw C instanceof EvalError?new Error(`error while parsing frame ${_} "${C.message}"`):C}}function wz(t){const{context:e,radius:n,particle:i,delta:r}=t,s=i.image;if(!(s!=null&&s.gifData)||!s.gif)return;const o=new OffscreenCanvas(s.gifData.width,s.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(Gt.x,Gt.y,o.width,o.height),i.gifLoopCount===void 0&&(i.gifLoopCount=s.gifLoopCount??Zm);let l=i.gifFrame??dz;const c={x:-s.gifData.width*yx,y:-s.gifData.height*yx},h=s.gifData.frames[l];if(i.gifTime===void 0&&(i.gifTime=fz),!!h.bitmap){switch(e.scale(n/s.gifData.width,n/s.gifData.height),h.disposalMethod){case Ln.UndefinedA:case Ln.UndefinedB:case Ln.UndefinedC:case Ln.UndefinedD:case Ln.Replace:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,c.x,c.y),a.clearRect(Gt.x,Gt.y,o.width,o.height);break;case Ln.Combine:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,c.x,c.y);break;case Ln.RestoreBackground:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,c.x,c.y),a.clearRect(Gt.x,Gt.y,o.width,o.height),s.gifData.globalColorTable.length?a.putImageData(s.gifData.backgroundImage,c.x,c.y):a.putImageData(s.gifData.frames[vx].image,c.x+h.left,c.y+h.top);break;case Ln.RestorePrevious:{const d=a.getImageData(Gt.x,Gt.y,o.width,o.height);a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,c.x,c.y),a.clearRect(Gt.x,Gt.y,o.width,o.height),a.putImageData(d,Gt.x,Gt.y)}break}if(i.gifTime+=r.value,i.gifTime>h.delayTime){if(i.gifTime-=h.delayTime,++l>=s.gifData.frames.length){if(--i.gifLoopCount<=Zm)return;l=vx,a.clearRect(Gt.x,Gt.y,o.width,o.height)}i.gifFrame=l}e.scale(s.gifData.width/n,s.gifData.height/n)}}async function _z(t){if(t.type!=="gif"){await Id(t);return}t.loading=!0;try{t.gifData=await vz(t.source),t.gifLoopCount=yz(t.gifData)??Zm,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const xz=2,Ez=1,Tz=12,Sz=1;class bz{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${kn} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:i,particle:r,opacity:s}=e,o=r.image,a=o==null?void 0:o.element;if(o){if(n.globalAlpha=s,o.gif&&o.gifData)wz(e);else if(a){const l=o.ratio,c={x:-i,y:-i},h=i*xz;n.drawImage(a,c.x,c.y,h,h/l)}n.globalAlpha=Ez}}getSidesCount(){return Tz}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData;if(!r)return;const s=n.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&s?l=await cz(o,r,s,n):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??Sz,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??n.shapeFill,h=r.close??n.shapeClose,d={image:l,fill:c,close:h};n.image=d.image,n.shapeFill=d.fill,n.shapeClose=d.close})()}}class Cz{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class Pz{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!(n!=null&&n.preload))return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new Cz;o.load(r),i.push(o)}}}needsPlugin(){return!0}}const Rz=3;function Iz(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${kn} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-Rz),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let i;e.gif?i=_z:i=e.replaceColor?uz:Id,await i(n)}catch{throw new Error(`${kn} ${e.name??e.src} not found`)}})}async function kz(t,e=!0){Iz(t);const n=new Pz(t);await t.addPlugin(n,e),await t.addShape(new bz(t),e)}class Az extends Ms{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Dz extends Ms{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Mz{constructor(){this.count=0,this.delay=new Az,this.duration=new Dz}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Hs=0,Oz=-1,wx=0,_x=0;function Vz(t,e,n){if(!t.life)return;const i=t.life;let r=!1;if(t.spawning)if(i.delayTime+=e.value,i.delayTime>=t.life.delay)r=!0,t.spawning=!1,i.delayTime=Hs,i.time=Hs;else return;if(i.duration===Oz||t.spawning||(r?i.time=Hs:i.time+=e.value,i.time<i.duration))return;if(i.time=Hs,t.life.count>wx&&t.life.count--,t.life.count===wx){t.destroy();return}const s=me(_x,n.width),o=me(_x,n.width);t.position.x=hn(s),t.position.y=hn(o),t.spawning=!0,i.delayTime=Hs,i.time=Hs,t.reset();const a=t.options.life;a&&(i.delay=Q(a.delay.value)*It,i.duration=Q(a.duration.value)*It)}const Qr=0,xx=1,Ex=-1;class Nz{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?Q(r.delay.value)*(r.delay.sync?xx:Ie())/n.retina.reduceFactor*It:Qr,delayTime:Qr,duration:n.retina.reduceFactor?Q(r.duration.value)*(r.duration.sync?xx:Ie())/n.retina.reduceFactor*It:Qr,time:Qr,count:r.count},e.life.duration<=Qr&&(e.life.duration=Ex),e.life.count<=Qr&&(e.life.count=Ex),e.life&&(e.spawning=e.life.delay>Qr))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new Mz);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){!this.isEnabled(e)||!e.life||Vz(e,n,this.container.canvas.size)}}async function Lz(t,e=!0){await t.addParticleUpdater("life",async n=>Promise.resolve(new Nz(n)),e)}function Fz(t){const{context:e,particle:n,radius:i}=t,r=n.shapeData,s=0;e.moveTo(-i,s),e.lineTo(i,s),e.lineCap=(r==null?void 0:r.cap)??"butt"}const zz=1;class jz{constructor(){this.validTypes=["line"]}draw(e){Fz(e)}getSidesCount(){return zz}}async function Bz(t,e=!0){await t.addShape(new jz,e)}const Tx=.5;class Uz{init(){}isEnabled(e){return!Rs()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(Rs()||!r.enable)return;const s=r.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width*Tx,y:a.height*Tx},c=r.smooth,h=e.getRadius()/s,d={x:(o.x-l.x)*h,y:(o.y-l.y)*h},{offset:f}=e;f.x+=(d.x-f.x)/c,f.y+=(d.y-f.y)/c}}async function $z(t,e=!0){await t.addMover("parallax",()=>Promise.resolve(new Uz),e)}const Sx=1e3,Hz=1;class qz extends gv{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=Q(e.options.move.attract.distance)*n.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=$t(r,a),h=e.options.move.attract.rotate,d=l/(h.x*Sx),f=c/(h.y*Sx),m=o.size.value/e.size.value,w=Hz/m;e.velocity.x-=d*m,e.velocity.y-=f*m,o.velocity.x+=d*w,o.velocity.y+=f*w}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function Wz(t,e=!0){await t.addInteractor("particlesAttract",n=>Promise.resolve(new qz(n)),e)}const Kz=.5,Gz=10,Qz=0;function bx(t,e,n,i,r,s){const o=An(t.options.collisions.absorb.speed*r.factor/Gz,Qz,i);t.size.value+=o*Kz,n.size.value-=o,i<=s&&(n.size.value=0,n.destroy())}function Yz(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?bx(t,r,e,s,n,i):bx(e,s,t,r,n,i))}const Cx=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=Q(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function jP(t,e){gP(Gm(t),Gm(e)),Cx(t),Cx(e)}function Xz(t,e){!t.unbreakable&&!e.unbreakable&&jP(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function Jz(t,e,n,i){switch(t.options.collisions.mode){case ko.absorb:{Yz(t,e,n,i);break}case ko.bounce:{jP(t,e);break}case ko.destroy:{Xz(t,e);break}}}const Zz=2;class ej extends gv{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*Zz);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const h=pn(r,l),d=s+c;h>d||Jz(e,a,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function tj(t,e=!0){await t.addInteractor("particlesCollisions",n=>Promise.resolve(new ej(n)),e)}const up=2;class nj extends At{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new At(r.x,r.y,i.radius*up);return super.intersects(s)}else if(n.size!==void 0){const s=new Qn(r.x,r.y,n.size.width*up,n.size.height*up);return super.intersects(s)}return!1}}class ij{constructor(){this.blur=5,this.color=new Vt,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Vt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class rj{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=Vt.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class sj{constructor(){this.blink=!1,this.color=new Vt,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new ij,this.triangles=new rj,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Vt.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const Px=2,oj=1,vc={x:0,y:0},aj=0;function lj(t,e,n,i,r){const{dx:s,dy:o,distance:a}=$t(t,e);if(!r||a<=n)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**Px+c.y**Px)}class uj extends gv{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this.linkContainer,r=n.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=TP(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<vc.x||n.y<vc.y||n.x>r.width||n.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??aj,l=s.warp;let c;l?c=new nj(n.x,n.y,a,r):c=new At(n.x,n.y,a);const h=i.particles.quadTree.query(c);for(const d of h){const f=d.options.links;if(e===d||!(f!=null&&f.enable)||s.id!==f.id||d.spawning||d.destroyed||!d.links||e.links.some(R=>R.destination===d)||d.links.some(R=>R.destination===e))continue;const m=d.getPosition();if(m.x<vc.x||m.y<vc.y||m.x>r.width||m.y>r.height)continue;const w=lj(n,m,a,r,l&&f.warp);if(w>a)continue;const _=(oj-w/a)*o;this._setColor(e),e.links.push({destination:d,opacity:_})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new sj);for(const i of n)e.links.load(i==null?void 0:i.links)}reset(){}}async function cj(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new uj(n)),e)}function hj(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function dj(t){let e=!1;const{begin:n,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:h,links:d}=t;if(pn(n,i)<=r)yl(s,n,i),e=!0;else if(d.warp){let m,w;const _={x:i.x-o.width,y:i.y},R=$t(n,_);if(R.distance<=r){const x=n.y-R.dy/R.dx*n.x;m={x:0,y:x},w={x:o.width,y:x}}else{const x={x:i.x,y:i.y-o.height},y=$t(n,x);if(y.distance<=r){const C=-(n.y-y.dy/y.dx*n.x)/(y.dy/y.dx);m={x:C,y:0},w={x:C,y:o.height}}else{const v={x:i.x-o.width,y:i.y-o.height},C=$t(n,v);if(C.distance<=r){const A=n.y-C.dy/C.dx*n.x;m={x:-A/(C.dy/C.dx),y:A},w={x:m.x+o.width,y:m.y+o.height}}}}m&&w&&(yl(s,n,m),yl(s,i,w),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=Oi(c,h);const{shadow:f}=d;if(f.enable){const m=Wn(f.color);m&&(s.shadowBlur=f.blur,s.shadowColor=Oi(m))}s.stroke()}function fj(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;hj(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=Oi(o,a),e.fill()}function pj(t){return t.sort((e,n)=>e-n),t.join("_")}function Rx(t,e){const n=pj(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Ie(),e.set(n,i)),i}const Ix=0,cp=0,kx=0,mj=.5,gj=1;class yj{constructor(e){this.container=e,this._drawLinkLine=(n,i)=>{const r=n.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=n.getPosition(),c=a.getPosition();let h=i.opacity;s.canvas.draw(d=>{var x;let f;const m=(x=n.options.twinkle)==null?void 0:x.lines;if(m!=null&&m.enable){const y=m.frequency,v=Wn(m.color);Ie()<y&&v&&(f=v,h=Q(m.opacity))}if(!f){const y=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;f=Ym(n,a,y)}if(!f)return;const w=n.retina.linksWidth??cp,_=n.retina.linksDistance??kx,{backgroundMask:R}=o;dj({context:d,width:w,begin:l,end:c,maxDistance:_,canvasSize:s.canvas.size,links:r,backgroundMask:R,colorLine:f,opacity:h})})},this._drawLinkTriangle=(n,i,r)=>{const s=n.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,h=r.destination,d=o.opacity??(i.opacity+r.opacity)*mj;d<=Ix||a.canvas.draw(f=>{const m=n.getPosition(),w=c.getPosition(),_=h.getPosition(),R=n.retina.linksDistance??kx;if(pn(m,w)>R||pn(_,w)>R||pn(_,m)>R)return;let x=Wn(o.color);if(!x){const y=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;x=Ym(n,c,y)}x&&fj({context:f,pos1:m,pos2:w,pos3:_,backgroundMask:l.backgroundMask,colorTriangle:x,opacityTriangle:d})})},this._drawTriangles=(n,i,r,s)=>{var l,c,h;const o=r.destination;if(!((l=n.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(h=o.links)==null?void 0:h.filter(d=>{const f=this._getLinkFrequency(o,d.destination);return o.options.links&&f<=o.options.links.frequency&&s.findIndex(w=>w.destination===d.destination)>=0});if(a!=null&&a.length)for(const d of a){const f=d.destination;this._getTriangleFrequency(i,o,f)>n.links.triangles.frequency||this._drawLinkTriangle(i,r,d)}},this._getLinkFrequency=(n,i)=>Rx([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,r)=>Rx([n,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!(i!=null&&i.length))return;const s=i.filter(o=>r.links&&(r.links.frequency>=gj||this._getLinkFrequency(n,o.destination)<=r.links.frequency));for(const o of s)this._drawTriangles(r,n,o,s),o.opacity>Ix&&(n.retina.linksWidth??cp)>cp&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class vj{constructor(){this.id="links"}getPlugin(e){return Promise.resolve(new yj(e))}loadOptions(){}needsPlugin(){return!0}}async function wj(t,e=!0){const n=new vj;await t.addPlugin(n,e)}async function _j(t,e=!0){await cj(t,e),await wj(t,e)}const xj=180,wc={x:0,y:0},Ej=2;function Tj(t,e,n){const{context:i}=t,r=n.count.numerator*n.count.denominator,s=n.count.numerator/n.count.denominator,o=xj*(s-Ej)/s,a=Math.PI-_r(o);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(wc.x,wc.y);for(let l=0;l<r;l++)i.lineTo(n.length,wc.y),i.translate(n.length,wc.y),i.rotate(a)}}const Sj=5;class BP{draw(e){const{particle:n,radius:i}=e,r=this.getCenter(n,i),s=this.getSidesData(n,i);Tj(e,r,s)}getSidesCount(e){const n=e.shapeData;return Math.round(Q((n==null?void 0:n.sides)??Sj))}}const Ax=3.5,Dx=2.66,bj=3;class Cj extends BP{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/Ax),y:-n/(Dx/Ax)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*Dx/(i/bj)}}}const Pj=1.66,Rj=3,Ij=2;class kj extends BP{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/Pj}}getSidesCount(){return Rj}getSidesData(e,n){const i=n*Ij;return{count:{denominator:2,numerator:3},length:i}}}async function Aj(t,e=!0){await t.addShape(new Cj,e)}async function Dj(t,e=!0){await t.addShape(new kj,e)}async function Mj(t,e=!0){await Aj(t,e),await Dj(t,e)}class Oj{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=me(e.speed)),e.decay!==void 0&&(this.decay=me(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Vj extends Ms{constructor(){super(),this.animation=new Oj,this.direction=bn.clockwise,this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const UP=2,Nj=Math.PI*UP,Lj=1,Fj=360;class zj{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:_r(Q(n.value)),min:0,max:Nj},e.pathRotation=n.path;let i=n.direction;switch(i===bn.random&&(i=Math.floor(Ie()*UP)>0?bn.counterClockwise:bn.clockwise),i){case bn.counterClockwise:case"counterClockwise":e.rotate.status=Ye.decreasing;break;case bn.clockwise:e.rotate.status=Ye.increasing;break}const r=n.animation;r.enable&&(e.rotate.decay=Lj-Q(r.decay),e.rotate.velocity=Q(r.speed)/Fj*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ie())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new Vj);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(dv(e,e.rotate,!1,Cs.none,n),e.rotation=e.rotate.value))}}async function jj(t,e=!0){await t.addParticleUpdater("rotate",n=>Promise.resolve(new zj(n)),e)}const Bj=2,Uj=Math.sqrt(Bj),$j=2;function Hj(t){const{context:e,radius:n}=t,i=n/Uj,r=i*$j;e.rect(-i,-i,r,r)}const qj=4;class Wj{constructor(){this.validTypes=["edge","square"]}draw(e){Hj(e)}getSidesCount(){return qj}}async function Kj(t,e=!0){await t.addShape(new Wj,e)}const Gj=2,qs={x:0,y:0};function Qj(t){const{context:e,particle:n,radius:i}=t,r=n.sides,s=n.starInset??Gj;e.moveTo(qs.x,qs.y-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(qs.x,qs.y-i*s),e.rotate(Math.PI/r),e.lineTo(qs.x,qs.y-i)}const Yj=2,Xj=5;class Jj{constructor(){this.validTypes=["star"]}draw(e){Qj(e)}getSidesCount(e){const n=e.shapeData;return Math.round(Q((n==null?void 0:n.sides)??Xj))}particleInit(e,n){const i=n.shapeData;n.starInset=Q((i==null?void 0:i.inset)??Yj)}}async function Zj(t,e=!0){await t.addShape(new Jj,e)}const e8=1;class t8{constructor(e){this.container=e}init(e){var o;const n=this.container,i=e.options,r=Bn(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=Q(r.width)*n.retina.pixelRatio,e.strokeOpacity=Q(r.opacity??e8),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=Gl(r.color)??e.getFillColor();s&&(e.strokeColor=SP(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&bP(e.strokeColor,n)}}async function n8(t,e=!0){await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new t8(n)),e)}async function i8(t,e=!0){await $z(t,!1),await KF(t,!1),await n6(t,!1),await c6(t,!1),await _6(t,!1),await k6(t,!1),await M6(t,!1),await F6(t,!1),await U6(t,!1),await Z6(t,!1),await rz(t,!1),await Wz(t,!1),await tj(t,!1),await _j(t,!1),await LF(),await jF(t,!1),await kz(t,!1),await Bz(t,!1),await Mj(t,!1),await Kj(t,!1),await Zj(t,!1),await Lz(t,!1),await jj(t,!1),await n8(t,!1),await NF(t,e)}const r8=t=>{const{id:e,className:n,background:i,minSize:r,maxSize:s,speed:o,particleColor:a,particleDensity:l}=t,[c,h]=z.useState(!1);z.useEffect(()=>{tF(async w=>{await i8(w)}).then(()=>{h(!0)})},[]);const d=Z5(),f=async w=>{w&&d.start({opacity:1,transition:{duration:1}})},m=z.useId();return O.jsx(Po.div,{animate:d,className:"opacity-0",children:c&&O.jsx(eF,{id:e||m,className:"h-full w-full",particlesLoaded:f,options:{background:{color:{value:i||"#0d47a1"}},fullScreen:{enable:!1,zIndex:1},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!1,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{bounce:{horizontal:{value:1},vertical:{value:1}},collisions:{absorb:{speed:2},bounce:{horizontal:{value:1},vertical:{value:1}},enable:!1,maxSpeed:50,mode:"bounce",overlap:{enable:!0,retries:0}},color:{value:a||"#ffffff",animation:{h:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},s:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},l:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0}}},effect:{close:!0,fill:!0,options:{},type:{}},groups:{},move:{angle:{offset:0,value:90},attract:{distance:200,enable:!1,rotate:{x:3e3,y:3e3}},center:{x:50,y:50,mode:"percent",radius:0},decay:0,distance:{},direction:"none",drift:0,enable:!0,gravity:{acceleration:9.81,enable:!1,inverse:!1,maxSpeed:50},path:{clamp:!0,delay:{value:0},enable:!1,options:{}},outModes:{default:"out"},random:!1,size:!1,speed:{min:.1,max:1},spin:{acceleration:0,enable:!1},straight:!1,trail:{enable:!1,length:10,fill:{}},vibrate:!1,warp:!1},number:{density:{enable:!0,width:400,height:400},limit:{mode:"delete",value:0},value:l||120},opacity:{value:{min:.1,max:1},animation:{count:0,enable:!0,speed:o||4,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},reduceDuplicates:!1,shadow:{blur:0,color:{value:"#000"},enable:!1,offset:{x:0,y:0}},shape:{close:!0,fill:!0,options:{},type:"circle"},size:{value:{min:r||1,max:s||3},animation:{count:0,enable:!1,speed:5,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},stroke:{width:0},zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1},destroy:{bounds:{},mode:"none",split:{count:1,factor:{value:3},rate:{value:{min:4,max:9}},sizeOffset:!0}},roll:{darken:{enable:!1,value:0},enable:!1,enlighten:{enable:!1,value:0},mode:"vertical",speed:25},tilt:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",enable:!1},twinkle:{lines:{enable:!1,frequency:.05,opacity:1},particles:{enable:!1,frequency:.05,opacity:1}},wobble:{distance:5,enable:!1,speed:{angle:50,move:10}},life:{count:0,delay:{value:0,sync:!1},duration:{value:0,sync:!1}},rotate:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",path:!1},orbit:{animation:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!1},enable:!1,opacity:1,rotation:{value:45},width:1},links:{blink:!1,color:{value:"#fff"},consent:!1,distance:100,enable:!1,frequency:1,opacity:1,shadow:{blur:5,color:{value:"#000"},enable:!1},triangles:{enable:!1,frequency:1},width:1,warp:!1},repulse:{value:0,enabled:!1,distance:1,duration:1,factor:1,speed:1}},detectRetina:!0}})})},s8=()=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-ellipsis-vertical",children:[O.jsx("circle",{cx:"12",cy:"12",r:"1"}),O.jsx("circle",{cx:"12",cy:"5",r:"1"}),O.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),o8=({firstImage:t="",secondImage:e="",initialSliderPercentage:n=50,slideMode:i="hover",showHandlebar:r=!0,autoplay:s=!1,autoplayDuration:o=5e3})=>{const[a,l]=z.useState(n),[c,h]=z.useState(!1),d=z.useRef(null),[f,m]=z.useState(!1),w=z.useRef(null),_=z.useCallback(()=>{if(!s)return;const D=Date.now(),I=()=>{const J=(Date.now()-D)%(o*2)/o,ge=J<=1?J*100:(2-J)*100;l(ge),w.current=setTimeout(I,16)};I()},[s,o]),R=z.useCallback(()=>{w.current&&(clearTimeout(w.current),w.current=null)},[]);z.useEffect(()=>(_(),()=>R()),[_,R]);function x(){m(!0),R()}function y(){m(!1),i==="hover"&&l(n),i==="drag"&&h(!1),_()}const v=z.useCallback(D=>{i==="drag"&&h(!0)},[i]),C=z.useCallback(()=>{i==="drag"&&h(!1)},[i]),A=z.useCallback(D=>{if(d.current&&(i==="hover"||i==="drag"&&c)){const I=d.current.getBoundingClientRect(),J=(D-I.left)/I.width*100;requestAnimationFrame(()=>{l(Math.max(0,Math.min(100,J)))})}},[i,c]),M=z.useCallback(D=>v(D.clientX),[v]),T=z.useCallback(()=>C(),[C]),E=z.useCallback(D=>A(D.clientX),[A]),b=z.useCallback(D=>{s||v(D.touches[0].clientX)},[v,s]),P=z.useCallback(()=>{s||C()},[C,s]),k=z.useCallback(D=>{s||A(D.touches[0].clientX)},[A,s]);return O.jsxs("div",{ref:d,className:"w-[500px] h-[500px] overflow-hidden",style:{position:"relative",cursor:i==="drag"?"grab":"col-resize"},onMouseMove:E,onMouseLeave:y,onMouseEnter:x,onMouseDown:M,onMouseUp:T,onTouchStart:b,onTouchEnd:P,onTouchMove:k,children:[O.jsx(Uc,{initial:!1,children:O.jsxs(Po.div,{className:"h-full w-px absolute top-0 m-auto z-30 bg-gradient-to-b from-transparent from-[5%] to-[95%] via-indigo-500 to-transparent",style:{left:`${a}%`,top:"0",zIndex:40},transition:{duration:0},children:[O.jsx("div",{className:"w-36 h-full [mask-image:radial-gradient(100px_at_left,white,transparent)] absolute top-1/2 -translate-y-1/2 left-0 bg-gradient-to-r from-indigo-400 via-transparent to-transparent z-20 opacity-50"}),O.jsx("div",{className:"w-10 h-1/2 [mask-image:radial-gradient(50px_at_left,white,transparent)] absolute top-1/2 -translate-y-1/2 left-0 bg-gradient-to-r from-cyan-400 via-transparent to-transparent z-10 opacity-100"}),O.jsx("div",{className:"w-10 h-3/4 top-1/2 -translate-y-1/2 absolute -right-10 [mask-image:radial-gradient(100px_at_left,white,transparent)]",children:O.jsx(a8,{background:"transparent",minSize:.4,maxSize:1,particleDensity:1200,className:"w-full h-full",particleColor:"#FFFFFF"})}),r&&O.jsx("div",{className:"h-5 w-5 rounded-md top-1/2 -translate-y-1/2 bg-white z-30 -right-2.5 absolute   flex items-center justify-center shadow-[0px_-1px_0px_0px_#FFFFFF40]",children:O.jsx(s8,{})})]})}),O.jsx("div",{className:"overflow-hidden w-full h-full relative z-20 pointer-events-none",children:O.jsx(Uc,{initial:!1,children:t?O.jsx(Po.div,{className:"absolute inset-0 z-20 rounded-2xl flex-shrink-0 w-full h-full select-none overflow-hidden",style:{clipPath:`inset(0 ${100-a}% 0 0)`},transition:{duration:0},children:O.jsx("img",{alt:"first image",src:t,className:"absolute inset-0  z-20 rounded-2xl object-fill flex-shrink-0 w-full h-full select-none",draggable:!1})}):null})}),O.jsx(Uc,{initial:!1,children:e?O.jsx(Po.img,{className:"absolute top-0 left-0 z-[19] object-fill rounded-2xl w-full h-full select-none",alt:"second image",src:e,draggable:!1}):null})]})},a8=L.memo(r8),l8="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),u8=t=>Math.floor(Math.random()*t);function c8({text:t,duration:e=800,framerProps:n={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:3}},className:i,animateOnLoad:r=!0}){const[s,o]=z.useState(t.split("")),[a,l]=z.useState(!1),c=z.useRef(0),h=z.useRef(!0),d=()=>{c.current=0,l(!0)};return z.useEffect(()=>{const f=setInterval(()=>{if(!r&&h.current){clearInterval(f),h.current=!1;return}c.current<t.length?(o(m=>m.map((w,_)=>w===" "?w:_<=c.current?t[_]:l8[u8(26)])),c.current=c.current+.1):(l(!1),clearInterval(f))},e/(t.length*10));return()=>clearInterval(f)},[t,e,a,r]),O.jsx("div",{className:"overflow-hidden py-2 flex cursor-default scale-100",onMouseEnter:d,children:O.jsx(Uc,{mode:"wait",children:s.map((f,m)=>O.jsx(Po.h1,{className:"font-mono text-4xl font-bold text-black dark:text-white",style:{width:f===" "?"0.5em":"auto"},...n,children:f.toUpperCase()},m))})})}function h8(){return O.jsxs("div",{className:"p-4 flex flex-col justify-center items-center border rounded-3xl dark:bg-neutral-900 bg-neutral-100  border-neutral-200 dark:border-neutral-800 ",children:[O.jsx(c8,{text:"Code Buddy"}),O.jsx(o8,{firstImage:"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DA39FTD8-BNlfJu3kGMSsQ.png",secondImage:"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EKeb_lwFZKi3ht-0N8_Diw.png",firstImageClassName:"object-cover object-left-top",secondImageClassname:"object-cover object-left-top",slideMode:"hover"})," ",O.jsxs("h2",{className:"mt-[.5rem] text-[1rem]",children:["Let's begin with the ",O.jsx("span",{className:"text-[#5046e6]",children:"Top Button"})]})]})}const d8=()=>{const{state:t}=L.useContext(iu),[e,n]=L.useState(!1);return O.jsxs("div",{className:"h-full w-full relative flex flex-col",children:[O.jsx(bk,{richColors:!0,expand:!0,closeButton:!0,visibleToasts:5,toastOptions:{duration:10*1e3}}),O.jsxs("div",{className:"flex justify-between items-center w-full bg-[--color-tabset-tabbar-background] h-9 rounded-t-lg p-2 overflow-x-auto overflow-y-hidden",children:[O.jsx("h2",{className:"text-lg font-medium",children:"Code Buddy"}),O.jsx("button",{className:"hover:text-label-1 dark:hover:text-dark-label-1 flex cursor-pointer items-center justify-center rounded-md w-6 h-6 hover:bg-fill-secondary p-1",id:"headlessui-menu-button-:r3q:",type:"button","aria-haspopup":"true","aria-expanded":"false","data-headlessui-state":"",onClick:()=>n(i=>!i),children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",className:"hover:text-gray-7 dark:hover:text-dark-gray-7 text-text-secondary dark:text-text-secondary w-4 h-4",children:O.jsx("path",{"fill-rule":"evenodd",d:"M4.4 14a2 2 0 100-4 2 2 0 000 4zm9.6-2a2 2 0 11-4 0 2 2 0 014 0zm7.6 0a2 2 0 11-4 0 2 2 0 014 0z","clip-rule":"evenodd"})})})]}),O.jsxs("div",{className:"h-full w-full relative overflow-hidden",children:[O.jsx(w4,{displayMenu:e,setDisplayMenu:n}),t===ni.HOME&&(localStorage.getItem("curRoomId")?O.jsx("div",{className:"absolute inset-0 h-full w-full flex justify-center items-center",children:O.jsx(e3,{numberOfUsers:JSON.parse(localStorage.getItem("curRoomId")||"{}").numberOfUsers})}):O.jsx("div",{className:"absolute inset-0 h-full w-full flex justify-center items-center",children:O.jsx(h8,{})})),O.jsx(C4,{})]})]})};var vv={exports:{}},vu={},kd={exports:{}},$P={},HP={exports:{}},f8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",p8=f8,m8=p8;function qP(){}function WP(){}WP.resetWarningCache=qP;var g8=function(){function t(i,r,s,o,a,l){if(l!==m8){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WP,resetWarningCache:qP};return n.PropTypes=n,n};HP.exports=g8();var Ad=HP.exports;function KP(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=KP(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function Mx(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=KP(t))&&(i&&(i+=" "),i+=e);return i}const y8=Object.freeze(Object.defineProperty({__proto__:null,clsx:Mx,default:Mx},Symbol.toStringTag,{value:"Module"})),v8=IR(y8);var Ue={},pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.dontSetMe=T8;pi.findInArray=w8;pi.int=E8;pi.isFunction=_8;pi.isNum=x8;function w8(t,e){for(let n=0,i=t.length;n<i;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function _8(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function x8(t){return typeof t=="number"&&!isNaN(t)}function E8(t){return parseInt(t,10)}function T8(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.browserPrefixToKey=QP;Os.browserPrefixToStyle=S8;Os.default=void 0;Os.getPrefix=GP;const hp=["Moz","Webkit","O","ms"];function GP(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let i=0;i<hp.length;i++)if(QP(e,hp[i])in n)return hp[i];return""}function QP(t,e){return e?"".concat(e).concat(b8(t)):t}function S8(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function b8(t){let e="",n=!0;for(let i=0;i<t.length;i++)n?(e+=t[i].toUpperCase(),n=!1):t[i]==="-"?n=!0:e+=t[i];return e}Os.default=GP();Object.defineProperty(Ue,"__esModule",{value:!0});Ue.addClassName=JP;Ue.addEvent=R8;Ue.addUserSelectStyles=z8;Ue.createCSSTransform=V8;Ue.createSVGTransform=N8;Ue.getTouch=L8;Ue.getTouchIdentifier=F8;Ue.getTranslation=wv;Ue.innerHeight=D8;Ue.innerWidth=M8;Ue.matchesSelector=XP;Ue.matchesSelectorAndParentsTo=P8;Ue.offsetXYFromParent=O8;Ue.outerHeight=k8;Ue.outerWidth=A8;Ue.removeClassName=ZP;Ue.removeEvent=I8;Ue.removeUserSelectStyles=j8;var mn=pi,Ox=C8(Os);function YP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(YP=function(i){return i?n:e})(t)}function C8(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=YP(e);if(n&&n.has(t))return n.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}let _c="";function XP(t,e){return _c||(_c=(0,mn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,mn.isFunction)(t[n])})),(0,mn.isFunction)(t[_c])?t[_c](e):!1}function P8(t,e,n){let i=t;do{if(XP(i,e))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1}function R8(t,e,n,i){if(!t)return;const r={capture:!0,...i};t.addEventListener?t.addEventListener(e,n,r):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function I8(t,e,n,i){if(!t)return;const r={capture:!0,...i};t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function k8(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,mn.int)(n.borderTopWidth),e+=(0,mn.int)(n.borderBottomWidth),e}function A8(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,mn.int)(n.borderLeftWidth),e+=(0,mn.int)(n.borderRightWidth),e}function D8(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,mn.int)(n.paddingTop),e-=(0,mn.int)(n.paddingBottom),e}function M8(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,mn.int)(n.paddingLeft),e-=(0,mn.int)(n.paddingRight),e}function O8(t,e,n){const r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(t.clientX+e.scrollLeft-r.left)/n,o=(t.clientY+e.scrollTop-r.top)/n;return{x:s,y:o}}function V8(t,e){const n=wv(t,e,"px");return{[(0,Ox.browserPrefixToKey)("transform",Ox.default)]:n}}function N8(t,e){return wv(t,e,"")}function wv(t,e,n){let{x:i,y:r}=t,s="translate(".concat(i).concat(n,",").concat(r).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);s="translate(".concat(o,", ").concat(a,")")+s}return s}function L8(t,e){return t.targetTouches&&(0,mn.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,mn.findInArray)(t.changedTouches,n=>e===n.identifier)}function F8(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function z8(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&JP(t.body,"react-draggable-transparent-selection")}function j8(t){if(t)try{if(t.body&&ZP(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function JP(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function ZP(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.canDragX=$8;mi.canDragY=H8;mi.createCoreData=W8;mi.createDraggableData=K8;mi.getBoundPosition=B8;mi.getControlPosition=q8;mi.snapToGrid=U8;var sn=pi,yo=Ue;function B8(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:i}=t.props;i=typeof i=="string"?i:G8(i);const r=_v(t);if(typeof i=="string"){const{ownerDocument:s}=r,o=s.defaultView;let a;if(i==="parent"?a=r.parentNode:a=s.querySelector(i),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const l=a,c=o.getComputedStyle(r),h=o.getComputedStyle(l);i={left:-r.offsetLeft+(0,sn.int)(h.paddingLeft)+(0,sn.int)(c.marginLeft),top:-r.offsetTop+(0,sn.int)(h.paddingTop)+(0,sn.int)(c.marginTop),right:(0,yo.innerWidth)(l)-(0,yo.outerWidth)(r)-r.offsetLeft+(0,sn.int)(h.paddingRight)-(0,sn.int)(c.marginRight),bottom:(0,yo.innerHeight)(l)-(0,yo.outerHeight)(r)-r.offsetTop+(0,sn.int)(h.paddingBottom)-(0,sn.int)(c.marginBottom)}}return(0,sn.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,sn.isNum)(i.bottom)&&(n=Math.min(n,i.bottom)),(0,sn.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,sn.isNum)(i.top)&&(n=Math.max(n,i.top)),[e,n]}function U8(t,e,n){const i=Math.round(e/t[0])*t[0],r=Math.round(n/t[1])*t[1];return[i,r]}function $8(t){return t.props.axis==="both"||t.props.axis==="x"}function H8(t){return t.props.axis==="both"||t.props.axis==="y"}function q8(t,e,n){const i=typeof e=="number"?(0,yo.getTouch)(t,e):null;if(typeof e=="number"&&!i)return null;const r=_v(n),s=n.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,yo.offsetXYFromParent)(i||t,s,n.props.scale)}function W8(t,e,n){const i=!(0,sn.isNum)(t.lastX),r=_v(t);return i?{node:r,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:r,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function K8(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function G8(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function _v(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var Dd={},Md={};Object.defineProperty(Md,"__esModule",{value:!0});Md.default=Q8;function Q8(){}Object.defineProperty(Dd,"__esModule",{value:!0});Dd.default=void 0;var dp=X8(z),Qt=xv(Ad),Y8=xv(Zh),Tt=Ue,Xi=mi,fp=pi,Ua=xv(Md);function xv(t){return t&&t.__esModule?t:{default:t}}function eR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(eR=function(i){return i?n:e})(t)}function X8(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=eR(e);if(n&&n.has(t))return n.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}function Ft(t,e,n){return e=J8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J8(t){var e=Z8(t,"string");return typeof e=="symbol"?e:String(e)}function Z8(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Vn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ji=Vn.mouse,Od=class extends dp.Component{constructor(){super(...arguments),Ft(this,"dragging",!1),Ft(this,"lastX",NaN),Ft(this,"lastY",NaN),Ft(this,"touchIdentifier",null),Ft(this,"mounted",!1),Ft(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=n;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,Tt.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Tt.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const r=(0,Tt.getTouchIdentifier)(e);this.touchIdentifier=r;const s=(0,Xi.getControlPosition)(e,r,this);if(s==null)return;const{x:o,y:a}=s,l=(0,Xi.createCoreData)(this,o,a);(0,Ua.default)("DraggableCore: handleDragStart: %j",l),(0,Ua.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Tt.addUserSelectStyles)(i),this.dragging=!0,this.lastX=o,this.lastY=a,(0,Tt.addEvent)(i,Ji.move,this.handleDrag),(0,Tt.addEvent)(i,Ji.stop,this.handleDragStop))}),Ft(this,"handleDrag",e=>{const n=(0,Xi.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:i,y:r}=n;if(Array.isArray(this.props.grid)){let a=i-this.lastX,l=r-this.lastY;if([a,l]=(0,Xi.snapToGrid)(this.props.grid,a,l),!a&&!l)return;i=this.lastX+a,r=this.lastY+l}const s=(0,Xi.createCoreData)(this,i,r);if((0,Ua.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=i,this.lastY=r}),Ft(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Xi.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:i,y:r}=n;if(Array.isArray(this.props.grid)){let l=i-this.lastX||0,c=r-this.lastY||0;[l,c]=(0,Xi.snapToGrid)(this.props.grid,l,c),i=this.lastX+l,r=this.lastY+c}const s=(0,Xi.createCoreData)(this,i,r);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Tt.removeUserSelectStyles)(a.ownerDocument),(0,Ua.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Ua.default)("DraggableCore: Removing handlers"),(0,Tt.removeEvent)(a.ownerDocument,Ji.move,this.handleDrag),(0,Tt.removeEvent)(a.ownerDocument,Ji.stop,this.handleDragStop))}),Ft(this,"onMouseDown",e=>(Ji=Vn.mouse,this.handleDragStart(e))),Ft(this,"onMouseUp",e=>(Ji=Vn.mouse,this.handleDragStop(e))),Ft(this,"onTouchStart",e=>(Ji=Vn.touch,this.handleDragStart(e))),Ft(this,"onTouchEnd",e=>(Ji=Vn.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Tt.addEvent)(e,Vn.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Tt.removeEvent)(n,Vn.mouse.move,this.handleDrag),(0,Tt.removeEvent)(n,Vn.touch.move,this.handleDrag),(0,Tt.removeEvent)(n,Vn.mouse.stop,this.handleDragStop),(0,Tt.removeEvent)(n,Vn.touch.stop,this.handleDragStop),(0,Tt.removeEvent)(e,Vn.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Tt.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Y8.default.findDOMNode(this)}render(){return dp.cloneElement(dp.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Dd.default=Od;Ft(Od,"displayName","DraggableCore");Ft(Od,"propTypes",{allowAnyClick:Qt.default.bool,children:Qt.default.node.isRequired,disabled:Qt.default.bool,enableUserSelectHack:Qt.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Qt.default.arrayOf(Qt.default.number),handle:Qt.default.string,cancel:Qt.default.string,nodeRef:Qt.default.object,onStart:Qt.default.func,onDrag:Qt.default.func,onStop:Qt.default.func,onMouseDown:Qt.default.func,scale:Qt.default.number,className:fp.dontSetMe,style:fp.dontSetMe,transform:fp.dontSetMe});Ft(Od,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=f(z),n=h(Ad),i=h(Zh),r=h(v8),s=Ue,o=mi,a=pi,l=h(Dd),c=h(Md);function h(y){return y&&y.__esModule?y:{default:y}}function d(y){if(typeof WeakMap!="function")return null;var v=new WeakMap,C=new WeakMap;return(d=function(A){return A?C:v})(y)}function f(y,v){if(y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var C=d(v);if(C&&C.has(y))return C.get(y);var A={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in y)if(T!=="default"&&Object.prototype.hasOwnProperty.call(y,T)){var E=M?Object.getOwnPropertyDescriptor(y,T):null;E&&(E.get||E.set)?Object.defineProperty(A,T,E):A[T]=y[T]}return A.default=y,C&&C.set(y,A),A}function m(){return m=Object.assign?Object.assign.bind():function(y){for(var v=1;v<arguments.length;v++){var C=arguments[v];for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(y[A]=C[A])}return y},m.apply(this,arguments)}function w(y,v,C){return v=_(v),v in y?Object.defineProperty(y,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[v]=C,y}function _(y){var v=R(y,"string");return typeof v=="symbol"?v:String(v)}function R(y,v){if(typeof y!="object"||y===null)return y;var C=y[Symbol.toPrimitive];if(C!==void 0){var A=C.call(y,v||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(y)}class x extends e.Component{static getDerivedStateFromProps(v,C){let{position:A}=v,{prevPropsPosition:M}=C;return A&&(!M||A.x!==M.x||A.y!==M.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:A,prevPropsPosition:M}),{x:A.x,y:A.y,prevPropsPosition:{...A}}):null}constructor(v){super(v),w(this,"onDragStart",(C,A)=>{if((0,c.default)("Draggable: onDragStart: %j",A),this.props.onStart(C,(0,o.createDraggableData)(this,A))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(C,A)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",A);const M=(0,o.createDraggableData)(this,A),T={x:M.x,y:M.y,slackX:0,slackY:0};if(this.props.bounds){const{x:b,y:P}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[k,D]=(0,o.getBoundPosition)(this,T.x,T.y);T.x=k,T.y=D,T.slackX=this.state.slackX+(b-T.x),T.slackY=this.state.slackY+(P-T.y),M.x=T.x,M.y=T.y,M.deltaX=T.x-this.state.x,M.deltaY=T.y-this.state.y}if(this.props.onDrag(C,M)===!1)return!1;this.setState(T)}),w(this,"onDragStop",(C,A)=>{if(!this.state.dragging||this.props.onStop(C,(0,o.createDraggableData)(this,A))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",A);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:b,y:P}=this.props.position;T.x=b,T.y=P}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,C;return(v=(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current)!==null&&v!==void 0?v:i.default.findDOMNode(this)}render(){const{axis:v,bounds:C,children:A,defaultPosition:M,defaultClassName:T,defaultClassNameDragging:E,defaultClassNameDragged:b,position:P,positionOffset:k,scale:D,...I}=this.props;let K={},J=null;const ke=!!!P||this.state.dragging,F=P||M,q={x:(0,o.canDragX)(this)&&ke?this.state.x:F.x,y:(0,o.canDragY)(this)&&ke?this.state.y:F.y};this.state.isElementSVG?J=(0,s.createSVGTransform)(q,k):K=(0,s.createCSSTransform)(q,k);const te=(0,r.default)(A.props.className||"",T,{[E]:this.state.dragging,[b]:this.state.dragged});return e.createElement(l.default,m({},I,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(A),{className:te,style:{...A.props.style,...K},transform:J}))}}t.default=x,w(x,"displayName","Draggable"),w(x,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),w(x,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})($P);const{default:tR,DraggableCore:eB}=$P;kd.exports=tR;kd.exports.default=tR;kd.exports.DraggableCore=eB;var tB=kd.exports,Ev={};Ev.__esModule=!0;Ev.cloneElement=aB;var nB=iB(z);function iB(t){return t&&t.__esModule?t:{default:t}}function Vx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Nx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vx(Object(n),!0).forEach(function(i){rB(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vx(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rB(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=oB(t,"string");return typeof e=="symbol"?e:String(e)}function oB(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aB(t,e){return e.style&&t.props.style&&(e.style=Nx(Nx({},t.props.style),e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),nB.default.cloneElement(t,e)}var wu={};wu.__esModule=!0;wu.resizableProps=void 0;var ae=lB(Ad);function lB(t){return t&&t.__esModule?t:{default:t}}var uB={axis:ae.default.oneOf(["both","x","y","none"]),className:ae.default.string,children:ae.default.element.isRequired,draggableOpts:ae.default.shape({allowAnyClick:ae.default.bool,cancel:ae.default.string,children:ae.default.node,disabled:ae.default.bool,enableUserSelectHack:ae.default.bool,offsetParent:ae.default.node,grid:ae.default.arrayOf(ae.default.number),handle:ae.default.string,nodeRef:ae.default.object,onStart:ae.default.func,onDrag:ae.default.func,onStop:ae.default.func,onMouseDown:ae.default.func,scale:ae.default.number}),height:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n[0];if(r.axis==="both"||r.axis==="y"){var s;return(s=ae.default.number).isRequired.apply(s,n)}return ae.default.number.apply(ae.default,n)},handle:ae.default.oneOfType([ae.default.node,ae.default.func]),handleSize:ae.default.arrayOf(ae.default.number),lockAspectRatio:ae.default.bool,maxConstraints:ae.default.arrayOf(ae.default.number),minConstraints:ae.default.arrayOf(ae.default.number),onResizeStop:ae.default.func,onResizeStart:ae.default.func,onResize:ae.default.func,resizeHandles:ae.default.arrayOf(ae.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:ae.default.number,width:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n[0];if(r.axis==="both"||r.axis==="x"){var s;return(s=ae.default.number).isRequired.apply(s,n)}return ae.default.number.apply(ae.default,n)}};wu.resizableProps=uB;vu.__esModule=!0;vu.default=void 0;var $a=pB(z),cB=tB,hB=Ev,dB=wu,fB=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function nR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(nR=function(r){return r?n:e})(t)}function pB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=nR(e);if(n&&n.has(t))return n.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},eg.apply(this,arguments)}function mB(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lx(Object(n),!0).forEach(function(i){gB(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function gB(t,e,n){return e=yB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yB(t){var e=vB(t,"string");return typeof e=="symbol"?e:String(e)}function vB(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tg(t,e)}function tg(t,e){return tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},tg(t,e)}var Tv=function(t){wB(e,t);function e(){for(var i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,i.handleRefs={},i.lastHandleRect=null,i.slack=null,i}var n=e.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(r,s){var o=this.props,a=o.minConstraints,l=o.maxConstraints,c=o.lockAspectRatio;if(!a&&!l&&!c)return[r,s];if(c){var h=this.props.width/this.props.height,d=r-this.props.width,f=s-this.props.height;Math.abs(d)>Math.abs(f*h)?s=r/h:r=s*h}var m=r,w=s,_=this.slack||[0,0],R=_[0],x=_[1];return r+=R,s+=x,a&&(r=Math.max(a[0],r),s=Math.max(a[1],s)),l&&(r=Math.min(l[0],r),s=Math.min(l[1],s)),this.slack=[R+(m-r),x+(w-s)],[r,s]},n.resizeHandler=function(r,s){var o=this;return function(a,l){var c=l.node,h=l.deltaX,d=l.deltaY;r==="onResizeStart"&&o.resetData();var f=(o.props.axis==="both"||o.props.axis==="x")&&s!=="n"&&s!=="s",m=(o.props.axis==="both"||o.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!f&&!m)){var w=s[0],_=s[s.length-1],R=c.getBoundingClientRect();if(o.lastHandleRect!=null){if(_==="w"){var x=R.left-o.lastHandleRect.left;h+=x}if(w==="n"){var y=R.top-o.lastHandleRect.top;d+=y}}o.lastHandleRect=R,_==="w"&&(h=-h),w==="n"&&(d=-d);var v=o.props.width+(f?h/o.props.transformScale:0),C=o.props.height+(m?d/o.props.transformScale:0),A=o.runConstraints(v,C);v=A[0],C=A[1];var M=v!==o.props.width||C!==o.props.height,T=typeof o.props[r]=="function"?o.props[r]:null,E=r==="onResize"&&!M;T&&!E&&(a.persist==null||a.persist(),T(a,{node:c,size:{width:v,height:C},handle:s})),r==="onResizeStop"&&o.resetData()}}},n.renderResizeHandle=function(r,s){var o=this.props.handle;if(!o)return $a.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+r,ref:s});if(typeof o=="function")return o(r,s);var a=typeof o.type=="string",l=pp({ref:s},a?{}:{handleAxis:r});return $a.cloneElement(o,l)},n.render=function(){var r=this,s=this.props,o=s.children,a=s.className,l=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var c=s.resizeHandles;s.transformScale;var h=mB(s,fB);return(0,hB.cloneElement)(o,pp(pp({},h),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(o.props.children,c.map(function(d){var f,m=(f=r.handleRefs[d])!=null?f:r.handleRefs[d]=$a.createRef();return $a.createElement(cB.DraggableCore,eg({},l,{nodeRef:m,key:"resizableHandle-"+d,onStop:r.resizeHandler("onResizeStop",d),onStart:r.resizeHandler("onResizeStart",d),onDrag:r.resizeHandler("onResize",d)}),r.renderResizeHandle(d,m))}))}))},e}($a.Component);vu.default=Tv;Tv.propTypes=dB.resizableProps;Tv.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Vd={};Vd.__esModule=!0;Vd.default=void 0;var mp=SB(z),_B=iR(Ad),xB=iR(vu),EB=wu,TB=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function iR(t){return t&&t.__esModule?t:{default:t}}function rR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(rR=function(r){return r?n:e})(t)}function SB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=rR(e);if(n&&n.has(t))return n.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ng.apply(this,arguments)}function Fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fx(Object(n),!0).forEach(function(i){bB(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bB(t,e,n){return e=CB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CB(t){var e=PB(t,"string");return typeof e=="symbol"?e:String(e)}function PB(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RB(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function IB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ig(t,e)}function ig(t,e){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},ig(t,e)}var sR=function(t){IB(e,t);function e(){for(var i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,i.state={width:i.props.width,height:i.props.height,propsWidth:i.props.width,propsHeight:i.props.height},i.onResize=function(a,l){var c=l.size;i.props.onResize?(a.persist==null||a.persist(),i.setState(c,function(){return i.props.onResize&&i.props.onResize(a,l)})):i.setState(c)},i}e.getDerivedStateFromProps=function(r,s){return s.propsWidth!==r.width||s.propsHeight!==r.height?{width:r.width,height:r.height,propsWidth:r.width,propsHeight:r.height}:null};var n=e.prototype;return n.render=function(){var r=this.props,s=r.handle,o=r.handleSize;r.onResize;var a=r.onResizeStart,l=r.onResizeStop,c=r.draggableOpts,h=r.minConstraints,d=r.maxConstraints,f=r.lockAspectRatio,m=r.axis;r.width,r.height;var w=r.resizeHandles,_=r.style,R=r.transformScale,x=RB(r,TB);return mp.createElement(xB.default,{axis:m,draggableOpts:c,handle:s,handleSize:o,height:this.state.height,lockAspectRatio:f,maxConstraints:d,minConstraints:h,onResizeStart:a,onResize:this.onResize,onResizeStop:l,resizeHandles:w,transformScale:R,width:this.state.width},mp.createElement("div",ng({},x,{style:Nh(Nh({},_),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(mp.Component);Vd.default=sR;sR.propTypes=Nh(Nh({},EB.resizableProps),{},{children:_B.default.element});vv.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};vv.exports.Resizable=vu.default;var kB=vv.exports.ResizableBox=Vd.default;const AB=O.jsx("div",{className:"absolute left-0 flexlayout__splitter flexlayout__splitter_vert w-2 h-full hover:after:h-full hover:after:bg-[--color-splitter-drag] after:h-[20px] after:bg-[--color-splitter] cursor-ew-resize"}),DB=()=>O.jsx("div",{className:"relative flex items-start justify-center w-full ",children:O.jsx("span",{className:"absolute left-1/2 rotate-90 transform origin-left inline-block medium whitespace-nowrap font-medium",children:"CodeBuddy"})}),MB=t=>{const[e,n]=L.useState(null),i=40;return Nb(()=>{x4("editorPreference").then(n)}),e==null?null:O.jsx(kB,{width:e.width,axis:"x",resizeHandles:["w"],className:"h-full flex relative",handle:AB,minConstraints:[i,0],onResize:(r,s)=>n({...e,width:s.size.width,isCollapsed:s.size.width===i}),onResizeStop:(r,s)=>{_4({editorPreference:{...e,width:s.size.width,isCollapsed:s.size.width===i}}),Co({action:"updateEditorLayout",monacoEditorId:"CodeBuddy"})},children:O.jsxs("div",{className:"w-full box-border ml-2 rounded-lg bg-layer-1 dark:bg-dark-layer-1 h-full",children:[e.isCollapsed&&O.jsx(DB,{}),O.jsxs("div",{className:`h-full w-full ${e.isCollapsed?"hidden":""}`,children:[O.jsx("div",{id:"trackEditor",className:"hidden"}),t.children]})]})})},OB=()=>{const[t,e]=L.useState({status:"UNAUTHENTICATED"});return Nb(()=>{Co({action:"cookie"}).then(e)}),t.status==="AUTHENTICATED"?O.jsx(MB,{children:O.jsx(Ak,{user:t.user,children:O.jsx(y4,{children:O.jsx(d8,{})})})}):null},zx=5e3,VB="#qd-content",jx="CodeBuddy";p4(VB,zx).then(t=>{const e=document.createElement("div");e.id=jx,t.insertAdjacentElement("afterend",e),eS(e).render(O.jsx(L.StrictMode,{children:O.jsx(OB,{})}))}).catch(t=>console.error(`Unable to mount ${jx} within ${zx}ms - most likely due to LeetCode changing HTML page`));
